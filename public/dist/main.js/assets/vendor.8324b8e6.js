var Jv=Object.defineProperty,tg=Object.defineProperties;var eg=Object.getOwnPropertyDescriptors;var Sa=Object.getOwnPropertySymbols;var Zu=Object.prototype.hasOwnProperty,Ku=Object.prototype.propertyIsEnumerable;var Qu=(t,e,n)=>e in t?Jv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xo=(t,e)=>{for(var n in e||(e={}))Zu.call(e,n)&&Qu(t,n,e[n]);if(Sa)for(var n of Sa(e))Ku.call(e,n)&&Qu(t,n,e[n]);return t},bo=(t,e)=>tg(t,eg(e));var Ju=(t,e)=>{var n={};for(var r in t)Zu.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Sa)for(var r of Sa(t))e.indexOf(r)<0&&Ku.call(t,r)&&(n[r]=t[r]);return n};function se(){}const ng=t=>t;function st(t,e){for(const n in e)t[n]=e[n];return t}function tc(t){return t()}function ec(){return Object.create(null)}function pn(t){t.forEach(tc)}function Ma(t){return typeof t=="function"}function $t(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function rg(t){return Object.keys(t).length===0}function nc(t,...e){if(t==null)return se;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function br(t,e,n){t.$$.on_destroy.push(nc(e,n))}function Oo(t,e,n,r){if(t){const a=rc(t,e,n,r);return t[0](a)}}function rc(t,e,n,r){return t[1]&&r?st(n.ctx.slice(),t[1](r(e))):n.ctx}function To(t,e,n,r){if(t[2]&&r){const a=t[2](r(n));if(e.dirty===void 0)return a;if(typeof a=="object"){const i=[],o=Math.max(e.dirty.length,a.length);for(let s=0;s<o;s+=1)i[s]=e.dirty[s]|a[s];return i}return e.dirty|a}return e.dirty}function wo(t,e,n,r,a,i){if(a){const o=rc(e,n,r,i);t.p(o,a)}}function Eo(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Mt(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Un(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function aU(t){return t&&Ma(t.destroy)?t.destroy:se}const ac=typeof window!="undefined";let ag=ac?()=>window.performance.now():()=>Date.now(),So=ac?t=>requestAnimationFrame(t):se;const Vn=new Set;function ic(t){Vn.forEach(e=>{e.c(t)||(Vn.delete(e),e.f())}),Vn.size!==0&&So(ic)}function ig(t){let e;return Vn.size===0&&So(ic),{promise:new Promise(n=>{Vn.add(e={c:t,f:n})}),abort(){Vn.delete(e)}}}function Mo(t,e){t.appendChild(e)}function oc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function og(t){const e=sc("style");return sg(oc(t),e),e}function sg(t,e){Mo(t.head||t,e)}function Zt(t,e,n){t.insertBefore(e,n||null)}function zt(t){t.parentNode.removeChild(t)}function iU(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function sc(t){return document.createElement(t)}function be(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ao(t){return document.createTextNode(t)}function oU(){return Ao(" ")}function Aa(){return Ao("")}function sU(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function ee(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function lc(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:ee(t,r,e[r])}function lg(t){return Array.from(t.childNodes)}function ug(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function uc(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}const Co=new Set;let Ca=0;function cg(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function cc(t,e,n,r,a,i,o,s=0){const l=16.666/r;let u=`{
`;for(let m=0;m<=1;m+=l){const x=e+(n-e)*i(m);u+=m*100+`%{${o(x,1-x)}}
`}const c=u+`100% {${o(n,1-n)}}
}`,h=`__svelte_${cg(c)}_${s}`,f=oc(t);Co.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=og(t).sheet),d=f.__svelte_rules||(f.__svelte_rules={});d[h]||(d[h]=!0,p.insertRule(`@keyframes ${h} ${c}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${h} ${r}ms linear ${a}ms 1 both`,Ca+=1,h}function fg(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),a=n.length-r.length;a&&(t.style.animation=r.join(", "),Ca-=a,Ca||hg())}function hg(){So(()=>{Ca||(Co.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),Co.clear())})}let Or;function Tr(t){Or=t}function wr(){if(!Or)throw new Error("Function called outside component initialization");return Or}function fc(t){wr().$$.on_mount.push(t)}function pg(t){wr().$$.on_destroy.push(t)}function dg(){const t=wr();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const a=uc(e,n);r.slice().forEach(i=>{i.call(t,a)})}}}function hc(t,e){wr().$$.context.set(t,e)}function Pa(t){return wr().$$.context.get(t)}function Gn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Er=[],dn=[],Da=[],Po=[],vg=Promise.resolve();let Do=!1;function gg(){Do||(Do=!0,vg.then(pc))}function La(t){Da.push(t)}function Ra(t){Po.push(t)}const Lo=new Set;let ka=0;function pc(){const t=Or;do{for(;ka<Er.length;){const e=Er[ka];ka++,Tr(e),mg(e.$$)}for(Tr(null),Er.length=0,ka=0;dn.length;)dn.pop()();for(let e=0;e<Da.length;e+=1){const n=Da[e];Lo.has(n)||(Lo.add(n),n())}Da.length=0}while(Er.length);for(;Po.length;)Po.pop()();Do=!1,Lo.clear(),Tr(t)}function mg(t){if(t.fragment!==null){t.update(),pn(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(La)}}let Sr;function yg(){return Sr||(Sr=Promise.resolve(),Sr.then(()=>{Sr=null})),Sr}function Ro(t,e,n){t.dispatchEvent(uc(`${e?"intro":"outro"}${n}`))}const Ia=new Set;let Ge;function ko(){Ge={r:0,c:[],p:Ge}}function Io(){Ge.r||pn(Ge.c),Ge=Ge.p}function At(t,e){t&&t.i&&(Ia.delete(t),t.i(e))}function Dt(t,e,n,r){if(t&&t.o){if(Ia.has(t))return;Ia.add(t),Ge.c.push(()=>{Ia.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const _g={duration:0};function lU(t,e,n,r){let a=e(t,n),i=r?0:1,o=null,s=null,l=null;function u(){l&&fg(t,l)}function c(f,p){const d=f.b-i;return p*=Math.abs(d),{a:i,b:f.b,d,duration:p,start:f.start,end:f.start+p,group:f.group}}function h(f){const{delay:p=0,duration:d=300,easing:g=ng,tick:m=se,css:x}=a||_g,y={start:ag()+p,b:f};f||(y.group=Ge,Ge.r+=1),o||s?s=y:(x&&(u(),l=cc(t,i,f,d,p,g,x)),f&&m(0,1),o=c(y,d),La(()=>Ro(t,f,"start")),ig(v=>{if(s&&v>s.start&&(o=c(s,d),s=null,Ro(t,o.b,"start"),x&&(u(),l=cc(t,i,o.b,o.duration,0,g,a.css))),o){if(v>=o.end)m(i=o.b,1-i),Ro(t,o.b,"end"),s||(o.b?u():--o.group.r||pn(o.group.c)),o=null;else if(v>=o.start){const b=v-o.start;i=o.a+o.d*g(b/o.duration),m(i,1-i)}}return!!(o||s)}))}return{run(f){Ma(a)?yg().then(()=>{a=a(),h(f)}):h(f)},end(){u(),o=s=null}}}function le(t,e){const n={},r={},a={$$scope:1};let i=t.length;for(;i--;){const o=t[i],s=e[i];if(s){for(const l in o)l in s||(r[l]=1);for(const l in s)a[l]||(n[l]=s[l],a[l]=1);t[i]=s}else for(const l in o)a[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function ue(t){return typeof t=="object"&&t!==null?t:{}}function Na(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ce(t){t&&t.c()}function ne(t,e,n,r){const{fragment:a,on_mount:i,on_destroy:o,after_update:s}=t.$$;a&&a.m(e,n),r||La(()=>{const l=i.map(tc).filter(Ma);o?o.push(...l):pn(l),t.$$.on_mount=[]}),s.forEach(La)}function re(t,e){const n=t.$$;n.fragment!==null&&(pn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xg(t,e){t.$$.dirty[0]===-1&&(Er.push(t),gg(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Kt(t,e,n,r,a,i,o,s=[-1]){const l=Or;Tr(t);const u=t.$$={fragment:null,ctx:null,props:i,update:se,not_equal:a,bound:ec(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ec(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...p)=>{const d=p.length?p[0]:f;return u.ctx&&a(u.ctx[h],u.ctx[h]=d)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](d),c&&xg(t,h)),f}):[],u.update(),c=!0,pn(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=lg(e.target);u.fragment&&u.fragment.l(h),h.forEach(zt)}else u.fragment&&u.fragment.c();e.intro&&At(t.$$.fragment),ne(t,e.target,e.anchor,e.customElement),pc()}Tr(l)}class Qt{$destroy(){re(this,1),this.$destroy=se}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}$set(e){this.$$set&&!rg(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fn=[];function bg(t,e){return{subscribe:Mr(t,e).subscribe}}function Mr(t,e=se){let n;const r=new Set;function a(s){if($t(t,s)&&(t=s,n)){const l=!Fn.length;for(const u of r)u[1](),Fn.push(u,t);if(l){for(let u=0;u<Fn.length;u+=2)Fn[u][0](Fn[u+1]);Fn.length=0}}}function i(s){a(s(t))}function o(s,l=se){const u=[s,l];return r.add(u),r.size===1&&(n=e(a)||se),s(t),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:a,update:i,subscribe:o}}function Og(t,e,n){const r=!Array.isArray(t),a=r?[t]:t,i=e.length<2;return bg(n,o=>{let s=!1;const l=[];let u=0,c=se;const h=()=>{if(u)return;c();const p=e(r?l[0]:l,o);i?o(p):c=Ma(p)?p:se},f=a.map((p,d)=>nc(p,g=>{l[d]=g,u&=~(1<<d),s&&h()},()=>{u|=1<<d}));return s=!0,h(),function(){pn(f),c()}})}const No={},Bo={};function Uo(t){return bo(xo({},t.location),{state:t.history.state,key:t.history.state&&t.history.state.key||"initial"})}function Tg(t,e){const n=[];let r=Uo(t);return{get location(){return r},listen(a){n.push(a);const i=()=>{r=Uo(t),a({location:r,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const o=n.indexOf(a);n.splice(o,1)}},navigate(a,{state:i,replace:o=!1}={}){i=bo(xo({},i),{key:Date.now()+""});try{o?t.history.replaceState(i,null,a):t.history.pushState(i,null,a)}catch{t.location[o?"replace":"assign"](a)}r=Uo(t),n.forEach(s=>s({location:r,action:"PUSH"}))}}}function wg(t="/"){let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(a,i){},removeEventListener(a,i){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(a,i,o){const[s,l=""]=o.split("?");e++,n.push({pathname:s,search:l}),r.push(a)},replaceState(a,i,o){const[s,l=""]=o.split("?");n[e]={pathname:s,search:l},r[e]=a}}}}const Eg=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement),Vo=Tg(Eg?window:wg()),{navigate:Sg}=Vo,dc=/^:(.+)/,vc=4,Mg=3,Ag=2,Cg=1,Pg=1;function Dg(t){return t===""}function Lg(t){return dc.test(t)}function gc(t){return t[0]==="*"}function Go(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Fo(t){return t.replace(/(^\/+|\/+$)/g,"")}function Rg(t,e){const n=t.default?0:Go(t.path).reduce((r,a)=>(r+=vc,Dg(a)?r+=Pg:Lg(a)?r+=Ag:gc(a)?r-=vc+Cg:r+=Mg,r),0);return{route:t,score:n,index:e}}function kg(t){return t.map(Rg).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index)}function mc(t,e){let n,r;const[a]=e.split("?"),i=Go(a),o=i[0]==="",s=kg(t);for(let l=0,u=s.length;l<u;l++){const c=s[l].route;let h=!1;if(c.default){r={route:c,params:{},uri:e};continue}const f=Go(c.path),p={},d=Math.max(i.length,f.length);let g=0;for(;g<d;g++){const m=f[g],x=i[g];if(m!==void 0&&gc(m)){const v=m==="*"?"*":m.slice(1);p[v]=i.slice(g).map(decodeURIComponent).join("/");break}if(x===void 0){h=!0;break}let y=dc.exec(m);if(y&&!o){const v=decodeURIComponent(x);p[y[1]]=v}else if(m!==x){h=!0;break}}if(!h){n={route:c,params:p,uri:"/"+i.slice(0,g).join("/")};break}}return n||r||null}function Ig(t,e){return mc([t],e)}function yc(t,e){return`${Fo(e==="/"?t:`${Fo(t)}/${Fo(e)}`)}/`}function Ng(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bg(t){const e=location.host;return t.host==e||t.href.indexOf(`https://${e}`)===0||t.href.indexOf(`http://${e}`)===0}function Ug(t){let e;const n=t[9].default,r=Oo(n,t,t[8],null);return{c(){r&&r.c()},m(a,i){r&&r.m(a,i),e=!0},p(a,[i]){r&&r.p&&(!e||i&256)&&wo(r,n,a,a[8],e?To(n,a[8],i,null):Eo(a[8]),null)},i(a){e||(At(r,a),e=!0)},o(a){Dt(r,a),e=!1},d(a){r&&r.d(a)}}}function Vg(t,e,n){let r,a,i,{$$slots:o={},$$scope:s}=e,{basepath:l="/"}=e,{url:u=null}=e;const c=Pa(No),h=Pa(Bo),f=Mr([]);br(t,f,b=>n(6,a=b));const p=Mr(null);let d=!1;const g=c||Mr(u?{pathname:u}:Vo.location);br(t,g,b=>n(5,r=b));const m=h?h.routerBase:Mr({path:l,uri:l});br(t,m,b=>n(7,i=b));const x=Og([m,p],([b,O])=>{if(O===null)return b;const{path:T}=b,{route:A,uri:w}=O;return{path:A.default?T:A.path.replace(/\*.*$/,""),uri:w}});function y(b){const{path:O}=i;let{path:T}=b;if(b._path=T,b.path=yc(O,T),typeof window=="undefined"){if(d)return;const A=Ig(b,r.pathname);A&&(p.set(A),d=!0)}else f.update(A=>(A.push(b),A))}function v(b){f.update(O=>{const T=O.indexOf(b);return O.splice(T,1),O})}return c||(fc(()=>Vo.listen(O=>{g.set(O.location)})),hc(No,g)),hc(Bo,{activeRoute:p,base:m,routerBase:x,registerRoute:y,unregisterRoute:v}),t.$$set=b=>{"basepath"in b&&n(3,l=b.basepath),"url"in b&&n(4,u=b.url),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{if(t.$$.dirty&128){const{path:b}=i;f.update(O=>(O.forEach(T=>T.path=yc(b,T._path)),O))}if(t.$$.dirty&96){const b=mc(a,r.pathname);p.set(b)}},[f,g,m,l,u,r,a,i,s,o]}class uU extends Qt{constructor(e){super();Kt(this,e,Vg,Ug,$t,{basepath:3,url:4})}}const Gg=t=>({params:t&4,location:t&16}),_c=t=>({params:t[2],location:t[4]});function xc(t){let e,n,r,a;const i=[Hg,Fg],o=[];function s(l,u){return l[0]!==null?0:1}return e=s(t),n=o[e]=i[e](t),{c(){n.c(),r=Aa()},m(l,u){o[e].m(l,u),Zt(l,r,u),a=!0},p(l,u){let c=e;e=s(l),e===c?o[e].p(l,u):(ko(),Dt(o[c],1,1,()=>{o[c]=null}),Io(),n=o[e],n?n.p(l,u):(n=o[e]=i[e](l),n.c()),At(n,1),n.m(r.parentNode,r))},i(l){a||(At(n),a=!0)},o(l){Dt(n),a=!1},d(l){o[e].d(l),l&&zt(r)}}}function Fg(t){let e;const n=t[10].default,r=Oo(n,t,t[9],_c);return{c(){r&&r.c()},m(a,i){r&&r.m(a,i),e=!0},p(a,i){r&&r.p&&(!e||i&532)&&wo(r,n,a,a[9],e?To(n,a[9],i,Gg):Eo(a[9]),_c)},i(a){e||(At(r,a),e=!0)},o(a){Dt(r,a),e=!1},d(a){r&&r.d(a)}}}function Hg(t){let e,n,r;const a=[{location:t[4]},t[2],t[3]];var i=t[0];function o(s){let l={};for(let u=0;u<a.length;u+=1)l=st(l,a[u]);return{props:l}}return i&&(e=new i(o())),{c(){e&&ce(e.$$.fragment),n=Aa()},m(s,l){e&&ne(e,s,l),Zt(s,n,l),r=!0},p(s,l){const u=l&28?le(a,[l&16&&{location:s[4]},l&4&&ue(s[2]),l&8&&ue(s[3])]):{};if(i!==(i=s[0])){if(e){ko();const c=e;Dt(c.$$.fragment,1,0,()=>{re(c,1)}),Io()}i?(e=new i(o()),ce(e.$$.fragment),At(e.$$.fragment,1),ne(e,n.parentNode,n)):e=null}else i&&e.$set(u)},i(s){r||(e&&At(e.$$.fragment,s),r=!0)},o(s){e&&Dt(e.$$.fragment,s),r=!1},d(s){s&&zt(n),e&&re(e,s)}}}function $g(t){let e,n,r=t[1]!==null&&t[1].route===t[7]&&xc(t);return{c(){r&&r.c(),e=Aa()},m(a,i){r&&r.m(a,i),Zt(a,e,i),n=!0},p(a,[i]){a[1]!==null&&a[1].route===a[7]?r?(r.p(a,i),i&2&&At(r,1)):(r=xc(a),r.c(),At(r,1),r.m(e.parentNode,e)):r&&(ko(),Dt(r,1,1,()=>{r=null}),Io())},i(a){n||(At(r),n=!0)},o(a){Dt(r),n=!1},d(a){r&&r.d(a),a&&zt(e)}}}function zg(t,e,n){let r,a,{$$slots:i={},$$scope:o}=e,{path:s=""}=e,{component:l=null}=e;const{registerRoute:u,unregisterRoute:c,activeRoute:h}=Pa(Bo);br(t,h,m=>n(1,r=m));const f=Pa(No);br(t,f,m=>n(4,a=m));const p={path:s,default:s===""};let d={},g={};return u(p),typeof window!="undefined"&&pg(()=>{c(p)}),t.$$set=m=>{n(13,e=st(st({},e),Mt(m))),"path"in m&&n(8,s=m.path),"component"in m&&n(0,l=m.component),"$$scope"in m&&n(9,o=m.$$scope)},t.$$.update=()=>{t.$$.dirty&2&&r&&r.route===p&&n(2,d=r.params);{const m=e,{path:x,component:y}=m,v=Ju(m,["path","component"]);n(3,g=v)}},e=Mt(e),[l,r,d,g,a,h,f,p,s,o,i]}class cU extends Qt{constructor(e){super();Kt(this,e,zg,$g,$t,{path:8,component:0})}}function fU(t){function e(n){const r=n.currentTarget;r.target===""&&Bg(r)&&Ng(n)&&(n.preventDefault(),Sg(r.pathname+r.search,{replace:r.hasAttribute("replace")}))}return t.addEventListener("click",e),{destroy(){t.removeEventListener("click",e)}}}var ot;(function(t){t.GRAPHICS_DOCUMENT="graphics-document",t.GRAPHICS_OBJECT="graphics-object",t.GRAPHICS_SYMBOL="graphics-symbol",t.GROUP="group",t.DOCUMENT="document",t.CHECKBOX="checkbox",t.BUTTON="button",t.MENU="menu",t.MENU_ITEM="menuitem",t.IMG="img"})(ot||(ot={}));var Ho;(function(t){t.RENDER_FINISHED="render-finished",t.RESIZE="chart-resize",t.MOUSEOVER="chart-mouseover",t.MOUSEOUT="chart-mouseout"})(Ho||(Ho={}));var $o;(function(t){t.SHOW="show-modal",t.HIDE="hide-modal"})($o||($o={}));var zo;(function(t){t.UPDATE="model-update"})(zo||(zo={}));var Wo;(function(t){t.SHOW_OVERFLOW_MENU="show-toolbar-overflow-menu",t.HIDE_OVERFLOW_MENU="hide-toolbar-overflow-menu",t.BUTTON_CLICK="toolbar-button-click"})(Wo||(Wo={}));var jo;(function(t){t.UPDATE="zoom-bar-update",t.SELECTION_START="zoom-bar-selection-start",t.SELECTION_IN_PROGRESS="zoom-bar-selection-in-progress",t.SELECTION_END="zoom-bar-selection-end"})(jo||(jo={}));var qo;(function(t){t.CHANGE="zoom-domain-change"})(qo||(qo={}));var Yo;(function(t){t.CANVAS_ZOOM_IN="canvas-zoom-in",t.CANVAS_ZOOM_OUT="canvas-zoom-out"})(Yo||(Yo={}));var Xo;(function(t){t.LABEL_MOUSEOVER="axis-label-mouseover",t.LABEL_MOUSEMOVE="axis-label-mousemove",t.LABEL_CLICK="axis-label-click",t.LABEL_MOUSEOUT="axis-label-mouseout",t.LABEL_FOCUS="axis-label-focus",t.LABEL_BLUR="axis-label-blur",t.RENDER_COMPLETE="axis-render-complete"})(Xo||(Xo={}));var Zo;(function(t){t.POINT_MOUSEOVER="scatter-mouseover",t.POINT_MOUSEMOVE="scatter-mousemove",t.POINT_CLICK="scatter-click",t.POINT_MOUSEOUT="scatter-mouseout"})(Zo||(Zo={}));var Ko;(function(t){t.WORD_MOUSEOVER="wordcloud-word-mouseover",t.WORD_MOUSEMOVE="wordcloud-word-mousemove",t.WORD_CLICK="wordcloud-word-click",t.WORD_MOUSEOUT="wordcloud-word-mouseout"})(Ko||(Ko={}));var Qo;(function(t){t.SLICE_MOUSEOVER="pie-slice-mouseover",t.SLICE_MOUSEMOVE="pie-slice-mousemove",t.SLICE_CLICK="pie-slice-click",t.SLICE_MOUSEOUT="pie-slice-mouseout"})(Qo||(Qo={}));var Jo;(function(t){t.ARC_MOUSEOVER="gauge-arc-mouseover",t.ARC_MOUSEMOVE="gauge-arc-mousemove",t.ARC_CLICK="gauge-arc-click",t.ARC_MOUSEOUT="gauge-arc-mouseout"})(Jo||(Jo={}));var ts;(function(t){t.BAR_MOUSEOVER="bar-mouseover",t.BAR_MOUSEMOVE="bar-mousemove",t.BAR_CLICK="bar-click",t.BAR_MOUSEOUT="bar-mouseout"})(ts||(ts={}));var es;(function(t){t.BOX_MOUSEOVER="box-mouseover",t.BOX_MOUSEMOVE="box-mousemove",t.BOX_CLICK="box-click",t.BOX_MOUSEOUT="box-mouseout",t.OUTLIER_MOUSEOVER="outlier-mouseover",t.OUTLIER_MOUSEMOVE="outlier-mousemove",t.OUTLIER_CLICK="outlier-click",t.OUTLIER_MOUSEOUT="outlier-mouseout"})(es||(es={}));var ns;(function(t){t.SCATTER_MOUSEOVER="scatter-mouseover",t.SCATTER_MOUSEMOVE="scatter-mousemove",t.SCATTER_CLICK="scatter-click",t.SCATTER_MOUSEOUT="scatter-mouseout"})(ns||(ns={}));var rs;(function(t){t.POINT_MOUSEOVER="scatter-mouseover",t.POINT_MOUSEMOVE="scatter-mousemove",t.POINT_CLICK="scatter-click",t.POINT_MOUSEOUT="scatter-mouseout"})(rs||(rs={}));var as;(function(t){t.X_AXIS_MOUSEOVER="radar-x-axis-mouseover",t.X_AXIS_MOUSEMOVE="radar-x-axis-mousemove",t.X_AXIS_CLICK="radar-x-axis-click",t.X_AXIS_MOUSEOUT="radar-x-axis-mouseout"})(as||(as={}));var is;(function(t){t.NODE_MOUSEOVER="tree-node-mouseover",t.NODE_CLICK="tree-node-click",t.NODE_MOUSEOUT="tree-node-mouseout"})(is||(is={}));var os;(function(t){t.LEAF_MOUSEOVER="leaf-mouseover",t.LEAF_MOUSEMOVE="leaf-mousemove",t.LEAF_CLICK="leaf-click",t.LEAF_MOUSEOUT="leaf-mouseout"})(os||(os={}));var ss;(function(t){t.SHOW="show-tooltip",t.MOVE="move-tooltip",t.HIDE="hide-tooltip"})(ss||(ss={}));var ls;(function(t){t.SHOW="show-threshold",t.HIDE="hide-threshold"})(ls||(ls={}));var us;(function(t){t.ITEM_HOVER="legend-item-onhover",t.ITEM_CLICK="legend-item-onclick",t.ITEM_MOUSEOUT="legend-item-onmouseout",t.ITEMS_UPDATE="legend-items-update"})(us||(us={}));var cs;(function(t){t.CIRCLE_MOUSEOVER="circle-leaf-mouseover",t.CIRCLE_CLICK="circle-leaf-click",t.CIRCLE_MOUSEOUT="circle-leaf-mouseout",t.CIRCLE_MOUSEMOVE="circle-leaf-mousemove"})(cs||(cs={}));var fs;(function(t){t.NODE_MOUSEOVER="alluvial-node-mouseover",t.NODE_CLICK="alluvial-node-click",t.NODE_MOUSEOUT="alluvial-node-mouseout",t.NODE_MOUSEMOVE="alluvial-node-mousemove",t.LINE_MOUSEOVER="alluvial-line-mouseover",t.LINE_CLICK="alluvial-line-click",t.LINE_MOUSEOUT="alluvial-line-mouseout",t.LINE_MOUSEMOVE="alluvial-line-mousemove"})(fs||(fs={}));var hs;(function(t){t.METER_MOUSEOVER="meter-mouseover",t.METER_CLICK="meter-click",t.METER_MOUSEOUT="meter-mouseout",t.METER_MOUSEMOVE="meter-mousemove"})(hs||(hs={}));var ps;(function(t){t.HEATMAP_MOUSEOVER="heatmap-mouseover",t.HEATMAP_CLICK="heatmap-click",t.HEATMAP_MOUSEOUT="heatmap-mouseout",t.HEATMAP_MOUSEMOVE="hetmap-mousemove"})(ps||(ps={}));var Wg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get Chart(){return Ho},get Modal(){return $o},get Model(){return zo},get Toolbar(){return Wo},get ZoomBar(){return jo},get ZoomDomain(){return qo},get CanvasZoom(){return Yo},get Axis(){return Xo},get Area(){return Zo},get WordCloud(){return Ko},get Pie(){return Qo},get Gauge(){return Jo},get Bar(){return ts},get Boxplot(){return es},get Scatter(){return ns},get Line(){return rs},get Radar(){return as},get Tree(){return is},get Treemap(){return os},get Tooltip(){return ss},get Threshold(){return ls},get Legend(){return us},get CirclePack(){return cs},get Alluvial(){return fs},get Meter(){return hs},get Heatmap(){return ps}}),E=Wg,tt;(function(t){t.HTML="html",t.SVG="svg"})(tt||(tt={}));var bc;(function(t){t.DEFAULT="default",t.G100="g100",t.G90="g90",t.G10="g10"})(bc||(bc={}));var et;(function(t){t.BACKGROUND="background",t.FILL="fill",t.STROKE="stroke",t.TOOLTIP="tooltip"})(et||(et={}));var $;(function(t){t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom"})($||($={}));var Oe;(function(t){t.GRAPH_VIEW="graph_view",t.SLIDER_VIEW="slider_view"})(Oe||(Oe={}));var Fe;(function(t){t.END_LINE="end_line",t.MID_LINE="mid_line",t.FRONT_LINE="front_line",t.NONE="none"})(Fe||(Fe={}));var kt;(function(t){t.VERTICAL="vertical",t.HORIZONTAL="horizontal"})(kt||(kt={}));var K;(function(t){t.TIME="time",t.LINEAR="linear",t.LOG="log",t.LABELS="labels",t.LABELS_RATIO="labels-ratio"})(K||(K={}));var Hn;(function(t){t.RIGHT="right",t.LEFT="left",t.TOP="top",t.BOTTOM="bottom"})(Hn||(Hn={}));var Ut;(function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"})(Ut||(Ut={}));var $n;(function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"})($n||($n={}));var Ba;(function(t){t.TREE="tree",t.DENDROGRAM="dendrogram"})(Ba||(Ba={}));var wt;(function(t){t.ROW="row",t.COLUMN="column",t.ROW_REVERSE="row-reverse",t.COLUMN_REVERSE="column-reverse"})(wt||(wt={}));var ct;(function(t){t.FIXED="fixed",t.PREFERRED="preferred",t.STRETCH="stretch"})(ct||(ct={}));var zn;(function(t){t.CENTER="center"})(zn||(zn={}));var Ar;(function(t){t.LEFT="left",t.RIGHT="right"})(Ar||(Ar={}));var Lt;(function(t){t.GRID="grid",t.VERT_OR_HORIZ="vertOrHoriz",t.PIE="pie",t.DONUT="donut"})(Lt||(Lt={}));var Me;(function(t){t.START="start",t.MIDDLE="middle",t.END="end"})(Me||(Me={}));var Ae;(function(t){t.BASELINE="baseline",t.MIDDLE="middle",t.HANGING="hanging"})(Ae||(Ae={}));var vn;(function(t){t.SEMI="semi",t.FULL="full"})(vn||(vn={}));var Ua;(function(t){t.UP="up",t.DOWN="down"})(Ua||(Ua={}));var Cr;(function(t){t.SUCCESS="success",t.WARNING="warning",t.DANGER="danger"})(Cr||(Cr={}));var Pr;(function(t){t.ALWAYS="always",t.AUTO="auto",t.NEVER="never"})(Pr||(Pr={}));var fe;(function(t){t.SCATTER="scatter",t.LINE="line",t.SIMPLE_BAR="simple-bar",t.STACKED_BAR="stacked-bar",t.GROUPED_BAR="grouped-bar",t.AREA="area",t.STACKED_AREA="stacked-area"})(fe||(fe={}));var Et;(function(t){t.EXPORT_CSV="Export as CSV",t.EXPORT_PNG="Export as PNG",t.EXPORT_JPG="Export as JPG",t.ZOOM_IN="Zoom in",t.ZOOM_OUT="Zoom out",t.RESET_ZOOM="Reset zoom",t.MAKE_FULLSCREEN="Make fullscreen",t.SHOW_AS_DATATABLE="Show as data-table",t.CUSTOM="Custom"})(Et||(Et={}));var Va;(function(t){t.LEFT="left",t.RIGHT="right"})(Va||(Va={}));var Rt;(function(t){t.CHECKBOX="checkbox",t.RADIUS="radius",t.AREA="area",t.SIZE="size",t.LINE="line",t.QUARTILE="quartile",t.ZOOM="zoom"})(Rt||(Rt={}));var Dr;(function(t){t.LINEAR="linear",t.QUANTIZE="quantize"})(Dr||(Dr={}));var Wn;(function(t){t.ON="on",t.AUTO="auto",t.OFF="off"})(Wn||(Wn={}));var Lr;(function(t){t.DEFAULT="default",t.HOVERABLE="hoverable"})(Lr||(Lr={}));const jg=t=>+t;function Oc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ga,Ce={opacity:{unselected:.05,selected:.4}},He={ticks:{number:7,rotateIfSmallerThan:30,verticalSpaceRatio:2.5,horizontalSpaceRatio:3.5},ratio:{reference:"value",compareTo:"marker"},paddingRatio:.1,hover:{rectanglePadding:4}},jn={duration:1e3,ease:Oc,zoomLevel:3},gn={circles:{fillOpacity:.3,hover:{stroke:"#FFF"}},padding:{mainGroup:4,children:2},hierarchyLevel:2},ds={pairingOptions:{"1-color":4,"2-color":5,"3-color":5,"4-color":3,"5-color":2,"14-color":1}},he={circle:{radius:4,opacity:{hovered:1,default:.3}},box:{opacity:{hovered:.5,default:.3}},strokeWidth:{default:1,thicker:2}},Tc={defaultBins:10},Ot={items:{status:{ACTIVE:1,DISABLED:0},horizontalSpace:12,verticalSpace:24,textYOffset:8,spaceAfter:4},checkbox:{radius:6.5},radius:{iconData:[{cx:7,cy:7,r:6.5},{cx:7,cy:10,r:3.5}],fill:null,stroke:"#8c8c8c"},line:{yPosition:6,width:24,strokeWidth:1.4,fill:null,stroke:"#999999"},area:{width:24,height:14,fill:"#6f6f6f",stroke:null},size:{iconData:[{width:23,height:12},{width:13,height:6}],fill:null,stroke:"#8D8D8D"},quartile:{iconData:[{x:0,y:0,width:24,height:13},{x:11,y:4,width:1,height:4}]},zoom:{iconData:[{x:0,y:0,width:12,height:12}],color:"#8D8D8D"},color:{barWidth:300,barHeight:8,axisYTranslation:10}},Pe={opacity:{unselected:.3,selected:1},weight:{selected:2,unselected:1}},It={statusBar:{paddingRight:5},status:{indicatorSize:16,paddingLeft:15},total:{paddingLeft:36,paddingRight:24},height:{default:8,proportional:16},dividerWidth:2},yt={radiusOffset:-15,innerRadius:2,padAngle:.007,hoverArc:{outerRadiusOffset:3},xOffset:30,yOffset:20,yOffsetCallout:10,callout:{minSliceDegree:5,offsetX:15,offsetY:12,horizontalLineLength:8,textMargin:2}},an={opacity:{unselected:.1,selected:.3},xLabelPadding:10,yLabelPadding:8,yTicksNumber:4,minRange:10,xAxisRectHeight:50,dotsRadius:5},ge={nodeWidth:4,nodeHoveredWidth:8,minNodePadding:24,opacity:{unfocus:.3,default:.8,selected:1}},vs={minCellDividerDimension:16,chartPadding:.5},gs={default:{size:24}},wc={horizontalOffset:10},ms={default:{duration:300},pie_slice_mouseover:{duration:100},pie_chart_titles:{duration:375},graph_element_mouseover_fill_update:{duration:100},graph_element_mouseout_fill_update:{duration:100}},qg={buttonSize:32,iconSize:20,height:32,spacerHeight:10,iconPadding:6},ae={height:(Ga={},Ga[Oe.GRAPH_VIEW]=32,Ga[Oe.SLIDER_VIEW]=10,Ga),spacerHeight:8,handleWidth:5,handleBarWidth:1,handleBarHeight:12},Ec=[{type:Rt.RADIUS,name:"Radius"},{type:Rt.AREA,name:"Poor area"},{type:Rt.AREA,name:"Satisfactory area"},{type:Rt.AREA,name:"Great area"},{type:Rt.QUARTILE,name:"Quartiles"}],Yg=typeof global=="object"&&global&&global.Object===Object&&global,Sc=Yg,Xg=typeof self=="object"&&self&&self.Object===Object&&self,Zg=Sc||Xg||Function("return this")(),Te=Zg,Kg=Te.Symbol,me=Kg,Mc=Object.prototype,Qg=Mc.hasOwnProperty,Jg=Mc.toString,Rr=me?me.toStringTag:void 0;function tm(t){var e=Qg.call(t,Rr),n=t[Rr];try{t[Rr]=void 0;var r=!0}catch{}var a=Jg.call(t);return r&&(e?t[Rr]=n:delete t[Rr]),a}var em=Object.prototype,nm=em.toString;function rm(t){return nm.call(t)}var am="[object Null]",im="[object Undefined]",Ac=me?me.toStringTag:void 0;function mn(t){return t==null?t===void 0?im:am:Ac&&Ac in Object(t)?tm(t):rm(t)}function De(t){return t!=null&&typeof t=="object"}var om="[object Symbol]";function Fa(t){return typeof t=="symbol"||De(t)&&mn(t)==om}function Cc(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}var sm=Array.isArray,Vt=sm,lm=1/0,Pc=me?me.prototype:void 0,Dc=Pc?Pc.toString:void 0;function Lc(t){if(typeof t=="string")return t;if(Vt(t))return Cc(t,Lc)+"";if(Fa(t))return Dc?Dc.call(t):"";var e=t+"";return e=="0"&&1/t==-lm?"-0":e}var um=/\s/;function cm(t){for(var e=t.length;e--&&um.test(t.charAt(e)););return e}var fm=/^\s+/;function hm(t){return t&&t.slice(0,cm(t)+1).replace(fm,"")}function ye(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Rc=0/0,pm=/^[-+]0x[0-9a-f]+$/i,dm=/^0b[01]+$/i,vm=/^0o[0-7]+$/i,gm=parseInt;function kr(t){if(typeof t=="number")return t;if(Fa(t))return Rc;if(ye(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ye(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hm(t);var n=dm.test(t);return n||vm.test(t)?gm(t.slice(2),n?2:8):pm.test(t)?Rc:+t}function ys(t){return t}var mm="[object AsyncFunction]",ym="[object Function]",_m="[object GeneratorFunction]",xm="[object Proxy]";function _s(t){if(!ye(t))return!1;var e=mn(t);return e==ym||e==_m||e==mm||e==xm}var bm=Te["__core-js_shared__"],xs=bm,kc=function(){var t=/[^.]+$/.exec(xs&&xs.keys&&xs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Om(t){return!!kc&&kc in t}var Tm=Function.prototype,wm=Tm.toString;function yn(t){if(t!=null){try{return wm.call(t)}catch{}try{return t+""}catch{}}return""}var Em=/[\\^$.*+?()[\]{}|]/g,Sm=/^\[object .+?Constructor\]$/,Mm=Function.prototype,Am=Object.prototype,Cm=Mm.toString,Pm=Am.hasOwnProperty,Dm=RegExp("^"+Cm.call(Pm).replace(Em,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lm(t){if(!ye(t)||Om(t))return!1;var e=_s(t)?Dm:Sm;return e.test(yn(t))}function Rm(t,e){return t==null?void 0:t[e]}function _n(t,e){var n=Rm(t,e);return Lm(n)?n:void 0}var km=_n(Te,"WeakMap"),bs=km,Ic=Object.create,Im=function(){function t(){}return function(e){if(!ye(e))return{};if(Ic)return Ic(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Nm=Im;function Bm(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Um(){}function Nc(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Vm=800,Gm=16,Fm=Date.now;function Hm(t){var e=0,n=0;return function(){var r=Fm(),a=Gm-(r-n);if(n=r,a>0){if(++e>=Vm)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function $m(t){return function(){return t}}var zm=function(){try{var t=_n(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ha=zm,Wm=Ha?function(t,e){return Ha(t,"toString",{configurable:!0,enumerable:!1,value:$m(e),writable:!0})}:ys,jm=Wm,qm=Hm(jm),Ym=qm;function Xm(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Zm(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1}function Km(t){return t!==t}function Qm(t,e,n){for(var r=n-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}function Jm(t,e,n){return e===e?Qm(t,e,n):Zm(t,Km,n)}function ty(t,e){var n=t==null?0:t.length;return!!n&&Jm(t,e,0)>-1}var ey=9007199254740991,ny=/^(?:0|[1-9]\d*)$/;function Os(t,e){var n=typeof t;return e=e==null?ey:e,!!e&&(n=="number"||n!="symbol"&&ny.test(t))&&t>-1&&t%1==0&&t<e}function $a(t,e,n){e=="__proto__"&&Ha?Ha(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ir(t,e){return t===e||t!==t&&e!==e}var ry=Object.prototype,ay=ry.hasOwnProperty;function Bc(t,e,n){var r=t[e];(!(ay.call(t,e)&&Ir(r,n))||n===void 0&&!(e in t))&&$a(t,e,n)}function Nr(t,e,n,r){var a=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),a?$a(n,s,l):Bc(n,s,l)}return n}var Uc=Math.max;function iy(t,e,n){return e=Uc(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=Uc(r.length-e,0),o=Array(i);++a<i;)o[a]=r[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=r[a];return s[e]=n(o),Bm(t,this,s)}}function Vc(t,e){return Ym(iy(t,e,ys),t+"")}var oy=9007199254740991;function Ts(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oy}function xn(t){return t!=null&&Ts(t.length)&&!_s(t)}function Gc(t,e,n){if(!ye(n))return!1;var r=typeof e;return(r=="number"?xn(n)&&Os(e,n.length):r=="string"&&e in n)?Ir(n[e],t):!1}function sy(t){return Vc(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,o&&Gc(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var s=n[r];s&&t(e,s,r,i)}return e})}var ly=Object.prototype;function za(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ly;return t===n}function uy(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var cy="[object Arguments]";function Fc(t){return De(t)&&mn(t)==cy}var Hc=Object.prototype,fy=Hc.hasOwnProperty,hy=Hc.propertyIsEnumerable,py=Fc(function(){return arguments}())?Fc:function(t){return De(t)&&fy.call(t,"callee")&&!hy.call(t,"callee")},qn=py;function dy(){return!1}var $c=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zc=$c&&typeof module=="object"&&module&&!module.nodeType&&module,vy=zc&&zc.exports===$c,Wc=vy?Te.Buffer:void 0,gy=Wc?Wc.isBuffer:void 0,my=gy||dy,Yn=my,yy="[object Arguments]",_y="[object Array]",xy="[object Boolean]",by="[object Date]",Oy="[object Error]",Ty="[object Function]",wy="[object Map]",Ey="[object Number]",Sy="[object Object]",My="[object RegExp]",Ay="[object Set]",Cy="[object String]",Py="[object WeakMap]",Dy="[object ArrayBuffer]",Ly="[object DataView]",Ry="[object Float32Array]",ky="[object Float64Array]",Iy="[object Int8Array]",Ny="[object Int16Array]",By="[object Int32Array]",Uy="[object Uint8Array]",Vy="[object Uint8ClampedArray]",Gy="[object Uint16Array]",Fy="[object Uint32Array]",Tt={};Tt[Ry]=Tt[ky]=Tt[Iy]=Tt[Ny]=Tt[By]=Tt[Uy]=Tt[Vy]=Tt[Gy]=Tt[Fy]=!0;Tt[yy]=Tt[_y]=Tt[Dy]=Tt[xy]=Tt[Ly]=Tt[by]=Tt[Oy]=Tt[Ty]=Tt[wy]=Tt[Ey]=Tt[Sy]=Tt[My]=Tt[Ay]=Tt[Cy]=Tt[Py]=!1;function Hy(t){return De(t)&&Ts(t.length)&&!!Tt[mn(t)]}function ws(t){return function(e){return t(e)}}var jc=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Br=jc&&typeof module=="object"&&module&&!module.nodeType&&module,$y=Br&&Br.exports===jc,Es=$y&&Sc.process,zy=function(){try{var t=Br&&Br.require&&Br.require("util").types;return t||Es&&Es.binding&&Es.binding("util")}catch{}}(),Xn=zy,qc=Xn&&Xn.isTypedArray,Wy=qc?ws(qc):Hy,Wa=Wy,jy=Object.prototype,qy=jy.hasOwnProperty;function Yc(t,e){var n=Vt(t),r=!n&&qn(t),a=!n&&!r&&Yn(t),i=!n&&!r&&!a&&Wa(t),o=n||r||a||i,s=o?uy(t.length,String):[],l=s.length;for(var u in t)(e||qy.call(t,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Os(u,l)))&&s.push(u);return s}function Xc(t,e){return function(n){return t(e(n))}}var Yy=Xc(Object.keys,Object),Xy=Yy,Zy=Object.prototype,Ky=Zy.hasOwnProperty;function Zc(t){if(!za(t))return Xy(t);var e=[];for(var n in Object(t))Ky.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ur(t){return xn(t)?Yc(t):Zc(t)}function Qy(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Jy=Object.prototype,t0=Jy.hasOwnProperty;function e0(t){if(!ye(t))return Qy(t);var e=za(t),n=[];for(var r in t)r=="constructor"&&(e||!t0.call(t,r))||n.push(r);return n}function Vr(t){return xn(t)?Yc(t,!0):e0(t)}var n0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r0=/^\w*$/;function Ss(t,e){if(Vt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Fa(t)?!0:r0.test(t)||!n0.test(t)||e!=null&&t in Object(e)}var a0=_n(Object,"create"),Gr=a0;function i0(){this.__data__=Gr?Gr(null):{},this.size=0}function o0(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var s0="__lodash_hash_undefined__",l0=Object.prototype,u0=l0.hasOwnProperty;function c0(t){var e=this.__data__;if(Gr){var n=e[t];return n===s0?void 0:n}return u0.call(e,t)?e[t]:void 0}var f0=Object.prototype,h0=f0.hasOwnProperty;function p0(t){var e=this.__data__;return Gr?e[t]!==void 0:h0.call(e,t)}var d0="__lodash_hash_undefined__";function v0(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Gr&&e===void 0?d0:e,this}function bn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bn.prototype.clear=i0;bn.prototype.delete=o0;bn.prototype.get=c0;bn.prototype.has=p0;bn.prototype.set=v0;function g0(){this.__data__=[],this.size=0}function ja(t,e){for(var n=t.length;n--;)if(Ir(t[n][0],e))return n;return-1}var m0=Array.prototype,y0=m0.splice;function _0(t){var e=this.__data__,n=ja(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():y0.call(e,n,1),--this.size,!0}function x0(t){var e=this.__data__,n=ja(e,t);return n<0?void 0:e[n][1]}function b0(t){return ja(this.__data__,t)>-1}function O0(t,e){var n=this.__data__,r=ja(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function $e(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$e.prototype.clear=g0;$e.prototype.delete=_0;$e.prototype.get=x0;$e.prototype.has=b0;$e.prototype.set=O0;var T0=_n(Te,"Map"),Fr=T0;function w0(){this.size=0,this.__data__={hash:new bn,map:new(Fr||$e),string:new bn}}function E0(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function qa(t,e){var n=t.__data__;return E0(e)?n[typeof e=="string"?"string":"hash"]:n.map}function S0(t){var e=qa(this,t).delete(t);return this.size-=e?1:0,e}function M0(t){return qa(this,t).get(t)}function A0(t){return qa(this,t).has(t)}function C0(t,e){var n=qa(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ze(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ze.prototype.clear=w0;ze.prototype.delete=S0;ze.prototype.get=M0;ze.prototype.has=A0;ze.prototype.set=C0;var P0="Expected a function";function Ms(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(P0);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Ms.Cache||ze),n}Ms.Cache=ze;var D0=500;function L0(t){var e=Ms(t,function(r){return n.size===D0&&n.clear(),r}),n=e.cache;return e}var R0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k0=/\\(\\)?/g,I0=L0(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(R0,function(n,r,a,i){e.push(a?i.replace(k0,"$1"):r||n)}),e}),N0=I0;function Hr(t){return t==null?"":Lc(t)}function Kc(t,e){return Vt(t)?t:Ss(t,e)?[t]:N0(Hr(t))}var B0=1/0;function Ya(t){if(typeof t=="string"||Fa(t))return t;var e=t+"";return e=="0"&&1/t==-B0?"-0":e}function Qc(t,e){e=Kc(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Ya(e[n++])];return n&&n==r?t:void 0}function xt(t,e,n){var r=t==null?void 0:Qc(t,e);return r===void 0?n:r}function As(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var Jc=me?me.isConcatSpreadable:void 0;function U0(t){return Vt(t)||qn(t)||!!(Jc&&t&&t[Jc])}function Xa(t,e,n,r,a){var i=-1,o=t.length;for(n||(n=U0),a||(a=[]);++i<o;){var s=t[i];e>0&&n(s)?e>1?Xa(s,e-1,n,r,a):As(a,s):r||(a[a.length]=s)}return a}function V0(t){var e=t==null?0:t.length;return e?Xa(t,1):[]}var G0=Xc(Object.getPrototypeOf,Object),Cs=G0,F0="[object Object]",H0=Function.prototype,$0=Object.prototype,tf=H0.toString,z0=$0.hasOwnProperty,W0=tf.call(Object);function j0(t){if(!De(t)||mn(t)!=F0)return!1;var e=Cs(t);if(e===null)return!0;var n=z0.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&tf.call(n)==W0}function q0(t,e,n){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(a);++r<a;)i[r]=t[r+e];return i}function Y0(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:q0(t,e,n)}var X0="\\ud800-\\udfff",Z0="\\u0300-\\u036f",K0="\\ufe20-\\ufe2f",Q0="\\u20d0-\\u20ff",J0=Z0+K0+Q0,t_="\\ufe0e\\ufe0f",e_="\\u200d",n_=RegExp("["+e_+X0+J0+t_+"]");function ef(t){return n_.test(t)}function r_(t){return t.split("")}var nf="\\ud800-\\udfff",a_="\\u0300-\\u036f",i_="\\ufe20-\\ufe2f",o_="\\u20d0-\\u20ff",s_=a_+i_+o_,l_="\\ufe0e\\ufe0f",u_="["+nf+"]",Ps="["+s_+"]",Ds="\\ud83c[\\udffb-\\udfff]",c_="(?:"+Ps+"|"+Ds+")",rf="[^"+nf+"]",af="(?:\\ud83c[\\udde6-\\uddff]){2}",of="[\\ud800-\\udbff][\\udc00-\\udfff]",f_="\\u200d",sf=c_+"?",lf="["+l_+"]?",h_="(?:"+f_+"(?:"+[rf,af,of].join("|")+")"+lf+sf+")*",p_=lf+sf+h_,d_="(?:"+[rf+Ps+"?",Ps,af,of,u_].join("|")+")",v_=RegExp(Ds+"(?="+Ds+")|"+d_+p_,"g");function g_(t){return t.match(v_)||[]}function m_(t){return ef(t)?g_(t):r_(t)}function y_(t){return function(e){e=Hr(e);var n=ef(e)?m_(e):void 0,r=n?n[0]:e.charAt(0),a=n?Y0(n,1).join(""):e.slice(1);return r[t]()+a}}var __=y_("toUpperCase"),x_=__;function b_(t){return x_(Hr(t).toLowerCase())}function O_(t,e,n,r){var a=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++a]);++a<i;)n=e(n,t[a],a,t);return n}function T_(t){return function(e){return t==null?void 0:t[e]}}var w_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},E_=T_(w_),S_=E_,M_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,A_="\\u0300-\\u036f",C_="\\ufe20-\\ufe2f",P_="\\u20d0-\\u20ff",D_=A_+C_+P_,L_="["+D_+"]",R_=RegExp(L_,"g");function k_(t){return t=Hr(t),t&&t.replace(M_,S_).replace(R_,"")}var I_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function N_(t){return t.match(I_)||[]}var B_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function U_(t){return B_.test(t)}var uf="\\ud800-\\udfff",V_="\\u0300-\\u036f",G_="\\ufe20-\\ufe2f",F_="\\u20d0-\\u20ff",H_=V_+G_+F_,cf="\\u2700-\\u27bf",ff="a-z\\xdf-\\xf6\\xf8-\\xff",$_="\\xac\\xb1\\xd7\\xf7",z_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",W_="\\u2000-\\u206f",j_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hf="A-Z\\xc0-\\xd6\\xd8-\\xde",q_="\\ufe0e\\ufe0f",pf=$_+z_+W_+j_,df="['\u2019]",vf="["+pf+"]",Y_="["+H_+"]",gf="\\d+",X_="["+cf+"]",mf="["+ff+"]",yf="[^"+uf+pf+gf+cf+ff+hf+"]",Z_="\\ud83c[\\udffb-\\udfff]",K_="(?:"+Y_+"|"+Z_+")",Q_="[^"+uf+"]",_f="(?:\\ud83c[\\udde6-\\uddff]){2}",xf="[\\ud800-\\udbff][\\udc00-\\udfff]",Zn="["+hf+"]",J_="\\u200d",bf="(?:"+mf+"|"+yf+")",t1="(?:"+Zn+"|"+yf+")",Of="(?:"+df+"(?:d|ll|m|re|s|t|ve))?",Tf="(?:"+df+"(?:D|LL|M|RE|S|T|VE))?",wf=K_+"?",Ef="["+q_+"]?",e1="(?:"+J_+"(?:"+[Q_,_f,xf].join("|")+")"+Ef+wf+")*",n1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",a1=Ef+wf+e1,i1="(?:"+[X_,_f,xf].join("|")+")"+a1,o1=RegExp([Zn+"?"+mf+"+"+Of+"(?="+[vf,Zn,"$"].join("|")+")",t1+"+"+Tf+"(?="+[vf,Zn+bf,"$"].join("|")+")",Zn+"?"+bf+"+"+Of,Zn+"+"+Tf,r1,n1,gf,i1].join("|"),"g");function s1(t){return t.match(o1)||[]}function l1(t,e,n){return t=Hr(t),e=n?void 0:e,e===void 0?U_(t)?s1(t):N_(t):t.match(e)||[]}var u1="['\u2019]",c1=RegExp(u1,"g");function Sf(t){return function(e){return O_(l1(k_(e).replace(c1,"")),t,"")}}var f1=Sf(function(t,e,n){return e=e.toLowerCase(),t+(n?b_(e):e)}),h1=f1;function p1(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function d1(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=kr(n),n=n===n?n:0),e!==void 0&&(e=kr(e),e=e===e?e:0),p1(kr(t),e,n)}function v1(){this.__data__=new $e,this.size=0}function g1(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function m1(t){return this.__data__.get(t)}function y1(t){return this.__data__.has(t)}var _1=200;function x1(t,e){var n=this.__data__;if(n instanceof $e){var r=n.__data__;if(!Fr||r.length<_1-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ze(r)}return n.set(t,e),this.size=n.size,this}function we(t){var e=this.__data__=new $e(t);this.size=e.size}we.prototype.clear=v1;we.prototype.delete=g1;we.prototype.get=m1;we.prototype.has=y1;we.prototype.set=x1;function b1(t,e){return t&&Nr(e,Ur(e),t)}function O1(t,e){return t&&Nr(e,Vr(e),t)}var Mf=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Af=Mf&&typeof module=="object"&&module&&!module.nodeType&&module,T1=Af&&Af.exports===Mf,Cf=T1?Te.Buffer:void 0,Pf=Cf?Cf.allocUnsafe:void 0;function Df(t,e){if(e)return t.slice();var n=t.length,r=Pf?Pf(n):new t.constructor(n);return t.copy(r),r}function w1(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[a++]=o)}return i}function Lf(){return[]}var E1=Object.prototype,S1=E1.propertyIsEnumerable,Rf=Object.getOwnPropertySymbols,M1=Rf?function(t){return t==null?[]:(t=Object(t),w1(Rf(t),function(e){return S1.call(t,e)}))}:Lf,Ls=M1;function A1(t,e){return Nr(t,Ls(t),e)}var C1=Object.getOwnPropertySymbols,P1=C1?function(t){for(var e=[];t;)As(e,Ls(t)),t=Cs(t);return e}:Lf,kf=P1;function D1(t,e){return Nr(t,kf(t),e)}function If(t,e,n){var r=e(t);return Vt(t)?r:As(r,n(t))}function Rs(t){return If(t,Ur,Ls)}function L1(t){return If(t,Vr,kf)}var R1=_n(Te,"DataView"),ks=R1,k1=_n(Te,"Promise"),Is=k1,I1=_n(Te,"Set"),Kn=I1,Nf="[object Map]",N1="[object Object]",Bf="[object Promise]",Uf="[object Set]",Vf="[object WeakMap]",Gf="[object DataView]",B1=yn(ks),U1=yn(Fr),V1=yn(Is),G1=yn(Kn),F1=yn(bs),On=mn;(ks&&On(new ks(new ArrayBuffer(1)))!=Gf||Fr&&On(new Fr)!=Nf||Is&&On(Is.resolve())!=Bf||Kn&&On(new Kn)!=Uf||bs&&On(new bs)!=Vf)&&(On=function(t){var e=mn(t),n=e==N1?t.constructor:void 0,r=n?yn(n):"";if(r)switch(r){case B1:return Gf;case U1:return Nf;case V1:return Bf;case G1:return Uf;case F1:return Vf}return e});var Qn=On,H1=Object.prototype,$1=H1.hasOwnProperty;function z1(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&$1.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var W1=Te.Uint8Array,Za=W1;function Ns(t){var e=new t.constructor(t.byteLength);return new Za(e).set(new Za(t)),e}function j1(t,e){var n=e?Ns(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var q1=/\w*$/;function Y1(t){var e=new t.constructor(t.source,q1.exec(t));return e.lastIndex=t.lastIndex,e}var Ff=me?me.prototype:void 0,Hf=Ff?Ff.valueOf:void 0;function X1(t){return Hf?Object(Hf.call(t)):{}}function $f(t,e){var n=e?Ns(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Z1="[object Boolean]",K1="[object Date]",Q1="[object Map]",J1="[object Number]",tx="[object RegExp]",ex="[object Set]",nx="[object String]",rx="[object Symbol]",ax="[object ArrayBuffer]",ix="[object DataView]",ox="[object Float32Array]",sx="[object Float64Array]",lx="[object Int8Array]",ux="[object Int16Array]",cx="[object Int32Array]",fx="[object Uint8Array]",hx="[object Uint8ClampedArray]",px="[object Uint16Array]",dx="[object Uint32Array]";function vx(t,e,n){var r=t.constructor;switch(e){case ax:return Ns(t);case Z1:case K1:return new r(+t);case ix:return j1(t,n);case ox:case sx:case lx:case ux:case cx:case fx:case hx:case px:case dx:return $f(t,n);case Q1:return new r;case J1:case nx:return new r(t);case tx:return Y1(t);case ex:return new r;case rx:return X1(t)}}function zf(t){return typeof t.constructor=="function"&&!za(t)?Nm(Cs(t)):{}}var gx="[object Map]";function mx(t){return De(t)&&Qn(t)==gx}var Wf=Xn&&Xn.isMap,yx=Wf?ws(Wf):mx,_x=yx,xx="[object Set]";function bx(t){return De(t)&&Qn(t)==xx}var jf=Xn&&Xn.isSet,Ox=jf?ws(jf):bx,Tx=Ox,wx=1,Ex=2,Sx=4,qf="[object Arguments]",Mx="[object Array]",Ax="[object Boolean]",Cx="[object Date]",Px="[object Error]",Yf="[object Function]",Dx="[object GeneratorFunction]",Lx="[object Map]",Rx="[object Number]",Xf="[object Object]",kx="[object RegExp]",Ix="[object Set]",Nx="[object String]",Bx="[object Symbol]",Ux="[object WeakMap]",Vx="[object ArrayBuffer]",Gx="[object DataView]",Fx="[object Float32Array]",Hx="[object Float64Array]",$x="[object Int8Array]",zx="[object Int16Array]",Wx="[object Int32Array]",jx="[object Uint8Array]",qx="[object Uint8ClampedArray]",Yx="[object Uint16Array]",Xx="[object Uint32Array]",bt={};bt[qf]=bt[Mx]=bt[Vx]=bt[Gx]=bt[Ax]=bt[Cx]=bt[Fx]=bt[Hx]=bt[$x]=bt[zx]=bt[Wx]=bt[Lx]=bt[Rx]=bt[Xf]=bt[kx]=bt[Ix]=bt[Nx]=bt[Bx]=bt[jx]=bt[qx]=bt[Yx]=bt[Xx]=!0;bt[Px]=bt[Yf]=bt[Ux]=!1;function Ka(t,e,n,r,a,i){var o,s=e&wx,l=e&Ex,u=e&Sx;if(n&&(o=a?n(t,r,a,i):n(t)),o!==void 0)return o;if(!ye(t))return t;var c=Vt(t);if(c){if(o=z1(t),!s)return Nc(t,o)}else{var h=Qn(t),f=h==Yf||h==Dx;if(Yn(t))return Df(t,s);if(h==Xf||h==qf||f&&!a){if(o=l||f?{}:zf(t),!s)return l?D1(t,O1(o,t)):A1(t,b1(o,t))}else{if(!bt[h])return a?t:{};o=vx(t,h,s)}}i||(i=new we);var p=i.get(t);if(p)return p;i.set(t,o),Tx(t)?t.forEach(function(m){o.add(Ka(m,e,n,m,t,i))}):_x(t)&&t.forEach(function(m,x){o.set(x,Ka(m,e,n,x,t,i))});var d=u?l?L1:Rs:l?Vr:Ur,g=c?void 0:d(t);return Xm(g||t,function(m,x){g&&(x=m,m=t[x]),Bc(o,x,Ka(m,e,n,x,t,i))}),o}var Zx=1,Kx=4;function Qx(t){return Ka(t,Zx|Kx)}var Jx="__lodash_hash_undefined__";function tb(t){return this.__data__.set(t,Jx),this}function eb(t){return this.__data__.has(t)}function $r(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ze;++e<n;)this.add(t[e])}$r.prototype.add=$r.prototype.push=tb;$r.prototype.has=eb;function Zf(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Kf(t,e){return t.has(e)}var nb=1,rb=2;function Qf(t,e,n,r,a,i){var o=n&nb,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(t),c=i.get(e);if(u&&c)return u==e&&c==t;var h=-1,f=!0,p=n&rb?new $r:void 0;for(i.set(t,e),i.set(e,t);++h<s;){var d=t[h],g=e[h];if(r)var m=o?r(g,d,h,e,t,i):r(d,g,h,t,e,i);if(m!==void 0){if(m)continue;f=!1;break}if(p){if(!Zf(e,function(x,y){if(!Kf(p,y)&&(d===x||a(d,x,n,r,i)))return p.push(y)})){f=!1;break}}else if(!(d===g||a(d,g,n,r,i))){f=!1;break}}return i.delete(t),i.delete(e),f}function ab(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n}function Bs(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ib=1,ob=2,sb="[object Boolean]",lb="[object Date]",ub="[object Error]",cb="[object Map]",fb="[object Number]",hb="[object RegExp]",pb="[object Set]",db="[object String]",vb="[object Symbol]",gb="[object ArrayBuffer]",mb="[object DataView]",Jf=me?me.prototype:void 0,Us=Jf?Jf.valueOf:void 0;function yb(t,e,n,r,a,i,o){switch(n){case mb:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gb:return!(t.byteLength!=e.byteLength||!i(new Za(t),new Za(e)));case sb:case lb:case fb:return Ir(+t,+e);case ub:return t.name==e.name&&t.message==e.message;case hb:case db:return t==e+"";case cb:var s=ab;case pb:var l=r&ib;if(s||(s=Bs),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=ob,o.set(t,e);var c=Qf(s(t),s(e),r,a,i,o);return o.delete(t),c;case vb:if(Us)return Us.call(t)==Us.call(e)}return!1}var _b=1,xb=Object.prototype,bb=xb.hasOwnProperty;function Ob(t,e,n,r,a,i){var o=n&_b,s=Rs(t),l=s.length,u=Rs(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var f=s[h];if(!(o?f in e:bb.call(e,f)))return!1}var p=i.get(t),d=i.get(e);if(p&&d)return p==e&&d==t;var g=!0;i.set(t,e),i.set(e,t);for(var m=o;++h<l;){f=s[h];var x=t[f],y=e[f];if(r)var v=o?r(y,x,f,e,t,i):r(x,y,f,t,e,i);if(!(v===void 0?x===y||a(x,y,n,r,i):v)){g=!1;break}m||(m=f=="constructor")}if(g&&!m){var b=t.constructor,O=e.constructor;b!=O&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof O=="function"&&O instanceof O)&&(g=!1)}return i.delete(t),i.delete(e),g}var Tb=1,th="[object Arguments]",eh="[object Array]",Qa="[object Object]",wb=Object.prototype,nh=wb.hasOwnProperty;function Eb(t,e,n,r,a,i){var o=Vt(t),s=Vt(e),l=o?eh:Qn(t),u=s?eh:Qn(e);l=l==th?Qa:l,u=u==th?Qa:u;var c=l==Qa,h=u==Qa,f=l==u;if(f&&Yn(t)){if(!Yn(e))return!1;o=!0,c=!1}if(f&&!c)return i||(i=new we),o||Wa(t)?Qf(t,e,n,r,a,i):yb(t,e,l,n,r,a,i);if(!(n&Tb)){var p=c&&nh.call(t,"__wrapped__"),d=h&&nh.call(e,"__wrapped__");if(p||d){var g=p?t.value():t,m=d?e.value():e;return i||(i=new we),a(g,m,n,r,i)}}return f?(i||(i=new we),Ob(t,e,n,r,a,i)):!1}function Ja(t,e,n,r,a){return t===e?!0:t==null||e==null||!De(t)&&!De(e)?t!==t&&e!==e:Eb(t,e,n,r,Ja,a)}var Sb=1,Mb=2;function Ab(t,e,n,r){var a=n.length,i=a,o=!r;if(t==null)return!i;for(t=Object(t);a--;){var s=n[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<i;){s=n[a];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var h=new we;if(r)var f=r(u,c,l,t,e,h);if(!(f===void 0?Ja(c,u,Sb|Mb,r,h):f))return!1}}return!0}function rh(t){return t===t&&!ye(t)}function Cb(t){for(var e=Ur(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,rh(a)]}return e}function ah(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Pb(t){var e=Cb(t);return e.length==1&&e[0][2]?ah(e[0][0],e[0][1]):function(n){return n===t||Ab(n,t,e)}}function Db(t,e){return t!=null&&e in Object(t)}function Lb(t,e,n){e=Kc(e,t);for(var r=-1,a=e.length,i=!1;++r<a;){var o=Ya(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=a?i:(a=t==null?0:t.length,!!a&&Ts(a)&&Os(o,a)&&(Vt(t)||qn(t)))}function Rb(t,e){return t!=null&&Lb(t,e,Db)}var kb=1,Ib=2;function Nb(t,e){return Ss(t)&&rh(e)?ah(Ya(t),e):function(n){var r=xt(n,t);return r===void 0&&r===e?Rb(n,t):Ja(e,r,kb|Ib)}}function Bb(t){return function(e){return e==null?void 0:e[t]}}function Ub(t){return function(e){return Qc(e,t)}}function Vb(t){return Ss(t)?Bb(Ya(t)):Ub(t)}function ti(t){return typeof t=="function"?t:t==null?ys:typeof t=="object"?Vt(t)?Nb(t[0],t[1]):Pb(t):Vb(t)}function Gb(t,e,n,r){for(var a=-1,i=t==null?0:t.length;++a<i;){var o=t[a];e(r,o,n(o),t)}return r}function Fb(t){return function(e,n,r){for(var a=-1,i=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++a];if(n(i[l],l,i)===!1)break}return e}}var Hb=Fb(),ih=Hb;function $b(t,e){return t&&ih(t,e,Ur)}function zb(t,e){return function(n,r){if(n==null)return n;if(!xn(n))return t(n,r);for(var a=n.length,i=e?a:-1,o=Object(n);(e?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var Wb=zb($b),Vs=Wb;function jb(t,e,n,r){return Vs(t,function(a,i,o){e(r,a,n(a),o)}),r}function qb(t,e){return function(n,r){var a=Vt(n)?Gb:jb,i=e?e():{};return a(n,t,ti(r),i)}}var Yb=function(){return Te.Date.now()},Gs=Yb,Xb="Expected a function",Zb=Math.max,Kb=Math.min;function Qb(t,e,n){var r,a,i,o,s,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Xb);e=kr(e)||0,ye(n)&&(c=!!n.leading,h="maxWait"in n,i=h?Zb(kr(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function p(T){var A=r,w=a;return r=a=void 0,u=T,o=t.apply(w,A),o}function d(T){return u=T,s=setTimeout(x,e),c?p(T):o}function g(T){var A=T-l,w=T-u,S=e-A;return h?Kb(S,i-w):S}function m(T){var A=T-l,w=T-u;return l===void 0||A>=e||A<0||h&&w>=i}function x(){var T=Gs();if(m(T))return y(T);s=setTimeout(x,g(T))}function y(T){return s=void 0,f&&r?p(T):(r=a=void 0,o)}function v(){s!==void 0&&clearTimeout(s),u=0,r=l=a=s=void 0}function b(){return s===void 0?o:y(Gs())}function O(){var T=Gs(),A=m(T);if(r=arguments,a=this,l=T,A){if(s===void 0)return d(l);if(h)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),o}return O.cancel=v,O.flush=b,O}function Fs(t,e,n){(n!==void 0&&!Ir(t[e],n)||n===void 0&&!(e in t))&&$a(t,e,n)}function Hs(t){return De(t)&&xn(t)}function $s(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Jb(t){return Nr(t,Vr(t))}function tO(t,e,n,r,a,i,o){var s=$s(t,n),l=$s(e,n),u=o.get(l);if(u){Fs(t,n,u);return}var c=i?i(s,l,n+"",t,e,o):void 0,h=c===void 0;if(h){var f=Vt(l),p=!f&&Yn(l),d=!f&&!p&&Wa(l);c=l,f||p||d?Vt(s)?c=s:Hs(s)?c=Nc(s):p?(h=!1,c=Df(l,!0)):d?(h=!1,c=$f(l,!0)):c=[]:j0(l)||qn(l)?(c=s,qn(s)?c=Jb(s):(!ye(s)||_s(s))&&(c=zf(l))):h=!1}h&&(o.set(l,c),a(c,l,r,i,o),o.delete(l)),Fs(t,n,c)}function oh(t,e,n,r,a){t!==e&&ih(e,function(i,o){if(a||(a=new we),ye(i))tO(t,e,o,n,oh,r,a);else{var s=r?r($s(t,o),i,o+"",t,e,a):void 0;s===void 0&&(s=i),Fs(t,o,s)}},Vr)}function eO(t,e,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}function nO(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function rO(t,e){var n=-1,r=xn(t)?Array(t.length):[];return Vs(t,function(a,i,o){r[++n]=e(a,i,o)}),r}function aO(t,e){var n=Vt(t)?Cc:rO;return n(t,ti(e))}var iO=1/0;function oO(t,e){return Xa(aO(t,e),iO)}function sO(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var a=t[e];r[a[0]]=a[1]}return r}var lO=Object.prototype,uO=lO.hasOwnProperty,cO=qb(function(t,e,n){uO.call(t,n)?t[n].push(e):$a(t,n,[e])}),fO=cO,hO="[object Map]",pO="[object Set]",dO=Object.prototype,vO=dO.hasOwnProperty;function gO(t){if(t==null)return!0;if(xn(t)&&(Vt(t)||typeof t=="string"||typeof t.splice=="function"||Yn(t)||Wa(t)||qn(t)))return!t.length;var e=Qn(t);if(e==hO||e==pO)return!t.size;if(za(t))return!Zc(t).length;for(var n in t)if(vO.call(t,n))return!1;return!0}function mO(t,e){return Ja(t,e)}var yO=Sf(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),_O=yO,xO=sy(function(t,e,n){oh(t,e,n)}),bO=xO;function OO(t,e){var n;return Vs(t,function(r,a,i){return n=e(r,a,i),!n}),!!n}function TO(t,e,n){var r=Vt(t)?Zf:OO;return n&&Gc(t,e,n)&&(e=void 0),r(t,ti(e))}var wO=1/0,EO=Kn&&1/Bs(new Kn([,-0]))[1]==wO?function(t){return new Kn(t)}:Um,SO=EO,MO=200;function sh(t,e,n){var r=-1,a=ty,i=t.length,o=!0,s=[],l=s;if(n)o=!1,a=eO;else if(i>=MO){var u=e?null:SO(t);if(u)return Bs(u);o=!1,a=Kf,l=new $r}else l=e?[]:s;t:for(;++r<i;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),s.push(c)}else a(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}var AO=Vc(function(t){var e=nO(t);return Hs(e)&&(e=void 0),sh(Xa(t,1,Hs,!0),ti(e))}),CO=AO;function PO(t){return t&&t.length?sh(t):[]}var zs="http://www.w3.org/1999/xhtml",lh={svg:"http://www.w3.org/2000/svg",xhtml:zs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ei(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lh.hasOwnProperty(e)?{space:lh[e],local:t}:t}function DO(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===zs&&e.documentElement.namespaceURI===zs?e.createElement(t):e.createElementNS(n,t)}}function LO(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function uh(t){var e=ei(t);return(e.local?LO:DO)(e)}function RO(){}function Ws(t){return t==null?RO:function(){return this.querySelector(t)}}function kO(t){typeof t!="function"&&(t=Ws(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,s=r[a]=new Array(o),l,u,c=0;c<o;++c)(l=i[c])&&(u=t.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new pe(r,this._parents)}function IO(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function NO(){return[]}function ch(t){return t==null?NO:function(){return this.querySelectorAll(t)}}function BO(t){return function(){return IO(t.apply(this,arguments))}}function UO(t){typeof t=="function"?t=BO(t):t=ch(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o=e[i],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),a.push(l));return new pe(r,a)}function fh(t){return function(){return this.matches(t)}}function hh(t){return function(e){return e.matches(t)}}var VO=Array.prototype.find;function GO(t){return function(){return VO.call(this.children,t)}}function FO(){return this.firstElementChild}function HO(t){return this.select(t==null?FO:GO(typeof t=="function"?t:hh(t)))}var $O=Array.prototype.filter;function zO(){return Array.from(this.children)}function WO(t){return function(){return $O.call(this.children,t)}}function jO(t){return this.selectAll(t==null?zO:WO(typeof t=="function"?t:hh(t)))}function qO(t){typeof t!="function"&&(t=fh(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,s=r[a]=[],l,u=0;u<o;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new pe(r,this._parents)}function ph(t){return new Array(t.length)}function YO(){return new pe(this._enter||this._groups.map(ph),this._parents)}function ni(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ni.prototype={constructor:ni,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function XO(t){return function(){return t}}function ZO(t,e,n,r,a,i){for(var o=0,s,l=e.length,u=i.length;o<u;++o)(s=e[o])?(s.__data__=i[o],r[o]=s):n[o]=new ni(t,i[o]);for(;o<l;++o)(s=e[o])&&(a[o]=s)}function KO(t,e,n,r,a,i,o){var s,l,u=new Map,c=e.length,h=i.length,f=new Array(c),p;for(s=0;s<c;++s)(l=e[s])&&(f[s]=p=o.call(l,l.__data__,s,e)+"",u.has(p)?a[s]=l:u.set(p,l));for(s=0;s<h;++s)p=o.call(t,i[s],s,i)+"",(l=u.get(p))?(r[s]=l,l.__data__=i[s],u.delete(p)):n[s]=new ni(t,i[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(f[s])===l&&(a[s]=l)}function QO(t){return t.__data__}function JO(t,e){if(!arguments.length)return Array.from(this,QO);var n=e?KO:ZO,r=this._parents,a=this._groups;typeof t!="function"&&(t=XO(t));for(var i=a.length,o=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var c=r[u],h=a[u],f=h.length,p=tT(t.call(c,c&&c.__data__,u,r)),d=p.length,g=s[u]=new Array(d),m=o[u]=new Array(d),x=l[u]=new Array(f);n(c,h,g,m,x,p,e);for(var y=0,v=0,b,O;y<d;++y)if(b=g[y]){for(y>=v&&(v=y+1);!(O=m[v])&&++v<d;);b._next=O||null}}return o=new pe(o,r),o._enter=s,o._exit=l,o}function tT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eT(){return new pe(this._exit||this._groups.map(ph),this._parents)}function nT(t,e,n){var r=this.enter(),a=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function rT(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,o=Math.min(a,i),s=new Array(a),l=0;l<o;++l)for(var u=n[l],c=r[l],h=u.length,f=s[l]=new Array(h),p,d=0;d<h;++d)(p=u[d]||c[d])&&(f[d]=p);for(;l<a;++l)s[l]=n[l];return new pe(s,this._parents)}function aT(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function iT(t){t||(t=oT);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],s=o.length,l=a[i]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new pe(a,this._parents).order()}function oT(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function sT(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function lT(){return Array.from(this)}function uT(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function cT(){let t=0;for(const e of this)++t;return t}function fT(){return!this.node()}function hT(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],i=0,o=a.length,s;i<o;++i)(s=a[i])&&t.call(s,s.__data__,i,a);return this}function pT(t){return function(){this.removeAttribute(t)}}function dT(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vT(t,e){return function(){this.setAttribute(t,e)}}function gT(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function mT(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function yT(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function _T(t,e){var n=ei(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?dT:pT:typeof e=="function"?n.local?yT:mT:n.local?gT:vT)(n,e))}function dh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xT(t){return function(){this.style.removeProperty(t)}}function bT(t,e,n){return function(){this.style.setProperty(t,e,n)}}function OT(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function TT(t,e,n){return arguments.length>1?this.each((e==null?xT:typeof e=="function"?OT:bT)(t,e,n==null?"":n)):Jn(this.node(),t)}function Jn(t,e){return t.style.getPropertyValue(e)||dh(t).getComputedStyle(t,null).getPropertyValue(e)}function wT(t){return function(){delete this[t]}}function ET(t,e){return function(){this[t]=e}}function ST(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function MT(t,e){return arguments.length>1?this.each((e==null?wT:typeof e=="function"?ST:ET)(t,e)):this.node()[t]}function vh(t){return t.trim().split(/^|\s+/)}function js(t){return t.classList||new gh(t)}function gh(t){this._node=t,this._names=vh(t.getAttribute("class")||"")}gh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function mh(t,e){for(var n=js(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function yh(t,e){for(var n=js(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function AT(t){return function(){mh(this,t)}}function CT(t){return function(){yh(this,t)}}function PT(t,e){return function(){(e.apply(this,arguments)?mh:yh)(this,t)}}function DT(t,e){var n=vh(t+"");if(arguments.length<2){for(var r=js(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?PT:e?AT:CT)(n,e))}function LT(){this.textContent=""}function RT(t){return function(){this.textContent=t}}function kT(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function IT(t){return arguments.length?this.each(t==null?LT:(typeof t=="function"?kT:RT)(t)):this.node().textContent}function NT(){this.innerHTML=""}function BT(t){return function(){this.innerHTML=t}}function UT(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function VT(t){return arguments.length?this.each(t==null?NT:(typeof t=="function"?UT:BT)(t)):this.node().innerHTML}function GT(){this.nextSibling&&this.parentNode.appendChild(this)}function FT(){return this.each(GT)}function HT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $T(){return this.each(HT)}function zT(t){var e=typeof t=="function"?t:uh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function WT(){return null}function jT(t,e){var n=typeof t=="function"?t:uh(t),r=e==null?WT:typeof e=="function"?e:Ws(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qT(){var t=this.parentNode;t&&t.removeChild(this)}function YT(){return this.each(qT)}function XT(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ZT(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function KT(t){return this.select(t?ZT:XT)}function QT(t){return arguments.length?this.property("__data__",t):this.node().__data__}function JT(t){return function(e){t.call(this,e,this.__data__)}}function tw(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ew(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,a=e.length,i;n<a;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function nw(t,e,n){return function(){var r=this.__on,a,i=JT(e);if(r){for(var o=0,s=r.length;o<s;++o)if((a=r[o]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=e;return}}this.addEventListener(t.type,i,n),a={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(a):this.__on=[a]}}function rw(t,e,n){var r=tw(t+""),a,i=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(a=0,c=s[l];a<i;++a)if((o=r[a]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?nw:ew,a=0;a<i;++a)this.each(s(r[a],e,n));return this}function _h(t,e,n){var r=dh(t),a=r.CustomEvent;typeof a=="function"?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function aw(t,e){return function(){return _h(this,t,e)}}function iw(t,e){return function(){return _h(this,t,e.apply(this,arguments))}}function ow(t,e){return this.each((typeof e=="function"?iw:aw)(t,e))}function*sw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var xh=[null];function pe(t,e){this._groups=t,this._parents=e}function zr(){return new pe([[document.documentElement]],xh)}function lw(){return this}pe.prototype=zr.prototype={constructor:pe,select:kO,selectAll:UO,selectChild:HO,selectChildren:jO,filter:qO,data:JO,enter:YO,exit:eT,join:nT,merge:rT,selection:lw,order:aT,sort:iT,call:sT,nodes:lT,node:uT,size:cT,empty:fT,each:hT,attr:_T,style:TT,property:MT,classed:DT,text:IT,html:VT,raise:FT,lower:$T,append:zT,insert:jT,remove:YT,clone:KT,datum:QT,on:rw,dispatch:ow,[Symbol.iterator]:sw};function B(t){return typeof t=="string"?new pe([[document.querySelector(t)]],[document.documentElement]):new pe([[t]],xh)}function uw(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Tn(t,e){if(t=uw(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}var _;(function(t){t.debounce=Qb,t.clone=Qx,t.merge=bO,t.unionBy=CO,t.removeArrayDuplicates=PO,t.clamp=d1,t.flatten=V0,t.groupBy=fO,t.camelCase=h1,t.isEmpty=gO,t.isEqual=mO,t.flatMapDeep=oO,t.kebabCase=_O,t.fromPairs=sO,t.some=TO;function e(g,m,x){var y=null;return function(){var v=this,b=arguments;v.mousePosition=Tn(b[0],x),clearTimeout(y),y=setTimeout(function(){g.apply(v,b)},m)}}t.debounceWithD3MousePosition=e;function n(g,m){var x,y,v=t.clone(g),b=Object.keys(m.axes||{});((y=(x=m)===null||x===void 0?void 0:x.toolbar)===null||y===void 0?void 0:y.controls)&&delete v.toolbar.controls,b.length===0&&delete v.axes;for(var O in v.axes)if(b.includes(O)){var T=m.axes[O];(T.primary||T.secondary)&&console.warn("`primary` & `secondary` are no longer needed for axis configurations. Read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var A=T.mapsTo;if(A==null){var w=T.scaleType;w==null?T.mapsTo="value":w===K.TIME?T.mapsTo="date":w===K.LABELS&&(T.mapsTo="key")}}else delete v.axes[O];return c(v,m),t.merge(v,m)}t.mergeDefaultChartOptions=n;function r(g){return{width:parseFloat(g.style.width.replace("px","")||g.offsetWidth),height:parseFloat(g.style.height.replace("px","")||g.offsetHeight)}}t.getDimensions=r;function a(g){if(!!g){var m=/translate\([0-9]+\.?[0-9]*,[0-9]+\.?[0-9]*\)/,x=g.getAttribute("transform").match(m);if(!x)return null;if(x[0]){var y=x[0].replace(/translate\(/,"").replace(/\)/,"").split(",");return{tx:y[0],ty:y[1]}}return null}}t.getTranslationValues=a;function i(g){var m=/\(([^)]+)\)/,x=m.exec(g)[1],y=x.split(",");return{x:parseFloat(y[0]),y:parseFloat(y[1])}}t.getTranformOffsets=i;function o(g){var m=g.toString();return m.match(/[a-z]/i)?m:m+"px"}t.formatWidthHeightValues=o;function s(g){return g[0].toUpperCase()+g.slice(1)}t.capitalizeFirstLetter=s;function l(g,m,x){x===void 0&&(x="value");var y=g/m.reduce(function(v,b){return v+b[x]},0)*100;return y%1!=0?parseFloat(y.toFixed(1)):y}t.convertValueToPercentage=l;function u(g,m,x){if(x>g.length)return g;if(m===Fe.MID_LINE)return g.substr(0,x/2)+"..."+g.substr(-x/2);if(m===Fe.FRONT_LINE)return"..."+g.substr(-x);if(m===Fe.END_LINE)return g.substr(0,x)+"..."}t.truncateLabel=u;function c(g,m){var x=t.getProperty(g,"legend","additionalItems"),y=t.getProperty(m,"legend","additionalItems");if(x&&y){var v=y.map(function(T){return T.type}),b=x.map(function(T){return T.type}),O=Ec.filter(function(T){return b.includes(T.type)&&!v.includes(T.type)});g.legend.additionalItems=O,m.legend.additionalItems=t.unionBy(O,y,"name")}}t.updateLegendAdditionalItems=c;function h(g,m){var x={missing:[],added:[]};return g.forEach(function(y){m.indexOf(y)===-1&&x.missing.push(y)}),m.forEach(function(y){g.indexOf(y)===-1&&x.added.push(y)}),x}t.arrayDifferences=h;function f(g){var m=[],x=[];return g.forEach(function(y){m.indexOf(y)!==-1&&x.indexOf(y)===-1&&x.push(y),m.push(y)}),x}t.getDuplicateValues=f;function p(g){return g.each(function(){this.parentNode.appendChild(this)})}t.moveToFront=p,t.getProperty=function(g){for(var m=[],x=1;x<arguments.length;x++)m[x-1]=arguments[x];var y=g;if(y){for(var v=0,b=m;v<b.length;v++){var O=b[v];if(y[O]!==null&&y[O]!==void 0)y=y[O];else return null}return y}return null},t.flipSVGCoordinatesBasedOnOrientation=function(g,m){return m===kt.HORIZONTAL?{y0:g.x0,y1:g.x1,x0:g.y0,x1:g.y1}:g},t.generateSVGPathString=function(g,m){var x=t.flipSVGCoordinatesBasedOnOrientation(g,m),y=x.x0,v=x.x1,b=x.y0,O=x.y1;return"M"+y+","+b+"L"+y+","+O+"L"+v+","+O+"L"+v+","+b+"L"+y+","+b};function d(g,m,x){return x===kt.VERTICAL?[g,m]:[m,g]}t.flipDomainAndRangeBasedOnOrientation=d,t.compareNumeric=function(g,m){return Number(g)===Number(m)}})(_||(_={}));function cw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fw(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}var qs={exports:{}},Ys={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(a,i,o){o=o||{};var s;return typeof n[a]=="string"?s=n[a]:i===1?s=n[a].one:s=n[a].other.replace("{{count}}",i),o.addSuffix?o.comparison>0?"in "+s:s+" ago":s}t.exports=e.default})(Ys,Ys.exports);var Xs={exports:{}},Zs={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){return function(a){var i=a||{},o=i.width?String(i.width):r.defaultWidth,s=r.formats[o]||r.formats[r.defaultWidth];return s}}t.exports=e.default})(Zs,Zs.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Zs.exports);function r(u){return u&&u.__esModule?u:{default:u}}var a={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,n.default)({formats:a,defaultWidth:"full"}),time:(0,n.default)({formats:i,defaultWidth:"full"}),dateTime:(0,n.default)({formats:o,defaultWidth:"full"})},l=s;e.default=l,t.exports=e.default})(Xs,Xs.exports);var Ks={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function r(a,i,o,s){return n[a]}t.exports=e.default})(Ks,Ks.exports);var Qs={exports:{}},Js={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){return function(a,i){var o=i||{},s=o.context?String(o.context):"standalone",l;if(s==="formatting"&&r.formattingValues){var u=r.defaultFormattingWidth||r.defaultWidth,c=o.width?String(o.width):u;l=r.formattingValues[c]||r.formattingValues[u]}else{var h=r.defaultWidth,f=o.width?String(o.width):r.defaultWidth;l=r.values[f]||r.values[h]}var p=r.argumentCallback?r.argumentCallback(a):a;return l[p]}}t.exports=e.default})(Js,Js.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Js.exports);function r(p){return p&&p.__esModule?p:{default:p}}var a={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function c(p,d){var g=Number(p),m=g%100;if(m>20||m<10)switch(m%10){case 1:return g+"st";case 2:return g+"nd";case 3:return g+"rd"}return g+"th"}var h={ordinalNumber:c,era:(0,n.default)({values:a,defaultWidth:"wide"}),quarter:(0,n.default)({values:i,defaultWidth:"wide",argumentCallback:function(p){return Number(p)-1}}),month:(0,n.default)({values:o,defaultWidth:"wide"}),day:(0,n.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},f=h;e.default=f,t.exports=e.default})(Qs,Qs.exports);var tl={exports:{}},el={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){return function(a,i){var o=String(a),s=i||{},l=o.match(r.matchPattern);if(!l)return null;var u=l[0],c=o.match(r.parsePattern);if(!c)return null;var h=r.valueCallback?r.valueCallback(c[0]):c[0];return h=s.valueCallback?s.valueCallback(h):h,{value:h,rest:o.slice(u.length)}}}t.exports=e.default})(el,el.exports);var nl={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(i){return function(o,s){var l=String(o),u=s||{},c=u.width,h=c&&i.matchPatterns[c]||i.matchPatterns[i.defaultMatchWidth],f=l.match(h);if(!f)return null;var p=f[0],d=c&&i.parsePatterns[c]||i.parsePatterns[i.defaultParseWidth],g;return Object.prototype.toString.call(d)==="[object Array]"?g=a(d,function(m){return m.test(l)}):g=r(d,function(m){return m.test(l)}),g=i.valueCallback?i.valueCallback(g):g,g=u.valueCallback?u.valueCallback(g):g,{value:g,rest:l.slice(p.length)}}}function r(i,o){for(var s in i)if(i.hasOwnProperty(s)&&o(i[s]))return s}function a(i,o){for(var s=0;s<i.length;s++)if(o(i[s]))return s}t.exports=e.default})(nl,nl.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(el.exports),r=a(nl.exports);function a(v){return v&&v.__esModule?v:{default:v}}var i=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},x={ordinalNumber:(0,n.default)({matchPattern:i,parsePattern:o,valueCallback:function(v){return parseInt(v,10)}}),era:(0,r.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any",valueCallback:function(v){return v+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:g,defaultMatchWidth:"any",parsePatterns:m,defaultParseWidth:"any"})},y=x;e.default=y,t.exports=e.default})(tl,tl.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(Ys.exports),r=s(Xs.exports),a=s(Ks.exports),i=s(Qs.exports),o=s(tl.exports);function s(c){return c&&c.__esModule?c:{default:c}}var l={code:"en-US",formatDistance:n.default,formatLong:r.default,formatRelative:a.default,localize:i.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,t.exports=e.default})(qs,qs.exports);var hw=cw(qs.exports),pw=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},tr={type:Fe.END_LINE,threshold:16,numCharacter:14},dw={enabled:!0,position:Hn.BOTTOM,clickable:!0,truncation:tr,alignment:Ut.LEFT,order:null,additionalItems:[]},bh={x:{enabled:!0,numberOfTicks:15,alignWithAxisTicks:!1},y:{enabled:!0,numberOfTicks:5,alignWithAxisTicks:!1}},Oh={enabled:!0},rl={enabled:!0,showTotal:!0,truncation:tr,groupLabel:"Group"},Th={top:{visible:!0,includeZero:!0,truncation:tr},bottom:{visible:!0,includeZero:!0,truncation:tr},left:{visible:!0,includeZero:!0,truncation:tr},right:{visible:!0,includeZero:!0,truncation:tr}},Wr={addSpaceOnEdges:1,showDayName:!1,localeObject:hw,timeIntervalFormats:{"15seconds":{primary:"MMM d, pp",secondary:"pp"},minute:{primary:"MMM d, p",secondary:"p"},"30minutes":{primary:"MMM d, p",secondary:"p"},hourly:{primary:"MMM d, hh a",secondary:"hh a"},daily:{primary:"MMM d",secondary:"d"},weekly:{primary:"eee, MMM d",secondary:"eee"},monthly:{primary:"MMM yyyy",secondary:"MMM"},quarterly:{primary:"QQQ ''yy",secondary:"QQQ"},yearly:{primary:"yyyy",secondary:"yyyy"}}},vw=typeof document!="undefined"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),Jt={width:null,height:null,resizable:!0,tooltip:rl,legend:dw,style:{prefix:"cc"},data:{groupMapsTo:"group",loading:!1,selectedGroups:[]},color:{scale:null,pairing:{numberOfVariants:null,option:1},gradient:{enabled:!1}},toolbar:{enabled:!0,numberOfIcons:3,controls:pw([{type:Et.SHOW_AS_DATATABLE}],vw?[{type:Et.MAKE_FULLSCREEN}]:[],[{type:Et.EXPORT_CSV},{type:Et.EXPORT_PNG},{type:Et.EXPORT_JPG}])}},jr=_.merge({},Jt,{axes:Th,timeScale:Wr,grid:bh,ruler:Oh,zoomBar:{zoomRatio:.4,minZoomRatio:.01,top:{enabled:!1,type:Oe.GRAPH_VIEW}}}),wn=_.merge({},jr,{bars:{maxWidth:16},timeScale:_.merge(Wr,{addSpaceOnEdges:1})}),gw=_.merge({},wn,{}),mw=_.merge({},wn,{}),yw=_.merge({},wn,{bars:_.merge({},wn.bars,{dividerSize:1.5})}),_w=_.merge({},wn,{}),al=_.merge({},jr,{points:{radius:4,fillOpacity:.3,filled:!0,enabled:!0}}),xw=al,wh=_.merge({},al,{points:{radius:3,filled:!1,enabled:!0}}),Eh=_.merge({},wh,{timeScale:_.merge(Wr,{addSpaceOnEdges:0})}),bw=Eh,Ow=_.merge({},jr,{bubble:{radiusMapsTo:"radius",radiusLabel:"Radius",radiusRange:function(t,e){var n=Math.min(t.width,t.height);return[n*3/400,n*25/400]},fillOpacity:.2,enabled:!0},points:{filled:!0},legend:{additionalItems:[{type:Rt.RADIUS,name:"Radius"}]}}),Tw=_.merge({},jr,{bullet:{performanceAreaTitles:["Poor","Satisfactory","Great"]},grid:{x:{enabled:!1},y:{enabled:!1}},legend:{additionalItems:[{type:Rt.AREA,name:"Poor area"},{type:Rt.AREA,name:"Satisfactory area"},{type:Rt.AREA,name:"Great area"},{type:Rt.QUARTILE,name:"Quartiles"}]}}),ww=_.merge({},wn,{bars:{dividerSize:1.5},timeScale:_.merge(Wr,{addSpaceOnEdges:0})}),Ew=_.merge({},Jt,{tooltip:_.merge({},rl,{wordLabel:"Word",valueLabel:"Value"}),wordCloud:{fontSizeMapsTo:"value",fontSizeRange:function(t,e){var n=Math.min(t.width,t.height);return[n*20/400,n*75/400]},wordMapsTo:"word"}}),Sh=_.merge({},Jt,{pie:{labels:{formatter:null,enabled:!0},alignment:Ut.LEFT,sortFunction:null,valueMapsTo:"value"}}),Sw=_.merge({},Jt,{legend:{enabled:!1},gauge:{type:vn.SEMI,arcWidth:16,deltaArrow:{size:function(t){return t/8},enabled:!0},showPercentageSymbol:!0,status:null,numberSpacing:10,deltaFontSize:function(t){return t/8},valueFontSize:function(t){return t/2.5},numberFormatter:function(t){return t.toFixed(2)%1!=0?t.toFixed(2).toLocaleString():t.toFixed().toLocaleString()},alignment:Ut.LEFT}}),Mw=_.merge({},Sh,{donut:{center:{numberFontSize:function(t){return Math.min(t/100*24,24)+"px"},titleFontSize:function(t){return Math.min(t/100*15,15)+"px"},titleYPosition:function(t){return Math.min(t/80*20,20)},numberFormatter:function(t){return Math.floor(t).toLocaleString()}},alignment:Ut.LEFT}}),Mh=_.merge({},Jt,{legend:{enabled:!1,clickable:!1},meter:{proportional:null,statusBar:{percentageIndicator:{enabled:!0}}}}),Aw=_.merge({},Mh,{legend:{enabled:!0}}),Cw=_.merge({},Jt,{radar:{axes:{angle:"key",value:"value"},alignment:Ut.LEFT},tooltip:{gridline:{enabled:!0},valueFormatter:function(t){return t!=null?t:"N/A"}}}),Pw=_.merge({},wn,{comboChartTypes:[]}),Dw=_.merge({tree:{type:Ba.TREE}},Jt,{}),Lw=_.merge({},Jt,{data:_.merge(Jt.data,{groupMapsTo:"name"})}),Rw=_.merge({},Jt,gn,{data:_.merge(Jt.data,{groupMapsTo:"name"})}),kw=_.merge({},Jt,{alluvial:{data:_.merge(Jt.data,{groupMapsTo:"source"}),nodePadding:24,monochrome:!1,nodes:[]}}),Iw=_.merge({},Jt,{axes:Th,heatmap:{divider:{state:Wn.AUTO},colorLegend:{type:"linear"}}}),_t={chart:Jt,axisChart:jr,simpleBarChart:gw,groupedBarChart:mw,stackedBarChart:yw,boxplotChart:_w,bubbleChart:Ow,bulletChart:Tw,histogramChart:ww,lineChart:wh,areaChart:Eh,stackedAreaChart:bw,scatterChart:al,lollipopChart:xw,pieChart:Sh,donutChart:Mw,meterChart:Mh,proportionalMeterChart:Aw,radarChart:Cw,gaugeChart:Sw,comboChart:Pw,treeChart:Dw,treemapChart:Lw,circlePackChart:Rw,wordCloudChart:Ew,alluvialChart:kw,heatmapChart:Iw},Ah=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",grid:bh,ruler:Oh,baseTooltip:rl,timeScale:Wr,options:_t,area:Ce,axis:He,canvasZoomSettings:jn,circlePack:gn,color:ds,boxplot:he,histogram:Tc,legend:Ot,lines:Pe,meter:It,pie:yt,radar:an,alluvial:ge,heatmap:vs,spacers:gs,tooltips:wc,transitions:ms,toolbar:qg,zoomBar:ae,defaultLegendAdditionalItems:Ec});function ri(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function il(t){let e=t,n=t;t.length===1&&(e=(o,s)=>t(o)-s,n=Nw(t));function r(o,s,l,u){for(l==null&&(l=0),u==null&&(u=o.length);l<u;){const c=l+u>>>1;n(o[c],s)<0?l=c+1:u=c}return l}function a(o,s,l,u){for(l==null&&(l=0),u==null&&(u=o.length);l<u;){const c=l+u>>>1;n(o[c],s)>0?u=c:l=c+1}return l}function i(o,s,l,u){l==null&&(l=0),u==null&&(u=o.length);const c=r(o,s,l,u-1);return c>l&&e(o[c-1],s)>-e(o[c],s)?c-1:c}return{left:r,center:i,right:a}}function Nw(t){return(e,n)=>ri(t(e),n)}function Bw(t){return t===null?NaN:+t}function*Uw(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Vw=il(ri),Gw=Vw.right;il(Bw).center;var ol=Gw;function Fw(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(a=+a)>=a&&++n}return n}function Le(t,e){let n,r;if(e===void 0)for(const a of t)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of t)(i=e(i,++a,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class Ch extends Map{constructor(e,n=zw){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(Ph(this,e))}has(e){return super.has(Ph(this,e))}set(e,n){return super.set(Hw(this,e),n)}delete(e){return super.delete($w(this,e))}}function Ph({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hw({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function $w({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(n),t.delete(r)),n}function zw(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ww(t){return t}var jw=Array.prototype,qw=jw.slice;function ai(t){return function(){return t}}var sl=Math.sqrt(50),ll=Math.sqrt(10),ul=Math.sqrt(2);function ii(t,e,n){var r,a=-1,i,o,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),(s=oi(t,e,n))===0||!isFinite(s))return[];if(s>0){let l=Math.round(t/s),u=Math.round(e/s);for(l*s<t&&++l,u*s>e&&--u,o=new Array(i=u-l+1);++a<i;)o[a]=(l+a)*s}else{s=-s;let l=Math.round(t*s),u=Math.round(e*s);for(l/s<t&&++l,u/s>e&&--u,o=new Array(i=u-l+1);++a<i;)o[a]=(l+a)/s}return r&&o.reverse(),o}function oi(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=sl?10:i>=ll?5:i>=ul?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=sl?10:i>=ll?5:i>=ul?2:1)}function cl(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=sl?a*=10:i>=ll?a*=5:i>=ul&&(a*=2),e<t?-a:a}function Yw(t,e,n){let r;for(;;){const a=oi(t,e,n);if(a===r||a===0||!isFinite(a))return[t,e];a>0?(t=Math.floor(t/a)*a,e=Math.ceil(e/a)*a):a<0&&(t=Math.ceil(t*a)/a,e=Math.floor(e*a)/a),r=a}}function Xw(t){return Math.ceil(Math.log(Fw(t))/Math.LN2)+1}function Zw(){var t=Ww,e=Le,n=Xw;function r(a){Array.isArray(a)||(a=Array.from(a));var i,o=a.length,s,l=new Array(o);for(i=0;i<o;++i)l[i]=t(a[i],i,a);var u=e(l),c=u[0],h=u[1],f=n(l,c,h);if(!Array.isArray(f)){const m=h,x=+f;if(e===Le&&([c,h]=Yw(c,h,x)),f=ii(c,h,x),f[f.length-1]>=h)if(m>=h&&e===Le){const y=oi(c,h,x);isFinite(y)&&(y>0?h=(Math.floor(h/y)+1)*y:y<0&&(h=(Math.ceil(h*-y)+1)/-y))}else f.pop()}for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d=new Array(p+1),g;for(i=0;i<=p;++i)g=d[i]=[],g.x0=i>0?f[i-1]:c,g.x1=i<p?f[i]:h;for(i=0;i<o;++i)s=l[i],c<=s&&s<=h&&d[ol(f,s,0,p)].push(a[i]);return d}return r.value=function(a){return arguments.length?(t=typeof a=="function"?a:ai(a),r):t},r.domain=function(a){return arguments.length?(e=typeof a=="function"?a:ai([a[0],a[1]]),r):e},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:Array.isArray(a)?ai(qw.call(a)):ai(a),r):n},r}function We(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function je(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function Dh(t,e,n=0,r=t.length-1,a=ri){for(;r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/l+f)),d=Math.min(r,Math.floor(e+(l-u)*h/l+f));Dh(t,e,p,d,a)}const i=t[e];let o=n,s=r;for(qr(t,n,e),a(t[r],i)>0&&qr(t,n,r);o<s;){for(qr(t,o,s),++o,--s;a(t[o],i)<0;)++o;for(;a(t[s],i)>0;)--s}a(t[n],i)===0?qr(t,n,s):(++s,qr(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function qr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fl(t,e,n){if(t=Float64Array.from(Uw(t,n)),!!(r=t.length)){if((e=+e)<=0||r<2)return je(t);if(e>=1)return We(t);var r,a=(r-1)*e,i=Math.floor(a),o=We(Dh(t,i).subarray(0,i+1)),s=je(t.subarray(i+1));return o+(s-o)*(a-i)}}function Kw(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Yr(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&(n+=a)}return n}function er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Lh=Symbol("implicit");function si(){var t=new Ch,e=[],n=[],r=Lh;function a(i){let o=t.get(i);if(o===void 0){if(r!==Lh)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Ch;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return si(e,n).unknown(r)},er.apply(a,arguments),a}function Xr(){var t=si().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,p=a<r,d=p?a:r,g=p?r:a;i=(g-d)/Math.max(1,f-l+u*2),s&&(i=Math.floor(i)),d+=(g-d-i*(f-l))*c,o=i*(1-l),s&&(d=Math.round(d),o=Math.round(o));var m=Kw(f).map(function(x){return d+i*x});return n(p?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},t.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return Xr(e(),[r,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},er.apply(h(),arguments)}function hl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rh(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zr(){}var Kr=.7,li=1/Kr,nr="\\s*([+-]?\\d+)\\s*",Qr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qw=/^#([0-9a-f]{3,8})$/,Jw=new RegExp("^rgb\\("+[nr,nr,nr]+"\\)$"),tE=new RegExp("^rgb\\("+[Re,Re,Re]+"\\)$"),eE=new RegExp("^rgba\\("+[nr,nr,nr,Qr]+"\\)$"),nE=new RegExp("^rgba\\("+[Re,Re,Re,Qr]+"\\)$"),rE=new RegExp("^hsl\\("+[Qr,Re,Re]+"\\)$"),aE=new RegExp("^hsla\\("+[Qr,Re,Re,Qr]+"\\)$"),kh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hl(Zr,qe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ih,formatHex:Ih,formatHsl:iE,formatRgb:Nh,toString:Nh});function Ih(){return this.rgb().formatHex()}function iE(){return Fh(this).formatHsl()}function Nh(){return this.rgb().formatRgb()}function qe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Qw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Bh(e):n===3?new de(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ui(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ui(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jw.exec(t))?new de(e[1],e[2],e[3],1):(e=tE.exec(t))?new de(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eE.exec(t))?ui(e[1],e[2],e[3],e[4]):(e=nE.exec(t))?ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rE.exec(t))?Gh(e[1],e[2]/100,e[3]/100,1):(e=aE.exec(t))?Gh(e[1],e[2]/100,e[3]/100,e[4]):kh.hasOwnProperty(t)?Bh(kh[t]):t==="transparent"?new de(NaN,NaN,NaN,0):null}function Bh(t){return new de(t>>16&255,t>>8&255,t&255,1)}function ui(t,e,n,r){return r<=0&&(t=e=n=NaN),new de(t,e,n,r)}function oE(t){return t instanceof Zr||(t=qe(t)),t?(t=t.rgb(),new de(t.r,t.g,t.b,t.opacity)):new de}function pl(t,e,n,r){return arguments.length===1?oE(t):new de(t,e,n,r==null?1:r)}function de(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hl(de,pl,Rh(Zr,{brighter:function(t){return t=t==null?li:Math.pow(li,t),new de(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Kr:Math.pow(Kr,t),new de(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uh,formatHex:Uh,formatRgb:Vh,toString:Vh}));function Uh(){return"#"+dl(this.r)+dl(this.g)+dl(this.b)}function Vh(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function dl(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Gh(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ke(t,e,n,r)}function Fh(t){if(t instanceof ke)return new ke(t.h,t.s,t.l,t.opacity);if(t instanceof Zr||(t=qe(t)),!t)return new ke;if(t instanceof ke)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(e===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ke(o,s,l,t.opacity)}function vl(t,e,n,r){return arguments.length===1?Fh(t):new ke(t,e,n,r==null?1:r)}function ke(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hl(ke,vl,Rh(Zr,{brighter:function(t){return t=t==null?li:Math.pow(li,t),new ke(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Kr:Math.pow(Kr,t),new ke(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new de(gl(t>=240?t-240:t+120,a,r),gl(t,a,r),gl(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function gl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var ml=t=>()=>t;function sE(t,e){return function(n){return t+n*e}}function lE(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uE(t){return(t=+t)==1?Hh:function(e,n){return n-e?lE(e,n,t):ml(isNaN(e)?n:e)}}function Hh(t,e){var n=e-t;return n?sE(t,n):ml(isNaN(t)?e:t)}var ci=function t(e){var n=uE(e);function r(a,i){var o=n((a=pl(a)).r,(i=pl(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),u=Hh(a.opacity,i.opacity);return function(c){return a.r=o(c),a.g=s(c),a.b=l(c),a.opacity=u(c),a+""}}return r.gamma=t,r}(1);function cE(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function fE(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hE(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Jr(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function pE(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _e(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dE(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Jr(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var yl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_l=new RegExp(yl.source,"g");function vE(t){return function(){return t}}function gE(t){return function(e){return t(e)+""}}function $h(t,e){var n=yl.lastIndex=_l.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=yl.exec(t))&&(a=_l.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:_e(r,a)})),n=_l.lastIndex;return n<e.length&&(i=e.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?gE(l[0].x):vE(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function Jr(t,e){var n=typeof e,r;return e==null||n==="boolean"?ml(e):(n==="number"?_e:n==="string"?(r=qe(e))?(e=r,ci):$h:e instanceof qe?ci:e instanceof Date?pE:fE(e)?cE:Array.isArray(e)?hE:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dE:_e)(t,e)}function xl(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var zh=180/Math.PI,bl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wh(t,e,n,r,a,i){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*zh,skewX:Math.atan(l)*zh,scaleX:o,scaleY:s}}var fi;function mE(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bl:Wh(e.a,e.b,e.c,e.d,e.e,e.f)}function yE(t){return t==null||(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",t),!(t=fi.transform.baseVal.consolidate()))?bl:(t=t.matrix,Wh(t.a,t.b,t.c,t.d,t.e,t.f))}function jh(t,e,n,r){function a(u){return u.length?u.pop()+" ":""}function i(u,c,h,f,p,d){if(u!==h||c!==f){var g=p.push("translate(",null,e,null,n);d.push({i:g-4,x:_e(u,h)},{i:g-2,x:_e(c,f)})}else(h||f)&&p.push("translate("+h+e+f+n)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(a(h)+"rotate(",null,r)-2,x:_e(u,c)})):c&&h.push(a(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(a(h)+"skewX(",null,r)-2,x:_e(u,c)}):c&&h.push(a(h)+"skewX("+c+r)}function l(u,c,h,f,p,d){if(u!==h||c!==f){var g=p.push(a(p)+"scale(",null,",",null,")");d.push({i:g-4,x:_e(u,h)},{i:g-2,x:_e(c,f)})}else(h!==1||f!==1)&&p.push(a(p)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),i(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(p){for(var d=-1,g=f.length,m;++d<g;)h[(m=f[d]).i]=m.x(p);return h.join("")}}}var _E=jh(mE,"px, ","px)","deg)"),xE=jh(yE,", ",")",")");function bE(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function OE(t){return function(){return t}}function TE(t){return+t}var qh=[0,1];function rr(t){return t}function Ol(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:OE(isNaN(e)?NaN:.5)}function wE(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function EE(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=Ol(a,r),i=n(o,i)):(r=Ol(r,a),i=n(i,o)),function(s){return i(r(s))}}function SE(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=Ol(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(s){var l=ol(t,s,1,r)-1;return i[l](a[l](s))}}function Tl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yh(){var t=qh,e=qh,n=Jr,r,a,i,o=rr,s,l,u;function c(){var f=Math.min(t.length,e.length);return o!==rr&&(o=wE(t[0],t[f-1])),s=f>2?SE:EE,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(l||(l=s(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(a((u||(u=s(e,t.map(r),_e)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,TE),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=xl,c()},h.clamp=function(f){return arguments.length?(o=f?!0:rr,c()):o!==rr},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,p){return r=f,a=p,c()}}function Xh(){return Yh()(rr,rr)}function ME(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ar(t){return t=hi(Math.abs(t)),t?t[1]:NaN}function AE(t,e){return function(n,r){for(var a=n.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(e)}}function CE(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var PE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ta(t){if(!(e=PE.exec(t)))throw new Error("invalid format: "+t);var e;return new wl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ta.prototype=wl.prototype;function wl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DE(t){t:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Zh;function LE(t,e){var n=hi(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Zh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+hi(t,Math.max(0,e+i-1))[0]}function Kh(t,e){var n=hi(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var Qh={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ME,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Kh(t*100,e),r:Kh,s:LE,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Jh(t){return t}var tp=Array.prototype.map,ep=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function RE(t){var e=t.grouping===void 0||t.thousands===void 0?Jh:AE(tp.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Jh:CE(tp.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=ta(h);var f=h.fill,p=h.align,d=h.sign,g=h.symbol,m=h.zero,x=h.width,y=h.comma,v=h.precision,b=h.trim,O=h.type;O==="n"?(y=!0,O="g"):Qh[O]||(v===void 0&&(v=12),b=!0,O="g"),(m||f==="0"&&p==="=")&&(m=!0,f="0",p="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",A=g==="$"?r:/[%p]/.test(O)?o:"",w=Qh[O],S=/[defgprs%]/.test(O);v=v===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function P(M){var k=T,R=A,U,D,L;if(O==="c")R=w(M)+R,M="";else{M=+M;var I=M<0||1/M<0;if(M=isNaN(M)?l:w(Math.abs(M),v),b&&(M=DE(M)),I&&+M==0&&d!=="+"&&(I=!1),k=(I?d==="("?d:s:d==="-"||d==="("?"":d)+k,R=(O==="s"?ep[8+Zh/3]:"")+R+(I&&d==="("?")":""),S){for(U=-1,D=M.length;++U<D;)if(L=M.charCodeAt(U),48>L||L>57){R=(L===46?a+M.slice(U+1):M.slice(U))+R,M=M.slice(0,U);break}}}y&&!m&&(M=e(M,1/0));var V=k.length+M.length+R.length,C=V<x?new Array(x-V+1).join(f):"";switch(y&&m&&(M=e(C+M,C.length?x-R.length:1/0),C=""),p){case"<":M=k+M+R+C;break;case"=":M=k+C+M+R;break;case"^":M=C.slice(0,V=C.length>>1)+k+M+R+C.slice(V);break;default:M=C+k+M+R;break}return i(M)}return P.toString=function(){return h+""},P}function c(h,f){var p=u((h=ta(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(ar(f)/3)))*3,g=Math.pow(10,-d),m=ep[8+d/3];return function(x){return p(g*x)+m}}return{format:u,formatPrefix:c}}var pi,El,np;kE({thousands:",",grouping:[3],currency:["$",""]});function kE(t){return pi=RE(t),El=pi.format,np=pi.formatPrefix,pi}function IE(t){return Math.max(0,-ar(Math.abs(t)))}function NE(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ar(e)/3)))*3-ar(Math.abs(t)))}function BE(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ar(e)-ar(t))+1}function UE(t,e,n,r){var a=cl(t,e,n),i;switch(r=ta(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=NE(a,o))&&(r.precision=i),np(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=BE(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=IE(a))&&(r.precision=i-(r.type==="%")*2);break}}return El(r)}function rp(t){var e=t.domain;return t.ticks=function(n){var r=e();return ii(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var a=e();return UE(a[0],a[a.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],s=r[i],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);c-- >0;){if(u=oi(o,s,n),u===l)return r[a]=o,r[i]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Ye(){var t=Xh();return t.copy=function(){return Tl(t,Ye())},er.apply(t,arguments),rp(t)}function ap(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}function ip(t){return Math.log(t)}function op(t){return Math.exp(t)}function VE(t){return-Math.log(-t)}function GE(t){return-Math.exp(-t)}function FE(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HE(t){return t===10?FE:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $E(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sp(t){return(e,n)=>-t(-e,n)}function zE(t){const e=t(ip,op),n=e.domain;let r=10,a,i;function o(){return a=$E(r),i=HE(r),n()[0]<0?(a=sp(a),i=sp(i),t(VE,GE)):t(ip,op),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=a(u),p=a(c),d,g;const m=s==null?10:+s;let x=[];if(!(r%1)&&p-f<m){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(d=1;d<r;++d)if(g=f<0?d/i(-f):d*i(f),!(g<u)){if(g>c)break;x.push(g)}}else for(;f<=p;++f)for(d=r-1;d>=1;--d)if(g=f>0?d/i(-f):d*i(f),!(g<u)){if(g>c)break;x.push(g)}x.length*2<m&&(x=ii(u,c,m))}else x=ii(f,p,Math.min(p-f,m)).map(i);return h?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ta(l)).precision==null&&(l.trim=!0),l=El(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/i(Math.round(a(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(ap(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),e}function lp(){const t=zE(Yh()).domain([1,10]);return t.copy=()=>Tl(t,lp()).base(t.base()),er.apply(t,arguments),t}function up(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[ol(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return up().domain([t,e]).range(a).unknown(i)},er.apply(rp(o),arguments)}var Sl=new Date,Ml=new Date;function Nt(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return t(i=new Date(+i)),i},a.ceil=function(i){return t(i=new Date(i-1)),e(i,1),t(i),i},a.round=function(i){var o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=function(i,o){return e(i=new Date(+i),o==null?1:Math.floor(o)),i},a.range=function(i,o,s){var l=[],u;if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;do l.push(u=new Date(+i)),e(i,s),t(i);while(u<i&&i<o);return l},a.filter=function(i){return Nt(function(o){if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!i(o););else for(;--s>=0;)for(;e(o,1),!i(o););})},n&&(a.count=function(i,o){return Sl.setTime(+i),Ml.setTime(+o),t(Sl),t(Ml),Math.floor(n(Sl,Ml))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?function(o){return r(o)%i==0}:function(o){return a.count(0,o)%i==0}):a}),a}var Al=Nt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Al.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Al};var WE=Al;const Xe=1e3,xe=Xe*60,Ze=xe*60,En=Ze*24,Cl=En*7,cp=En*30,Pl=En*365;var jE=Nt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Xe)},function(t,e){return(e-t)/Xe},function(t){return t.getUTCSeconds()}),ea=jE,qE=Nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xe)},function(t,e){t.setTime(+t+e*xe)},function(t,e){return(e-t)/xe},function(t){return t.getMinutes()}),fp=qE,YE=Nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xe-t.getMinutes()*xe)},function(t,e){t.setTime(+t+e*Ze)},function(t,e){return(e-t)/Ze},function(t){return t.getHours()}),hp=YE,XE=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xe)/En,t=>t.getDate()-1),di=XE;function Sn(t){return Nt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xe)/Cl})}var Dl=Sn(0),Ll=Sn(1);Sn(2);Sn(3);var na=Sn(4);Sn(5);Sn(6);var ZE=Nt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),pp=ZE,dp=Nt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});dp.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var Mn=dp,KE=Nt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*xe)},function(t,e){return(e-t)/xe},function(t){return t.getUTCMinutes()}),QE=KE,JE=Nt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Ze)},function(t,e){return(e-t)/Ze},function(t){return t.getUTCHours()}),tS=JE,eS=Nt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/En},function(t){return t.getUTCDate()-1}),Rl=eS;function An(t){return Nt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Cl})}var vp=An(0),kl=An(1);An(2);An(3);var ra=An(4);An(5);An(6);var nS=Nt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),rS=nS,gp=Nt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});gp.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};var ir=gp;function mp(t,e,n,r,a,i){const o=[[ea,1,Xe],[ea,5,5*Xe],[ea,15,15*Xe],[ea,30,30*Xe],[i,1,xe],[i,5,5*xe],[i,15,15*xe],[i,30,30*xe],[a,1,Ze],[a,3,3*Ze],[a,6,6*Ze],[a,12,12*Ze],[r,1,En],[r,2,2*En],[n,1,Cl],[e,1,cp],[e,3,3*cp],[t,1,Pl]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const p=h&&typeof h.range=="function"?h:l(u,c,h),d=p?p.range(u,+c+1):[];return f?d.reverse():d}function l(u,c,h){const f=Math.abs(c-u)/h,p=il(([,,m])=>m).right(o,f);if(p===o.length)return t.every(cl(u/Pl,c/Pl,h));if(p===0)return WE.every(Math.max(cl(u,c,h),1));const[d,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return d.every(g)}return[s,l]}mp(ir,rS,vp,Rl,tS,QE);const[aS,iS]=mp(Mn,pp,Dl,di,hp,fp);function Il(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nl(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function aa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function oS(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=ia(a),c=oa(a),h=ia(i),f=oa(i),p=ia(o),d=oa(o),g=ia(s),m=oa(s),x=ia(l),y=oa(l),v={a:I,A:V,b:C,B:G,c:null,d:Tp,e:Tp,f:CS,g:VS,G:FS,H:SS,I:MS,j:AS,L:wp,m:PS,M:DS,p:H,q:X,Q:Pp,s:Dp,S:LS,u:RS,U:kS,V:IS,w:NS,W:BS,x:null,X:null,y:US,Y:GS,Z:HS,"%":Cp},b={a:lt,A:nt,b:Y,B:J,c:null,d:Sp,e:Sp,f:jS,g:nM,G:aM,H:$S,I:zS,j:WS,L:Mp,m:qS,M:YS,p:Q,q:rt,Q:Pp,s:Dp,S:XS,u:ZS,U:KS,V:QS,w:JS,W:tM,x:null,X:null,y:eM,Y:rM,Z:iM,"%":Cp},O={a:P,A:M,b:k,B:R,c:U,d:bp,e:bp,f:OS,g:xp,G:_p,H:Op,I:Op,j:yS,L:bS,m:mS,M:_S,p:S,q:gS,Q:wS,s:ES,S:xS,u:fS,U:hS,V:pS,w:cS,W:dS,x:D,X:L,y:xp,Y:_p,Z:vS,"%":TS};v.x=T(n,v),v.X=T(r,v),v.c=T(e,v),b.x=T(n,b),b.X=T(r,b),b.c=T(e,b);function T(j,Z){return function(at){var z=[],ft=-1,it=0,vt=j.length,Pt,F,W;for(at instanceof Date||(at=new Date(+at));++ft<vt;)j.charCodeAt(ft)===37&&(z.push(j.slice(it,ft)),(F=yp[Pt=j.charAt(++ft)])!=null?Pt=j.charAt(++ft):F=Pt==="e"?" ":"0",(W=Z[Pt])&&(Pt=W(at,F)),z.push(Pt),it=ft+1);return z.push(j.slice(it,ft)),z.join("")}}function A(j,Z){return function(at){var z=aa(1900,void 0,1),ft=w(z,j,at+="",0),it,vt;if(ft!=at.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(Z&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(it=Nl(aa(z.y,0,1)),vt=it.getUTCDay(),it=vt>4||vt===0?kl.ceil(it):kl(it),it=Rl.offset(it,(z.V-1)*7),z.y=it.getUTCFullYear(),z.m=it.getUTCMonth(),z.d=it.getUTCDate()+(z.w+6)%7):(it=Il(aa(z.y,0,1)),vt=it.getDay(),it=vt>4||vt===0?Ll.ceil(it):Ll(it),it=di.offset(it,(z.V-1)*7),z.y=it.getFullYear(),z.m=it.getMonth(),z.d=it.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),vt="Z"in z?Nl(aa(z.y,0,1)).getUTCDay():Il(aa(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(vt+5)%7:z.w+z.U*7-(vt+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Nl(z)):Il(z)}}function w(j,Z,at,z){for(var ft=0,it=Z.length,vt=at.length,Pt,F;ft<it;){if(z>=vt)return-1;if(Pt=Z.charCodeAt(ft++),Pt===37){if(Pt=Z.charAt(ft++),F=O[Pt in yp?Z.charAt(ft++):Pt],!F||(z=F(j,at,z))<0)return-1}else if(Pt!=at.charCodeAt(z++))return-1}return z}function S(j,Z,at){var z=u.exec(Z.slice(at));return z?(j.p=c.get(z[0].toLowerCase()),at+z[0].length):-1}function P(j,Z,at){var z=p.exec(Z.slice(at));return z?(j.w=d.get(z[0].toLowerCase()),at+z[0].length):-1}function M(j,Z,at){var z=h.exec(Z.slice(at));return z?(j.w=f.get(z[0].toLowerCase()),at+z[0].length):-1}function k(j,Z,at){var z=x.exec(Z.slice(at));return z?(j.m=y.get(z[0].toLowerCase()),at+z[0].length):-1}function R(j,Z,at){var z=g.exec(Z.slice(at));return z?(j.m=m.get(z[0].toLowerCase()),at+z[0].length):-1}function U(j,Z,at){return w(j,e,Z,at)}function D(j,Z,at){return w(j,n,Z,at)}function L(j,Z,at){return w(j,r,Z,at)}function I(j){return o[j.getDay()]}function V(j){return i[j.getDay()]}function C(j){return l[j.getMonth()]}function G(j){return s[j.getMonth()]}function H(j){return a[+(j.getHours()>=12)]}function X(j){return 1+~~(j.getMonth()/3)}function lt(j){return o[j.getUTCDay()]}function nt(j){return i[j.getUTCDay()]}function Y(j){return l[j.getUTCMonth()]}function J(j){return s[j.getUTCMonth()]}function Q(j){return a[+(j.getUTCHours()>=12)]}function rt(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var Z=T(j+="",v);return Z.toString=function(){return j},Z},parse:function(j){var Z=A(j+="",!1);return Z.toString=function(){return j},Z},utcFormat:function(j){var Z=T(j+="",b);return Z.toString=function(){return j},Z},utcParse:function(j){var Z=A(j+="",!0);return Z.toString=function(){return j},Z}}}var yp={"-":"",_:" ","0":"0"},Bt=/^\s*\d+/,sS=/^%/,lS=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function uS(t){return t.replace(lS,"\\$&")}function ia(t){return new RegExp("^(?:"+t.map(uS).join("|")+")","i")}function oa(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function cS(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fS(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hS(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pS(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dS(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _p(t,e,n){var r=Bt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xp(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vS(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gS(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mS(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bp(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function yS(t,e,n){var r=Bt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Op(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _S(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xS(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bS(t,e,n){var r=Bt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function OS(t,e,n){var r=Bt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TS(t,e,n){var r=sS.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wS(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ES(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Tp(t,e){return dt(t.getDate(),e,2)}function SS(t,e){return dt(t.getHours(),e,2)}function MS(t,e){return dt(t.getHours()%12||12,e,2)}function AS(t,e){return dt(1+di.count(Mn(t),t),e,3)}function wp(t,e){return dt(t.getMilliseconds(),e,3)}function CS(t,e){return wp(t,e)+"000"}function PS(t,e){return dt(t.getMonth()+1,e,2)}function DS(t,e){return dt(t.getMinutes(),e,2)}function LS(t,e){return dt(t.getSeconds(),e,2)}function RS(t){var e=t.getDay();return e===0?7:e}function kS(t,e){return dt(Dl.count(Mn(t)-1,t),e,2)}function Ep(t){var e=t.getDay();return e>=4||e===0?na(t):na.ceil(t)}function IS(t,e){return t=Ep(t),dt(na.count(Mn(t),t)+(Mn(t).getDay()===4),e,2)}function NS(t){return t.getDay()}function BS(t,e){return dt(Ll.count(Mn(t)-1,t),e,2)}function US(t,e){return dt(t.getFullYear()%100,e,2)}function VS(t,e){return t=Ep(t),dt(t.getFullYear()%100,e,2)}function GS(t,e){return dt(t.getFullYear()%1e4,e,4)}function FS(t,e){var n=t.getDay();return t=n>=4||n===0?na(t):na.ceil(t),dt(t.getFullYear()%1e4,e,4)}function HS(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function Sp(t,e){return dt(t.getUTCDate(),e,2)}function $S(t,e){return dt(t.getUTCHours(),e,2)}function zS(t,e){return dt(t.getUTCHours()%12||12,e,2)}function WS(t,e){return dt(1+Rl.count(ir(t),t),e,3)}function Mp(t,e){return dt(t.getUTCMilliseconds(),e,3)}function jS(t,e){return Mp(t,e)+"000"}function qS(t,e){return dt(t.getUTCMonth()+1,e,2)}function YS(t,e){return dt(t.getUTCMinutes(),e,2)}function XS(t,e){return dt(t.getUTCSeconds(),e,2)}function ZS(t){var e=t.getUTCDay();return e===0?7:e}function KS(t,e){return dt(vp.count(ir(t)-1,t),e,2)}function Ap(t){var e=t.getUTCDay();return e>=4||e===0?ra(t):ra.ceil(t)}function QS(t,e){return t=Ap(t),dt(ra.count(ir(t),t)+(ir(t).getUTCDay()===4),e,2)}function JS(t){return t.getUTCDay()}function tM(t,e){return dt(kl.count(ir(t)-1,t),e,2)}function eM(t,e){return dt(t.getUTCFullYear()%100,e,2)}function nM(t,e){return t=Ap(t),dt(t.getUTCFullYear()%100,e,2)}function rM(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function aM(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ra(t):ra.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function iM(){return"+0000"}function Cp(){return"%"}function Pp(t){return+t}function Dp(t){return Math.floor(+t/1e3)}var Bl,Lp;oM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oM(t){return Bl=oS(t),Lp=Bl.format,Bl}function sM(t){return new Date(t)}function lM(t){return t instanceof Date?+t:+new Date(+t)}function Rp(t,e,n,r,a,i,o,s,l,u){var c=Xh(),h=c.invert,f=c.domain,p=u(".%L"),d=u(":%S"),g=u("%I:%M"),m=u("%I %p"),x=u("%a %d"),y=u("%b %d"),v=u("%B"),b=u("%Y");function O(T){return(l(T)<T?p:s(T)<T?d:o(T)<T?g:i(T)<T?m:r(T)<T?a(T)<T?x:y:n(T)<T?v:b)(T)}return c.invert=function(T){return new Date(h(T))},c.domain=function(T){return arguments.length?f(Array.from(T,lM)):f().map(sM)},c.ticks=function(T){var A=f();return t(A[0],A[A.length-1],T==null?10:T)},c.tickFormat=function(T,A){return A==null?O:u(A)},c.nice=function(T){var A=f();return(!T||typeof T.range!="function")&&(T=e(A[0],A[A.length-1],T==null?10:T)),T?f(ap(A,T)):c},c.copy=function(){return Tl(c,Rp(t,e,n,r,a,i,o,s,l,u))},c}function kp(){return er.apply(Rp(aS,iS,Mn,pp,Dl,di,hp,fp,ea,Lp).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Ul=Math.PI,Vl=2*Ul,Cn=1e-6,uM=Vl-Cn;function Gl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sa(){return new Gl}Gl.prototype=sa.prototype={constructor:Gl,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,s=n-t,l=r-e,u=i-t,c=o-e,h=u*u+c*c;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Cn)if(!(Math.abs(c*s-l*u)>Cn)||!a)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-i,p=r-o,d=s*s+l*l,g=f*f+p*p,m=Math.sqrt(d),x=Math.sqrt(h),y=a*Math.tan((Ul-Math.acos((d+h-g)/(2*m*x)))/2),v=y/x,b=y/m;Math.abs(v-1)>Cn&&(this._+="L"+(t+v*u)+","+(e+v*c)),this._+="A"+a+","+a+",0,0,"+ +(c*f>u*p)+","+(this._x1=t+b*s)+","+(this._y1=e+b*l)}},arc:function(t,e,n,r,a,i){t=+t,e=+e,n=+n,i=!!i;var o=n*Math.cos(r),s=n*Math.sin(r),l=t+o,u=e+s,c=1^i,h=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Cn||Math.abs(this._y1-u)>Cn)&&(this._+="L"+l+","+u),!!n&&(h<0&&(h=h%Vl+Vl),h>uM?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>Cn&&(this._+="A"+n+","+n+",0,"+ +(h>=Ul)+","+c+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function pt(t){return function(){return t}}var Ip=Math.abs,Wt=Math.atan2,Pn=Math.cos,cM=Math.max,Fl=Math.min,Ie=Math.sin,or=Math.sqrt,jt=1e-12,la=Math.PI,vi=la/2,gi=2*la;function fM(t){return t>1?0:t<-1?la:Math.acos(t)}function Np(t){return t>=1?vi:t<=-1?-vi:Math.asin(t)}function hM(t){return t.innerRadius}function pM(t){return t.outerRadius}function dM(t){return t.startAngle}function vM(t){return t.endAngle}function gM(t){return t&&t.padAngle}function mM(t,e,n,r,a,i,o,s){var l=n-t,u=r-e,c=o-a,h=s-i,f=h*l-c*u;if(!(f*f<jt))return f=(c*(e-i)-h*(t-a))/f,[t+f*l,e+f*u]}function mi(t,e,n,r,a,i,o){var s=t-n,l=e-r,u=(o?i:-i)/or(s*s+l*l),c=u*l,h=-u*s,f=t+c,p=e+h,d=n+c,g=r+h,m=(f+d)/2,x=(p+g)/2,y=d-f,v=g-p,b=y*y+v*v,O=a-i,T=f*g-d*p,A=(v<0?-1:1)*or(cM(0,O*O*b-T*T)),w=(T*v-y*A)/b,S=(-T*y-v*A)/b,P=(T*v+y*A)/b,M=(-T*y+v*A)/b,k=w-m,R=S-x,U=P-m,D=M-x;return k*k+R*R>U*U+D*D&&(w=P,S=M),{cx:w,cy:S,x01:-c,y01:-h,x11:w*(a/O-1),y11:S*(a/O-1)}}function ua(){var t=hM,e=pM,n=pt(0),r=null,a=dM,i=vM,o=gM,s=null;function l(){var u,c,h=+t.apply(this,arguments),f=+e.apply(this,arguments),p=a.apply(this,arguments)-vi,d=i.apply(this,arguments)-vi,g=Ip(d-p),m=d>p;if(s||(s=u=sa()),f<h&&(c=f,f=h,h=c),!(f>jt))s.moveTo(0,0);else if(g>gi-jt)s.moveTo(f*Pn(p),f*Ie(p)),s.arc(0,0,f,p,d,!m),h>jt&&(s.moveTo(h*Pn(d),h*Ie(d)),s.arc(0,0,h,d,p,m));else{var x=p,y=d,v=p,b=d,O=g,T=g,A=o.apply(this,arguments)/2,w=A>jt&&(r?+r.apply(this,arguments):or(h*h+f*f)),S=Fl(Ip(f-h)/2,+n.apply(this,arguments)),P=S,M=S,k,R;if(w>jt){var U=Np(w/h*Ie(A)),D=Np(w/f*Ie(A));(O-=U*2)>jt?(U*=m?1:-1,v+=U,b-=U):(O=0,v=b=(p+d)/2),(T-=D*2)>jt?(D*=m?1:-1,x+=D,y-=D):(T=0,x=y=(p+d)/2)}var L=f*Pn(x),I=f*Ie(x),V=h*Pn(b),C=h*Ie(b);if(S>jt){var G=f*Pn(y),H=f*Ie(y),X=h*Pn(v),lt=h*Ie(v),nt;if(g<la&&(nt=mM(L,I,X,lt,G,H,V,C))){var Y=L-nt[0],J=I-nt[1],Q=G-nt[0],rt=H-nt[1],j=1/Ie(fM((Y*Q+J*rt)/(or(Y*Y+J*J)*or(Q*Q+rt*rt)))/2),Z=or(nt[0]*nt[0]+nt[1]*nt[1]);P=Fl(S,(h-Z)/(j-1)),M=Fl(S,(f-Z)/(j+1))}}T>jt?M>jt?(k=mi(X,lt,L,I,f,M,m),R=mi(G,H,V,C,f,M,m),s.moveTo(k.cx+k.x01,k.cy+k.y01),M<S?s.arc(k.cx,k.cy,M,Wt(k.y01,k.x01),Wt(R.y01,R.x01),!m):(s.arc(k.cx,k.cy,M,Wt(k.y01,k.x01),Wt(k.y11,k.x11),!m),s.arc(0,0,f,Wt(k.cy+k.y11,k.cx+k.x11),Wt(R.cy+R.y11,R.cx+R.x11),!m),s.arc(R.cx,R.cy,M,Wt(R.y11,R.x11),Wt(R.y01,R.x01),!m))):(s.moveTo(L,I),s.arc(0,0,f,x,y,!m)):s.moveTo(L,I),!(h>jt)||!(O>jt)?s.lineTo(V,C):P>jt?(k=mi(V,C,G,H,h,-P,m),R=mi(L,I,X,lt,h,-P,m),s.lineTo(k.cx+k.x01,k.cy+k.y01),P<S?s.arc(k.cx,k.cy,P,Wt(k.y01,k.x01),Wt(R.y01,R.x01),!m):(s.arc(k.cx,k.cy,P,Wt(k.y01,k.x01),Wt(k.y11,k.x11),!m),s.arc(0,0,h,Wt(k.cy+k.y11,k.cx+k.x11),Wt(R.cy+R.y11,R.cx+R.x11),m),s.arc(R.cx,R.cy,P,Wt(R.y11,R.x11),Wt(R.y01,R.x01),!m))):s.arc(0,0,h,b,v,m)}if(s.closePath(),u)return s=null,u+""||null}return l.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,c=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-la/2;return[Pn(c)*u,Ie(c)*u]},l.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:pt(+u),l):t},l.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:pt(+u),l):e},l.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:pt(+u),l):n},l.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:pt(+u),l):r},l.startAngle=function(u){return arguments.length?(a=typeof u=="function"?u:pt(+u),l):a},l.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:pt(+u),l):i},l.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:pt(+u),l):o},l.context=function(u){return arguments.length?(s=u==null?null:u,l):s},l}function Bp(t){this._context=t}Bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yi(t){return new Bp(t)}function Hl(t){return t[0]}function $l(t){return t[1]}function _i(){var t=Hl,e=$l,n=pt(!0),r=null,a=yi,i=null;function o(s){var l,u=s.length,c,h=!1,f;for(r==null&&(i=a(f=sa())),l=0;l<=u;++l)!(l<u&&n(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(c,l,s),+e(c,l,s));if(f)return i=null,f+""||null}return o.x=function(s){return arguments.length?(t=typeof s=="function"?s:pt(+s),o):t},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:pt(+s),o):e},o.defined=function(s){return arguments.length?(n=typeof s=="function"?s:pt(!!s),o):n},o.curve=function(s){return arguments.length?(a=s,r!=null&&(i=a(r)),o):a},o.context=function(s){return arguments.length?(s==null?r=i=null:i=a(r=s),o):r},o}function zl(){var t=Hl,e=null,n=pt(0),r=$l,a=pt(!0),i=null,o=yi,s=null;function l(c){var h,f,p,d=c.length,g,m=!1,x,y=new Array(d),v=new Array(d);for(i==null&&(s=o(x=sa())),h=0;h<=d;++h){if(!(h<d&&a(g=c[h],h,c))===m)if(m=!m)f=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=f;--p)s.point(y[p],v[p]);s.lineEnd(),s.areaEnd()}m&&(y[h]=+t(g,h,c),v[h]=+n(g,h,c),s.point(e?+e(g,h,c):y[h],r?+r(g,h,c):v[h]))}if(x)return s=null,x+""||null}function u(){return _i().defined(a).curve(o).context(i)}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:pt(+c),e=null,l):t},l.x0=function(c){return arguments.length?(t=typeof c=="function"?c:pt(+c),l):t},l.x1=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:pt(+c),l):e},l.y=function(c){return arguments.length?(n=typeof c=="function"?c:pt(+c),r=null,l):n},l.y0=function(c){return arguments.length?(n=typeof c=="function"?c:pt(+c),l):n},l.y1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:pt(+c),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(c){return arguments.length?(a=typeof c=="function"?c:pt(!!c),l):a},l.curve=function(c){return arguments.length?(o=c,i!=null&&(s=o(i)),l):o},l.context=function(c){return arguments.length?(c==null?i=s=null:s=o(i=c),l):i},l}function yM(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function _M(t){return t}function xM(){var t=_M,e=yM,n=null,r=pt(0),a=pt(gi),i=pt(0);function o(s){var l,u=s.length,c,h,f=0,p=new Array(u),d=new Array(u),g=+r.apply(this,arguments),m=Math.min(gi,Math.max(-gi,a.apply(this,arguments)-g)),x,y=Math.min(Math.abs(m)/u,i.apply(this,arguments)),v=y*(m<0?-1:1),b;for(l=0;l<u;++l)(b=d[p[l]=l]=+t(s[l],l,s))>0&&(f+=b);for(e!=null?p.sort(function(O,T){return e(d[O],d[T])}):n!=null&&p.sort(function(O,T){return n(s[O],s[T])}),l=0,h=f?(m-u*v)/f:0;l<u;++l,g=x)c=p[l],b=d[c],x=g+(b>0?b*h:0)+v,d[c]={data:s[c],index:l,value:b,startAngle:g,endAngle:x,padAngle:y};return d}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:pt(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:pt(+s),o):r},o.endAngle=function(s){return arguments.length?(a=typeof s=="function"?s:pt(+s),o):a},o.padAngle=function(s){return arguments.length?(i=typeof s=="function"?s:pt(+s),o):i},o}var bM=Vp(yi);function Up(t){this._curve=t}Up.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Vp(t){function e(n){return new Up(t(n))}return e._curve=t,e}function OM(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Vp(n)):e()._curve},t}function TM(){return OM(_i().curve(bM))}var Wl=Array.prototype.slice;function wM(t){return t.source}function EM(t){return t.target}function SM(t){var e=wM,n=EM,r=Hl,a=$l,i=null;function o(){var s,l=Wl.call(arguments),u=e.apply(this,l),c=n.apply(this,l);if(i||(i=s=sa()),t(i,+r.apply(this,(l[0]=u,l)),+a.apply(this,l),+r.apply(this,(l[0]=c,l)),+a.apply(this,l)),s)return i=null,s+""||null}return o.source=function(s){return arguments.length?(e=s,o):e},o.target=function(s){return arguments.length?(n=s,o):n},o.x=function(s){return arguments.length?(r=typeof s=="function"?s:pt(+s),o):r},o.y=function(s){return arguments.length?(a=typeof s=="function"?s:pt(+s),o):a},o.context=function(s){return arguments.length?(i=s==null?null:s,o):i},o}function MM(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,a,r,a)}function Gp(){return SM(MM)}function on(){}function xi(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bi(t){this._context=t}bi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xi(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AM(t){return new bi(t)}function Fp(t){this._context=t}Fp.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xi(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CM(t){return new Fp(t)}function Hp(t){this._context=t}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xi(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PM(t){return new Hp(t)}function $p(t,e){this._basis=new bi(t),this._beta=e}$p.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],a=e[0],i=t[n]-r,o=e[n]-a,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+l*i),this._beta*e[s]+(1-this._beta)*(a+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var DM=function t(e){function n(r){return e===1?new bi(r):new $p(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Oi(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function jl(t,e){this._context=t,this._k=(1-e)/6}jl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Oi(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Oi(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var LM=function t(e){function n(r){return new jl(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ql(t,e){this._context=t,this._k=(1-e)/6}ql.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Oi(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var RM=function t(e){function n(r){return new ql(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Yl(t,e){this._context=t,this._k=(1-e)/6}Yl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Oi(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kM=function t(e){function n(r){return new Yl(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Xl(t,e,n){var r=t._x1,a=t._y1,i=t._x2,o=t._y2;if(t._l01_a>jt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,a=(a*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>jt){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*u+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,a,i,o,t._x2,t._y2)}function zp(t,e){this._context=t,this._alpha=e}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Xl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var IM=function t(e){function n(r){return e?new zp(r,e):new jl(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Wp(t,e){this._context=t,this._alpha=e}Wp.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Xl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var NM=function t(e){function n(r){return e?new Wp(r,e):new ql(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function jp(t,e){this._context=t,this._alpha=e}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var BM=function t(e){function n(r){return e?new jp(r,e):new Yl(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function qp(t){this._context=t}qp.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Yp(t){return new qp(t)}function Xp(t){return t<0?-1:1}function Zp(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(Xp(i)+Xp(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Kp(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zl(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,a+s*e,i-s,o-s*n,i,o)}function Ti(t){this._context=t}Ti.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zl(this,this._t0,Kp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zl(this,Kp(this,n=Zp(this,t,e)),n);break;default:Zl(this,this._t0,n=Zp(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Qp(t){this._context=new Jp(t)}(Qp.prototype=Object.create(Ti.prototype)).point=function(t,e){Ti.prototype.point.call(this,e,t)};function Jp(t){this._context=t}Jp.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function UM(t){return new Ti(t)}function VM(t){return new Qp(t)}function td(t){this._context=t}td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ed(t),a=ed(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ed(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function GM(t){return new td(t)}function wi(t,e){this._context=t,this._t=e}wi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function FM(t){return new wi(t,.5)}function HM(t){return new wi(t,0)}function $M(t){return new wi(t,1)}function nd(t,e){if((o=t.length)>1)for(var n=1,r,a,i=t[e[0]],o,s=i.length;n<o;++n)for(a=i,i=t[e[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function rd(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zM(t,e){return t[e]}function Kl(){var t=pt([]),e=rd,n=nd,r=zM;function a(i){var o=t.apply(this,arguments),s,l=i.length,u=o.length,c=new Array(u),h;for(s=0;s<u;++s){for(var f=o[s],p=c[s]=new Array(l),d=0,g;d<l;++d)p[d]=g=[0,+r(i[d],f,d,i)],g.data=i[d];p.key=f}for(s=0,h=e(c);s<u;++s)c[h[s]].index=s;return n(c,h),c}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:pt(Wl.call(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:pt(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?rd:typeof i=="function"?i:pt(Wl.call(i)),a):e},a.offset=function(i){return arguments.length?(n=i==null?nd:i,a):n},a}function WM(t,e){if((l=t.length)>0)for(var n,r=0,a,i,o,s,l,u=t[e[0]].length;r<u;++r)for(o=s=0,n=0;n<l;++n)(i=(a=t[e[n]][r])[1]-a[0])>0?(a[0]=o,a[1]=o+=i):i<0?(a[1]=s,a[0]=s+=i):(a[0]=0,a[1]=i)}var Ei=globalThis&&globalThis.__assign||function(){return Ei=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Ei.apply(this,arguments)},Ke=function(){function t(e){this.state={options:{}},this.colorScale={},this.colorClassNames={},this.services=e}return t.prototype.getAllDataFromDomain=function(e){if(!this.getData())return null;var n=this.getOptions(),r=this.getData(),a=this.getDataGroups(),i=_.getProperty(n,"data").groupMapsTo,o=_.getProperty(n,"axes");return e&&(r=r.filter(function(s){return e.includes(s[i])})),o&&Object.keys(o).forEach(function(s){var l=o[s].mapsTo,u=o[s].scaleType;if((u===K.LINEAR||u===K.LOG)&&(r=r.map(function(p){var d;return Ei(Ei({},p),(d={},d[l]=p[l]===null?p[l]:Number(p[l]),d))})),l&&o[s].domain)if(u===K.LABELS)r=r.filter(function(p){return o[s].domain.includes(p[l])});else{var c=o[s].domain,h=c[0],f=c[1];r=r.filter(function(p){return!(l in p)||p[l]>=h&&p[l]<=f})}}),r.filter(function(s){return a.find(function(l){return l.name===s[i]})})},t.prototype.getDisplayData=function(e){if(!this.get("data"))return null;var n=Ot.items.status.ACTIVE,r=this.getDataGroups(e),a=this.getOptions().data.groupMapsTo,i=this.getAllDataFromDomain(e);return i.filter(function(o){return r.find(function(s){return s.name===o[a]&&s.status===n})})},t.prototype.getData=function(){return this.get("data")},t.prototype.isDataEmpty=function(){return!this.getData().length},t.prototype.setData=function(e){var n=this.sanitize(_.clone(e)),r=this.generateDataGroups(n);return this.set({data:n,dataGroups:r}),n},t.prototype.getDataGroups=function(e){var n=_.getProperty(this.getOptions(),"data","loading");return n?[]:e?this.get("dataGroups").filter(function(r){return e.includes(r.name)}):this.get("dataGroups")},t.prototype.getActiveDataGroups=function(e){var n=Ot.items.status.ACTIVE;return this.getDataGroups(e).filter(function(r){return r.status===n})},t.prototype.getDataGroupNames=function(e){var n=this.getDataGroups(e);return n.map(function(r){return r.name})},t.prototype.getActiveDataGroupNames=function(e){var n=this.getActiveDataGroups(e);return n.map(function(r){return r.name})},t.prototype.aggregateBinDataByGroup=function(e){return _.groupBy(e,"group")},t.prototype.getBinConfigurations=function(){var e=this,n=this.getDisplayData(),r=this.getOptions(),a=this.services.cartesianScales.getMainXAxisPosition(),i=this.services.cartesianScales.getDomainIdentifier(),o=r.axes[a],s=r.data.groupMapsTo,l=o.bins,u=l===void 0?Tc.defaultBins:l,c=Array.isArray(u),h=Zw().value(function(m){return m[i]}).thresholds(u)(n);if(c)h[h.length-1].x1=u[u.length-1];else{var f=h[0].x1-h[0].x0;h[h.length-1].x1=+h[h.length-1].x0+f}var p=c?[u[0],u[u.length-1]]:[h[0].x0,h[h.length-1].x1],d=Array.from(new Set(n.map(function(m){return m[s]}))),g=[];return h.forEach(function(m){var x=m.x0+"-"+m.x1,y=e.aggregateBinDataByGroup(m);d.forEach(function(v){g.push({group:v,key:x,value:y[v]||0,bin:m.x0})})}),{bins:h,binsDomain:p}},t.prototype.getBinnedStackedData=function(){var e=this.getOptions(),n=e.data.groupMapsTo,r=this.getActiveDataGroupNames(),a=this.getBinConfigurations().bins,i=this.getDataValuesGroupedByKeys({bins:a});return Kl().keys(r)(i).map(function(o,s){return Object.keys(o).filter(function(l){return!isNaN(l)}).map(function(l){var u=o[l];return u[n]=r[s],u})})},t.prototype.getGroupedData=function(e){var n=this.getDisplayData(e),r={},a=this.getOptions().data.groupMapsTo;return n.map(function(i){var o=i[a];r[o]!==null&&r[o]!==void 0?r[o].push(i):r[o]=[i]}),Object.keys(r).map(function(i){return{name:i,data:r[i]}})},t.prototype.getStackKeys=function(e){var n=this,r=e.bins,a=r===void 0?null:r,i=e.groups,o=i===void 0?null:i,s=this.getOptions(),l=this.getDisplayData(o),u;a?u=a.map(function(f){return f.x0+"-"+f.x1}):u=_.removeArrayDuplicates(l.map(function(f){var p=n.services.cartesianScales.getDomainIdentifier(f);return f[p]&&typeof f[p].toString=="function"?f[p].toString():f[p]}));var c=this.services.cartesianScales.domainAxisPosition,h=s.axes[c].scaleType;return h===K.TIME?u.sort(function(f,p){var d=new Date(f),g=new Date(p);return d-g}):(h===K.LOG||h===K.LINEAR)&&u.sort(function(f,p){return f-p}),u},t.prototype.getDataValuesGroupedByKeys=function(e){var n=this,r=e.bins,a=r===void 0?null:r,i=e.groups,o=i===void 0?null:i,s=this.getOptions(),l=s.data.groupMapsTo,u=this.getDisplayData(o),c=this.getDataGroupNames(),h=this.getStackKeys({bins:a,groups:o});return a?h.map(function(f){var p=f.split("-"),d=p[0],g=p[1],m={x0:d,x1:g},x=a.find(function(y){return y.x0.toString()===d.toString()});return c.forEach(function(y){m[y]=x.filter(function(v){return v[l]===y}).length}),m}):h.map(function(f){var p={sharedStackKey:f};return c.forEach(function(d){var g=u.find(function(x){var y=n.services.cartesianScales.getDomainIdentifier(x);return x[l]===d&&x.hasOwnProperty(y)&&x[y].toString()===f}),m=n.services.cartesianScales.getRangeIdentifier(p);p[d]=g?g[m]:null}),p})},t.prototype.getStackedData=function(e){var n=e.percentage,r=n===void 0?!1:n,a=e.groups,i=a===void 0?null:a,o=e.divergent,s=o===void 0?!1:o,l=this.getOptions(),u=l.data.groupMapsTo,c=this.getActiveDataGroupNames(i),h=this.getDataValuesGroupedByKeys({groups:i});if(r){var f=_.fromPairs(h.map(function(d){return[d.sharedStackKey,0]}));h.forEach(function(d){c.forEach(function(g){f[d.sharedStackKey]+=d[g]})}),h.forEach(function(d){c.forEach(function(g){f[d.sharedStackKey]?d[g]=d[g]/f[d.sharedStackKey]*100:d[g]=0})})}var p=s?Kl().offset(WM):Kl();return p.keys(c)(h).map(function(d,g){return Object.keys(d).filter(function(m){return!isNaN(m)}).map(function(m){var x=d[m];return x[u]=c[g],x})})},t.prototype.getOptions=function(){return this.state.options},t.prototype.set=function(e,n){this.state=Object.assign({},this.state,e);var r=Object.assign({skipUpdate:!1,animate:!0},n);r.skipUpdate||this.update(r.animate)},t.prototype.get=function(e){return e?this.state[e]:this.state},t.prototype.setOptions=function(e){var n=this.getOptions();_.updateLegendAdditionalItems(n,e),this.set({options:_.merge(n,e)})},t.prototype.update=function(e){e===void 0&&(e=!0),!!this.getDisplayData()&&(this.updateAllDataGroups(),this.setCustomColorScale(),this.setColorClassNames(),this.services.events.dispatchEvent(E.Model.UPDATE,{animate:e}))},t.prototype.toggleDataLabel=function(e){var n=Ot.items.status,r=n.ACTIVE,a=n.DISABLED,i=this.getDataGroups(),o=i.some(function(f){return f.status===a}),s=i.filter(function(f){return f.status===r});if(o)if(s.length===1&&s[0].name===e)i.forEach(function(f,p){i[p].status=r});else{var l=i.findIndex(function(f){return f.name===e});i[l].status=i[l].status===a?r:a}else i.forEach(function(f,p){i[p].status=f.name===e?r:a});var u=i.filter(function(f){return f.status===r}),c=this.getOptions(),h=i.some(function(f){return f.status===a});h?c.data.selectedGroups=u.map(function(f){return f.name}):c.data.selectedGroups=[],this.services.events.dispatchEvent(E.Legend.ITEMS_UPDATE,{dataGroups:i}),this.set({dataGroups:i})},t.prototype.getIsFilled=function(e,n,r,a){var i=this.getOptions();return i.getIsFilled?i.getIsFilled(e,n,r,a):a},t.prototype.getFillColor=function(e,n,r){var a=this.getOptions(),i=_.getProperty(this.colorScale,e);return a.getFillColor?a.getFillColor(e,n,r,i):i},t.prototype.getStrokeColor=function(e,n,r){var a=this.getOptions(),i=_.getProperty(this.colorScale,e);return a.getStrokeColor?a.getStrokeColor(e,n,r,i):i},t.prototype.isUserProvidedColorScaleValid=function(){var e=_.getProperty(this.getOptions(),"color","scale"),n=this.getDataGroups();return e==null||Object.keys(e).length==0?!1:n.some(function(r){return Object.keys(e).includes(r.name)})},t.prototype.getColorClassName=function(e){var n=this.colorClassNames(e.dataGroupName),r=e.originalClassName;return e.classNameTypes.forEach(function(a){return r=e.originalClassName?r+" "+a+"-"+n:a+"-"+n}),r},t.prototype.getStatus=function(){return null},t.prototype.getAllDataGroupsNames=function(){return this.allDataGroups},t.prototype.transformToTabularData=function(e){console.warn("We've updated the charting data format to be tabular by default. The current format you're using is deprecated and will be removed in v1.0, read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var n=[],r=e.datasets,a=e.labels;return r.forEach(function(i){i.data.forEach(function(o,s){var l,u=_.getProperty(i,"label");if(u===null){var c=_.getProperty(a,s);c?l=c:l="Ungrouped"}else l=u;var h={group:l,key:a[s]};isNaN(o)?(h.value=o.value,h.date=o.date):h.value=o,n.push(h)})}),n},t.prototype.getTabularDataArray=function(){return[]},t.prototype.exportToCSV=function(){var e=this.getTabularDataArray().map(function(a){return a.map(function(i){return'"'+i+'"'})}),n="",r="";e.forEach(function(a,i){r=a.join(","),n+=i<e.length?r+`
`:r}),this.services.files.downloadCSV(n,"myChart.csv")},t.prototype.getTabularData=function(e){return Array.isArray(e)?e:this.transformToTabularData(e)},t.prototype.sanitize=function(e){return e=this.getTabularData(e),e},t.prototype.updateAllDataGroups=function(){var e=this;this.allDataGroups?this.getDataGroupNames().forEach(function(n){e.allDataGroups.indexOf(n)===-1&&e.allDataGroups.push(n)}):this.allDataGroups=this.getDataGroupNames()},t.prototype.generateDataGroups=function(e){var n=this.getOptions().data.groupMapsTo,r=Ot.items.status,a=r.ACTIVE,i=r.DISABLED,o=this.getOptions(),s=_.removeArrayDuplicates(e.map(function(c){return c[n]}));if(o.data.selectedGroups.length){var l=o.data.selectedGroups.every(function(c){return s.includes(c)});l||(o.data.selectedGroups=[])}var u=function(c){return!o.data.selectedGroups.length||o.data.selectedGroups.includes(c)?a:i};return s.map(function(c){return{name:c,status:u(c)}})},t.prototype.setCustomColorScale=function(){var e=this;if(!!this.isUserProvidedColorScaleValid()){var n=this.getOptions(),r=_.getProperty(n,"color","scale");Object.keys(r).forEach(function(i){e.allDataGroups.includes(i)||console.warn('"'+i+'" does not exist in data groups.')});var a=this.allDataGroups.filter(function(i){return r[i]});a.forEach(function(i){return e.colorScale[i]=r[i]})}},t.prototype.setColorClassNames=function(){var e=_.getProperty(this.getOptions(),"color","pairing"),n=_.getProperty(e,"numberOfVariants");(!n||n<this.allDataGroups.length)&&(n=this.allDataGroups.length);var r=_.getProperty(e,"option"),a=ds.pairingOptions,i=n>5?14:n;r=r<=a[i+"-color"]?r:1;var o=this.allDataGroups.map(function(s,l){return i+"-"+r+"-"+(l%14+1)});this.colorClassNames=si().range(o).domain(this.allDataGroups)},t}(),Qe=function(){function t(e,n){this.model=e,this.services=n,this.init()}return t.prototype.init=function(){},t.prototype.update=function(){},t.prototype.setModel=function(e){this.model=e},t.prototype.setServices=function(e){this.services=e},t}(),jM={prefix:"bx",selectorTabbable:`
    a[href], area[href], input:not([disabled]):not([tabindex='-1']),
    button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
    textarea:not([disabled]):not([tabindex='-1']),
    iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]
  `,selectorFocusable:`
    a[href], area[href], input:not([disabled]),
    button:not([disabled]),select:not([disabled]),
    textarea:not([disabled]),
    iframe, object, embed, *[tabindex], *[contenteditable=true]
  `},qM=jM,Gt=qM,ad=function(){if(typeof Map!="undefined")return Map;function t(e,n){var r=-1;return e.some(function(a,i){return a[0]===n?(r=i,!0):!1}),r}return function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(r){var a=t(this.__entries__,r),i=this.__entries__[a];return i&&i[1]},e.prototype.set=function(r,a){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=a:this.__entries__.push([r,a])},e.prototype.delete=function(r){var a=this.__entries__,i=t(a,r);~i&&a.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,a){var i=this;a===void 0&&(a=null);for(var o=0,s=i.__entries__;o<s.length;o+=1){var l=s[o];r.call(a,l[1],l[0])}},Object.defineProperties(e.prototype,n),e}()}(),Ql=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Si=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),YM=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Si):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),XM=2,ZM=function(t,e){var n=!1,r=!1,a=0;function i(){n&&(n=!1,t()),r&&s()}function o(){YM(i)}function s(){var l=Date.now();if(n){if(l-a<XM)return;r=!0}else n=!0,r=!1,setTimeout(o,e);a=l}return s},KM=20,QM=["top","right","bottom","left","width","height","size","weight"],JM=typeof MutationObserver!="undefined",Ee=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ZM(this.refresh.bind(this),KM)};Ee.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()};Ee.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()};Ee.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()};Ee.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0};Ee.prototype.connect_=function(){!Ql||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),JM?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};Ee.prototype.disconnect_=function(){!Ql||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)};Ee.prototype.onTransitionEnd_=function(t){var e=t.propertyName;e===void 0&&(e="");var n=QM.some(function(r){return!!~e.indexOf(r)});n&&this.refresh()};Ee.getInstance=function(){return this.instance_||(this.instance_=new Ee),this.instance_};Ee.instance_=null;var id=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n+=1){var a=r[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},sr=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Si},od=Ai(0,0,0,0);function Mi(t){return parseFloat(t)||0}function sd(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.reduce(function(r,a){var i=t["border-"+a+"-width"];return r+Mi(i)},0)}function tA(t){for(var e=["top","right","bottom","left"],n={},r=0,a=e;r<a.length;r+=1){var i=a[r],o=t["padding-"+i];n[i]=Mi(o)}return n}function eA(t){var e=t.getBBox();return Ai(0,0,e.width,e.height)}function nA(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return od;var r=sr(t).getComputedStyle(t),a=tA(r),i=a.left+a.right,o=a.top+a.bottom,s=Mi(r.width),l=Mi(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+i)!==e&&(s-=sd(r,"left","right")+i),Math.round(l+o)!==n&&(l-=sd(r,"top","bottom")+o)),!aA(t)){var u=Math.round(s+i)-e,c=Math.round(l+o)-n;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return Ai(a.left,a.top,s,l)}var rA=function(){return typeof SVGGraphicsElement!="undefined"?function(t){return t instanceof sr(t).SVGGraphicsElement}:function(t){return t instanceof sr(t).SVGElement&&typeof t.getBBox=="function"}}();function aA(t){return t===sr(t).document.documentElement}function iA(t){return Ql?rA(t)?eA(t):nA(t):od}function oA(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return id(o,{x:e,y:n,width:r,height:a,top:n,right:e+r,bottom:a+n,left:e}),o}function Ai(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Jl=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ai(0,0,0,0),this.target=t};Jl.prototype.isActive=function(){var t=iA(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight};Jl.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var sA=function(t,e){var n=oA(e);id(this,{target:t,contentRect:n})},sn=function(t,e,n){if(this.activeObservations_=[],this.observations_=new ad,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n};sn.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof sr(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Jl(t)),this.controller_.addObserver(this),this.controller_.refresh())}};sn.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof sr(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;!e.has(t)||(e.delete(t),e.size||this.controller_.removeObserver(this))}};sn.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)};sn.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})};sn.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new sA(n.target,n.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}};sn.prototype.clearActive=function(){this.activeObservations_.splice(0)};sn.prototype.hasActive=function(){return this.activeObservations_.length>0};var ld=typeof WeakMap!="undefined"?new WeakMap:new ad,tu=function(t){if(!(this instanceof tu))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=Ee.getInstance(),n=new sn(t,e,this);ld.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){tu.prototype[t]=function(){return(e=ld.get(this))[t].apply(e,arguments);var e}});var lA=function(){return typeof Si.ResizeObserver!="undefined"?Si.ResizeObserver:tu}(),ud={exports:{}};(function(t){(function(e){var n=v(),r=b(),a=O(),i=T(),o={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:l,toPng:c,toJpeg:h,toBlob:f,toPixelData:u,impl:{fontFaces:a,images:i,util:n,inliner:r,options:{}}};t.exports=s;function l(A,w){return w=w||{},p(w),Promise.resolve(A).then(function(P){return g(P,w.filter,!0)}).then(m).then(x).then(S).then(function(P){return y(P,w.width||n.width(A),w.height||n.height(A))});function S(P){return w.bgcolor&&(P.style.backgroundColor=w.bgcolor),w.width&&(P.style.width=w.width+"px"),w.height&&(P.style.height=w.height+"px"),w.style&&Object.keys(w.style).forEach(function(M){P.style[M]=w.style[M]}),P}}function u(A,w){return d(A,w||{}).then(function(S){return S.getContext("2d").getImageData(0,0,n.width(A),n.height(A)).data})}function c(A,w){return d(A,w||{}).then(function(S){return S.toDataURL()})}function h(A,w){return w=w||{},d(A,w).then(function(S){return S.toDataURL("image/jpeg",w.quality||1)})}function f(A,w){return d(A,w||{}).then(n.canvasToBlob)}function p(A){typeof A.imagePlaceholder=="undefined"?s.impl.options.imagePlaceholder=o.imagePlaceholder:s.impl.options.imagePlaceholder=A.imagePlaceholder,typeof A.cacheBust=="undefined"?s.impl.options.cacheBust=o.cacheBust:s.impl.options.cacheBust=A.cacheBust}function d(A,w){return l(A,w).then(n.makeImage).then(n.delay(100)).then(function(P){var M=S(A);return M.getContext("2d").drawImage(P,0,0),M});function S(P){var M=document.createElement("canvas");if(M.width=w.width||n.width(P),M.height=w.height||n.height(P),w.bgcolor){var k=M.getContext("2d");k.fillStyle=w.bgcolor,k.fillRect(0,0,M.width,M.height)}return M}}function g(A,w,S){if(!S&&w&&!w(A))return Promise.resolve();return Promise.resolve(A).then(P).then(function(R){return M(A,R,w)}).then(function(R){return k(A,R)});function P(R){return R instanceof HTMLCanvasElement?n.makeImage(R.toDataURL()):R.cloneNode(!1)}function M(R,U,D){var L=R.childNodes;if(L.length===0)return Promise.resolve(U);return I(U,n.asArray(L),D).then(function(){return U});function I(V,C,G){var H=Promise.resolve();return C.forEach(function(X){H=H.then(function(){return g(X,G)}).then(function(lt){lt&&V.appendChild(lt)})}),H}}function k(R,U){if(!(U instanceof Element))return U;return Promise.resolve().then(D).then(L).then(I).then(V).then(function(){return U});function D(){C(window.getComputedStyle(R),U.style);function C(G,H){G.cssText?H.cssText=G.cssText:X(G,H);function X(lt,nt){n.asArray(lt).forEach(function(Y){nt.setProperty(Y,lt.getPropertyValue(Y),lt.getPropertyPriority(Y))})}}}function L(){[":before",":after"].forEach(function(G){C(G)});function C(G){var H=window.getComputedStyle(R,G),X=H.getPropertyValue("content");if(X===""||X==="none")return;var lt=n.uid();U.className=U.className+" "+lt;var nt=document.createElement("style");nt.appendChild(Y(lt,G,H)),U.appendChild(nt);function Y(J,Q,rt){var j="."+J+":"+Q,Z=rt.cssText?at(rt):z(rt);return document.createTextNode(j+"{"+Z+"}");function at(ft){var it=ft.getPropertyValue("content");return ft.cssText+" content: "+it+";"}function z(ft){return n.asArray(ft).map(it).join("; ")+";";function it(vt){return vt+": "+ft.getPropertyValue(vt)+(ft.getPropertyPriority(vt)?" !important":"")}}}}}function I(){R instanceof HTMLTextAreaElement&&(U.innerHTML=R.value),R instanceof HTMLInputElement&&U.setAttribute("value",R.value)}function V(){U instanceof SVGElement&&(U.setAttribute("xmlns","http://www.w3.org/2000/svg"),U instanceof SVGRectElement&&["width","height"].forEach(function(C){var G=U.getAttribute(C);!G||U.style.setProperty(C,G)}))}}}function m(A){return a.resolveAll().then(function(w){var S=document.createElement("style");return A.appendChild(S),S.appendChild(document.createTextNode(w)),A})}function x(A){return i.inlineAll(A).then(function(){return A})}function y(A,w,S){return Promise.resolve(A).then(function(P){return P.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(P)}).then(n.escapeXhtml).then(function(P){return'<foreignObject x="0" y="0" width="100%" height="100%">'+P+"</foreignObject>"}).then(function(P){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+w+'" height="'+S+'">'+P+"</svg>"}).then(function(P){return"data:image/svg+xml;charset=utf-8,"+P})}function v(){return{escape:V,parseExtension:w,mimeType:S,dataAsUrl:I,isDataUrl:P,canvasToBlob:k,resolveUrl:R,getAndEncode:L,uid:U(),delay:C,asArray:G,escapeXhtml:H,makeImage:D,width:X,height:lt};function A(){var Y="application/font-woff",J="image/jpeg";return{woff:Y,woff2:Y,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:J,jpeg:J,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function w(Y){var J=/\.([^\.\/]*?)$/g.exec(Y);return J?J[1]:""}function S(Y){var J=w(Y).toLowerCase();return A()[J]||""}function P(Y){return Y.search(/^(data:)/)!==-1}function M(Y){return new Promise(function(J){for(var Q=window.atob(Y.toDataURL().split(",")[1]),rt=Q.length,j=new Uint8Array(rt),Z=0;Z<rt;Z++)j[Z]=Q.charCodeAt(Z);J(new Blob([j],{type:"image/png"}))})}function k(Y){return Y.toBlob?new Promise(function(J){Y.toBlob(J)}):M(Y)}function R(Y,J){var Q=document.implementation.createHTMLDocument(),rt=Q.createElement("base");Q.head.appendChild(rt);var j=Q.createElement("a");return Q.body.appendChild(j),rt.href=J,j.href=Y,j.href}function U(){var Y=0;return function(){return"u"+J()+Y++;function J(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function D(Y){return new Promise(function(J,Q){var rt=new Image;rt.onload=function(){J(rt)},rt.onerror=Q,rt.src=Y})}function L(Y){var J=3e4;return s.impl.options.cacheBust&&(Y+=(/\?/.test(Y)?"&":"?")+new Date().getTime()),new Promise(function(Q){var rt=new XMLHttpRequest;rt.onreadystatechange=at,rt.ontimeout=z,rt.responseType="blob",rt.timeout=J,rt.open("GET",Y,!0),rt.send();var j;if(s.impl.options.imagePlaceholder){var Z=s.impl.options.imagePlaceholder.split(/,/);Z&&Z[1]&&(j=Z[1])}function at(){if(rt.readyState===4){if(rt.status!==200){j?Q(j):ft("cannot fetch resource: "+Y+", status: "+rt.status);return}var it=new FileReader;it.onloadend=function(){var vt=it.result.split(/,/)[1];Q(vt)},it.readAsDataURL(rt.response)}}function z(){j?Q(j):ft("timeout of "+J+"ms occured while fetching resource: "+Y)}function ft(it){console.error(it),Q("")}})}function I(Y,J){return"data:"+J+";base64,"+Y}function V(Y){return Y.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function C(Y){return function(J){return new Promise(function(Q){setTimeout(function(){Q(J)},Y)})}}function G(Y){for(var J=[],Q=Y.length,rt=0;rt<Q;rt++)J.push(Y[rt]);return J}function H(Y){return Y.replace(/#/g,"%23").replace(/\n/g,"%0A")}function X(Y){var J=nt(Y,"border-left-width"),Q=nt(Y,"border-right-width");return Y.scrollWidth+J+Q}function lt(Y){var J=nt(Y,"border-top-width"),Q=nt(Y,"border-bottom-width");return Y.scrollHeight+J+Q}function nt(Y,J){var Q=window.getComputedStyle(Y).getPropertyValue(J);return parseFloat(Q.replace("px",""))}}function b(){var A=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:M,shouldProcess:w,impl:{readUrls:S,inline:P}};function w(k){return k.search(A)!==-1}function S(k){for(var R=[],U;(U=A.exec(k))!==null;)R.push(U[1]);return R.filter(function(D){return!n.isDataUrl(D)})}function P(k,R,U,D){return Promise.resolve(R).then(function(I){return U?n.resolveUrl(I,U):I}).then(D||n.getAndEncode).then(function(I){return n.dataAsUrl(I,n.mimeType(R))}).then(function(I){return k.replace(L(R),"$1"+I+"$3")});function L(I){return new RegExp(`(url\\(['"]?)(`+n.escape(I)+`)(['"]?\\))`,"g")}}function M(k,R,U){if(D())return Promise.resolve(k);return Promise.resolve(k).then(S).then(function(L){var I=Promise.resolve(k);return L.forEach(function(V){I=I.then(function(C){return P(C,V,R,U)})}),I});function D(){return!w(k)}}}function O(){return{resolveAll:A,impl:{readAll:w}};function A(){return w().then(function(S){return Promise.all(S.map(function(P){return P.resolve()}))}).then(function(S){return S.join(`
`)})}function w(){return Promise.resolve(n.asArray(document.styleSheets)).then(P).then(S).then(function(k){return k.map(M)});function S(k){return k.filter(function(R){return R.type===CSSRule.FONT_FACE_RULE}).filter(function(R){return r.shouldProcess(R.style.getPropertyValue("src"))})}function P(k){var R=[];return k.forEach(function(U){try{n.asArray(U.cssRules||[]).forEach(R.push.bind(R))}catch(D){console.log("Error while reading CSS rules from "+U.href,D.toString())}}),R}function M(k){return{resolve:function(){var U=(k.parentStyleSheet||{}).href;return r.inlineAll(k.cssText,U)},src:function(){return k.style.getPropertyValue("src")}}}}}function T(){return{inlineAll:w,impl:{newImage:A}};function A(S){return{inline:P};function P(M){return n.isDataUrl(S.src)?Promise.resolve():Promise.resolve(S.src).then(M||n.getAndEncode).then(function(k){return n.dataAsUrl(k,n.mimeType(S.src))}).then(function(k){return new Promise(function(R,U){S.onload=R,S.onerror=U,S.src=k})})}}function w(S){if(!(S instanceof Element))return Promise.resolve(S);return P(S).then(function(){return S instanceof HTMLImageElement?A(S).inline():Promise.all(n.asArray(S.childNodes).map(function(M){return w(M)}))});function P(M){var k=M.style.getPropertyValue("background");return k?r.inlineAll(k).then(function(R){M.style.setProperty("background",R,M.style.getPropertyPriority("background"))}).then(function(){return M}):Promise.resolve(M)}}}})()})(ud);var cd=ud.exports,uA=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fd="DONT_STYLE_ME_css_styles_verifier",N=function(t){uA(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.chartID=Math.floor((1+Math.random())*281474976710656).toString(16),a}return e.getHTMLElementSize=function(n){return{width:n.clientWidth,height:n.clientHeight}},e.getSVGElementSize=function(n,r){r===void 0&&(r={useAttrs:!1,useClientDimensions:!1,useBBox:!1,useBoundingRect:!1}),n.attr||(n=B(n));var a={width:0,height:0},i=function(p){p&&Object.keys(a).forEach(function(d){if(p[d]){var g=p[d],m=parseFloat(g);g&&m>a[d]&&(""+g).indexOf("%")===-1&&(a[d]=m)}})},o={width:n.attr("width"),height:n.attr("height")},s,l,u,c;try{s=n.node().getBBox(),l={width:s.width,height:s.height}}catch{}try{u=n.node().getBoundingClientRect(),c={width:u.width,height:u.height}}catch{}var h={width:n.node().clientWidth,height:n.node().clientHeight};if(r){if(r.useAttrs&&(i(o),a.width>0&&a.height>0))return a;if(r.useClientDimensions&&(i(h),a.width>0&&a.height>0))return h;if(r.useBBox&&(i(l),a.width>0&&a.height>0))return l;if(r.useBoundingRect&&(i(c),a.width>0&&a.height>0))return c}try{var f={width:_.getProperty(n.node(),"width","baseVal","value"),height:_.getProperty(n.node(),"height","baseVal","value")};i(f)}catch{i(h),i(l),i(o)}return a},e.appendOrSelect=function(n,r){var a=n.select(""+r);if(a.empty()){var i=r.split("#"),o=void 0,s=void 0;return i.length===2?(o=i[0],i=i[1].split("."),s=i[0]):(i=r.split("."),o=i[0]),n.append(o).attr("id",s).attr("class",i.slice(1).join(" "))}return a},e.prototype.init=function(){this.styleHolderElement(),this.addMainContainer(),this.verifyCSSStylesBeingApplied(),this.model.getOptions().resizable&&this.addResizeListener(),this.addHolderListeners(),this.handleFullscreenChange()},e.prototype.getChartID=function(){return this.chartID},e.prototype.generateElementIDString=function(n){return"chart-"+this.chartID+"-"+n},e.prototype.addMainContainer=function(){var n=this.model.getOptions(),r=_.getProperty(n,"style","prefix"),a=B(this.getHolder()).append("div").classed(Gt.prefix+"--"+r+"--chart-wrapper",!0).style("height","100%").style("width","100%");a.append("g").attr("class",fd),this.mainContainer=a.node()},e.prototype.update=function(){this.styleHolderElement()},e.prototype.styleHolderElement=function(){var n=this.getHolder();B(this.getHolder()).classed(Gt.prefix+"--chart-holder",!0);var r=this.model.getOptions(),a=r.width,i=r.height;a!==this.width&&(n.style.width=a,this.width=a),i!==this.height&&(n.style.height=i,this.height=i)},e.prototype.getHolder=function(){return this.model.get("holder")},e.prototype.exportToJPG=function(){var n=this,r=this.getHolder(),a=B(r);a.classed("filled",!0),cd.toJpeg(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(r).getPropertyValue("background-color"):void 0,quality:1,filter:function(i){return!(i.classList&&i.classList.contains("bx--cc--toolbar"))}}).then(function(i){n.services.files.downloadImage(i,"myChart.jpg"),a.classed("filled",!1)})},e.prototype.exportToPNG=function(){var n=this,r=this.getHolder(),a=B(r);a.classed("filled",!0),cd.toPng(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(r).getPropertyValue("background-color"):void 0,quality:1,filter:function(i){return!(i.classList&&i.classList.contains("bx--cc--toolbar"))}}).then(function(i){n.services.files.downloadImage(i,"myChart.png"),a.classed("filled",!1)}).catch(function(i){console.error("oops, something went wrong!",i)})},e.prototype.toggleFullscreen=function(){var n=this.getHolder(),r=B(n),a=r.classed("fullscreen");a&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()},e.prototype.handleFullscreenChange=function(){var n=this;document.addEventListener("fullscreenchange",function(){var r=B(n.getHolder()),a=r.classed("fullscreen");r.classed("fullscreen",!a)})},e.prototype.verifyCSSStylesBeingApplied=function(){var n=this;setTimeout(function(){var r=B(n.mainContainer).select("g."+fd).node(),a=getComputedStyle(r);(a.getPropertyValue("overflow")!=="hidden"||a.getPropertyValue("opacity")!=="0")&&console.error("Missing CSS styles for Carbon Charts. Please read the Carbon Charts getting started guide.")})},e.prototype.setSVGMaxHeight=function(){if(!this.model.getOptions().height){var n=e.getSVGElementSize(B(this.mainContainer),{useBBox:!0}).height,r=B(this.mainContainer).attr("class"),a=B(this.mainContainer).selectAll("."+r+" > svg"),i=0;a.nodes().forEach(function(o){i+=Number(e.getSVGElementSize(B(o),{useBBox:!0}).height)}),i<=n?B(this.mainContainer).attr("height",i):B(this.mainContainer).attr("height","100%")}},e.prototype.getMainContainer=function(){return this.mainContainer},e.prototype.addHolderListeners=function(){var n=this,r=this.getHolder();!r||B(r).on("mouseover",function(){n.services.events.dispatchEvent(E.Chart.MOUSEOVER)}).on("mouseout",function(){n.services.events.dispatchEvent(E.Chart.MOUSEOUT)})},e.prototype.addResizeListener=function(){var n=this,r=this.getHolder();if(!!r){var a=r.clientWidth,i=r.clientHeight,o=_.debounce(function(l,u){!r||(Math.abs(a-r.clientWidth)>1||Math.abs(i-r.clientHeight)>1)&&(a=r.clientWidth,i=r.clientHeight,n.services.events.dispatchEvent(E.Chart.RESIZE))},12.5),s=new lA(o);s.observe(r)}},e}(Qe),cA=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fA=function(t){cA(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){this.documentFragment=document.createDocumentFragment()},e.prototype.addEventListener=function(n,r){this.documentFragment.addEventListener(n,r)},e.prototype.removeEventListener=function(n,r){this.documentFragment.removeEventListener(n,r)},e.prototype.dispatchEvent=function(n,r){var a;r?a=new CustomEvent(n,{detail:r}):(a=document.createEvent("Event"),a.initEvent(n,!1,!0)),this.documentFragment.dispatchEvent(a)},e}(Qe),hA=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pA=function(t){hA(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.downloadCSV=function(n,r){var a=document.createElement("a"),i="text/csv;encoding:utf-8";if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([n],{type:i}),r);else if(URL&&"download"in a){var o=URL.createObjectURL(new Blob([n],{type:i}));a.href=o,a.setAttribute("download",r),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)}else location.href="data:application/octet-stream,"+encodeURIComponent(n)},e.prototype.downloadImage=function(n,r){var a=document.createElement("a");a.download=r,a.href=n,document.body.appendChild(a),a.click(),document.body.removeChild(a)},e}(Qe),dA=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vA=function(t){dA(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingTransitions={},n}return e.prototype.init=function(){var n=this;this.services.events.addEventListener(E.Model.UPDATE,function(){n.pendingTransitions={}})},e.prototype.setupTransition=function(n){var r=this,a=n.transition,i=n.name,o=n.animate;return this.pendingTransitions[a._id]=a,a.on("end interrupt cancel",function(){delete r.pendingTransitions[a._id]}),this.model.getOptions().animations===!1||o===!1?a.duration(0):a.duration(_.getProperty(ms,i,"duration")||ms.default.duration)},e.prototype.getPendingTransitions=function(){return this.pendingTransitions},e}(Qe),gA=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eu=function(t){gA(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.appendOrUpdateLinearGradient=function(n){var r=n.svg.select("defs linearGradient#"+n.id);r.empty()&&(r=n.svg.append("defs").append("linearGradient").attr("id",n.id).attr("x1",n.x1).attr("x2",n.x2).attr("y1",n.y1).attr("y2",n.y2)),r.selectAll("stop").remove(),r.selectAll("stop").data(n.stops).enter().append("stop").attr("offset",function(a){return a.offset}).style("stop-color",function(a){return a.color}).style("stop-opacity",function(a){return a.opacity})},e.getOffsetRatio=function(n){var r=(Math.abs(n[1])*100/Math.abs(n[0]-n[1])).toFixed(2)+"%";return r},e.getStops=function(n,r){var a=n[0]<0&&n[1]>0,i=[{offset:"0%",color:r,opacity:"0.6"},{offset:"80%",color:r,opacity:"0"}];return a&&(i=[{offset:"0%",color:r,opacity:"0.6"},{offset:e.getOffsetRatio(n),color:r,opacity:"0"},{offset:"100%",color:r,opacity:"0.6"}]),i},e}(Qe);function mt(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function St(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function hd(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=St(e);return n.setDate(n.getDate()+r),n}function Ci(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t).getTime(),r=St(e);return new Date(n+r)}var mA=36e5;function pd(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return Ci(t,n*mA)}var dd=6e4;function nu(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());e.setSeconds(0,0);var r=e.getTime()%dd;return n*dd+r}function vd(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=mt(t);return e.setHours(0,0,0,0),e}var yA=864e5;function _A(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=vd(t),r=vd(e),a=n.getTime()-nu(n),i=r.getTime()-nu(r);return Math.round((a-i)/yA)}var xA=6e4;function ru(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return Ci(t,n*xA)}function bA(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=mt(t),n=e.getFullYear(),r=e.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function au(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=St(e),a=n.getMonth()+r,i=new Date(0);i.setFullYear(n.getFullYear(),a,1),i.setHours(0,0,0,0);var o=bA(i);return n.setMonth(a,Math.min(o,n.getDate())),n}function iu(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return Ci(t,n*1e3)}function gd(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return au(t,n*12)}function lr(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=mt(e),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function OA(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=mt(t);return!isNaN(e)}function TA(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=mt(e),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function wA(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=mt(e);return n.getFullYear()-r.getFullYear()}function EA(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=mt(e),a=lr(n,r),i=Math.abs(_A(n,r));n.setDate(n.getDate()-a*i);var o=lr(n,r)===-a,s=a*(i-o);return s===0?0:s}function ou(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=mt(e);return n.getTime()-r.getTime()}var SA=36e5;function MA(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=ou(t,e)/SA;return n>0?Math.floor(n):Math.ceil(n)}var AA=6e4;function md(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=ou(t,e)/AA;return n>0?Math.floor(n):Math.ceil(n)}function CA(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=mt(e),a=lr(n,r),i=Math.abs(TA(n,r));n.setMonth(n.getMonth()-a*i);var o=lr(n,r)===-a,s=a*(i-o);return s===0?0:s}function yd(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=ou(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}function PA(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=mt(t),r=mt(e),a=lr(n,r),i=Math.abs(wA(n,r));n.setFullYear(n.getFullYear()-a*i);var o=lr(n,r)===-a,s=a*(i-o);return s===0?0:s}var Pi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function DA(t,e,n){n=n||{};var r;return typeof Pi[t]=="string"?r=Pi[t]:e===1?r=Pi[t].one:r=Pi[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r}function su(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth,a=t.formats[r]||t.formats[t.defaultWidth];return a}}var LA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IA={date:su({formats:LA,defaultWidth:"full"}),time:su({formats:RA,defaultWidth:"full"}),dateTime:su({formats:kA,defaultWidth:"full"})},NA=IA,BA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function UA(t,e,n,r){return BA[t]}function ca(t){return function(e,n){var r=n||{},a=r.context?String(r.context):"standalone",i;if(a==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var l=t.defaultWidth,u=r.width?String(r.width):t.defaultWidth;i=t.values[u]||t.values[l]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var VA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$A={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function WA(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"}var jA={ordinalNumber:WA,era:ca({values:VA,defaultWidth:"wide"}),quarter:ca({values:GA,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:ca({values:FA,defaultWidth:"wide"}),day:ca({values:HA,defaultWidth:"wide"}),dayPeriod:ca({values:$A,defaultWidth:"wide",formattingValues:zA,defaultFormattingWidth:"wide"})},qA=jA;function YA(t){return function(e,n){var r=String(e),a=n||{},i=r.match(t.matchPattern);if(!i)return null;var o=i[0],s=r.match(t.parsePattern);if(!s)return null;var l=t.valueCallback?t.valueCallback(s[0]):s[0];return l=a.valueCallback?a.valueCallback(l):l,{value:l,rest:r.slice(o.length)}}}function fa(t){return function(e,n){var r=String(e),a=n||{},i=a.width,o=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;var l=s[0],u=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],c;return Object.prototype.toString.call(u)==="[object Array]"?c=ZA(u,function(h){return h.test(r)}):c=XA(u,function(h){return h.test(r)}),c=t.valueCallback?t.valueCallback(c):c,c=a.valueCallback?a.valueCallback(c):c,{value:c,rest:r.slice(l.length)}}}function XA(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function ZA(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}var KA=/^(\d+)(th|st|nd|rd)?/i,QA=/\d+/i,JA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tC={any:[/^b/i,/^(a|c)/i]},eC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nC={any:[/1/i,/2/i,/3/i,/4/i]},rC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uC={ordinalNumber:YA({matchPattern:KA,parsePattern:QA,valueCallback:function(t){return parseInt(t,10)}}),era:fa({matchPatterns:JA,defaultMatchWidth:"wide",parsePatterns:tC,defaultParseWidth:"any"}),quarter:fa({matchPatterns:eC,defaultMatchWidth:"wide",parsePatterns:nC,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:fa({matchPatterns:rC,defaultMatchWidth:"wide",parsePatterns:aC,defaultParseWidth:"any"}),day:fa({matchPatterns:iC,defaultMatchWidth:"wide",parsePatterns:oC,defaultParseWidth:"any"}),dayPeriod:fa({matchPatterns:sC,defaultMatchWidth:"any",parsePatterns:lC,defaultParseWidth:"any"})},cC=uC,fC={code:"en-US",formatDistance:DA,formatLong:NA,formatRelative:UA,localize:qA,match:cC,options:{weekStartsOn:0,firstWeekContainsDate:1}},hC=fC;function pC(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return Ci(t,-n)}function gt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var dC={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return gt(e==="yy"?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return e==="M"?String(n+1):gt(n+1,2)},d:function(t,e){return gt(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,e){return gt(t.getUTCHours()%12||12,e.length)},H:function(t,e){return gt(t.getUTCHours(),e.length)},m:function(t,e){return gt(t.getUTCMinutes(),e.length)},s:function(t,e){return gt(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds(),a=Math.floor(r*Math.pow(10,n-3));return gt(a,e.length)}},ln=dC,vC=864e5;function gC(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=mt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),a=n-r;return Math.floor(a/vC)+1}function Di(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=1,n=mt(t),r=n.getUTCDay(),a=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function _d(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=mt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Di(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Di(i);return e.getTime()>=a.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function mC(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=_d(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Di(n);return r}var yC=6048e5;function _C(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=mt(t),n=Di(e).getTime()-mC(e).getTime();return Math.round(n/yC)+1}function Li(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,i=a==null?0:St(a),o=n.weekStartsOn==null?i:St(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=mt(t),l=s.getUTCDay(),u=(l<o?7:0)+l-o;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function xd(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=mt(t,e),r=n.getUTCFullYear(),a=e||{},i=a.locale,o=i&&i.options&&i.options.firstWeekContainsDate,s=o==null?1:St(o),l=a.firstWeekContainsDate==null?s:St(a.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,l),u.setUTCHours(0,0,0,0);var c=Li(u,e),h=new Date(0);h.setUTCFullYear(r,0,l),h.setUTCHours(0,0,0,0);var f=Li(h,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function xC(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,i=a==null?1:St(a),o=n.firstWeekContainsDate==null?i:St(n.firstWeekContainsDate),s=xd(t,e),l=new Date(0);l.setUTCFullYear(s,0,o),l.setUTCHours(0,0,0,0);var u=Li(l,e);return u}var bC=6048e5;function OC(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=mt(t),r=Li(n,e).getTime()-xC(n,e).getTime();return Math.round(r/bC)+1}var ur={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TC={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){var r=t.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return ln.y(t,e)},Y:function(t,e,n,r){var a=xd(t,r),i=a>0?a:1-a;if(e==="YY"){var o=i%100;return gt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):gt(i,e.length)},R:function(t,e){var n=_d(t);return gt(n,e.length)},u:function(t,e){var n=t.getUTCFullYear();return gt(n,e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return ln.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var a=OC(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):gt(a,e.length)},I:function(t,e,n){var r=_C(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):gt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):ln.d(t,e)},D:function(t,e,n){var r=gC(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):gt(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return gt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return gt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return gt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours(),a=r/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r=t.getUTCHours(),a;switch(r===12?a=ur.noon:r===0?a=ur.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r=t.getUTCHours(),a;switch(r>=17?a=ur.evening:r>=12?a=ur.afternoon:r>=4?a=ur.morning:a=ur.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ln.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ln.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ln.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ln.s(t,e)},S:function(t,e){return ln.S(t,e)},X:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Od(i);case"XXXX":case"XX":return Dn(i);case"XXXXX":case"XXX":default:return Dn(i,":")}},x:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"x":return Od(i);case"xxxx":case"xx":return Dn(i);case"xxxxx":case"xxx":default:return Dn(i,":")}},O:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bd(i,":");case"OOOO":default:return"GMT"+Dn(i,":")}},z:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bd(i,":");case"zzzz":default:return"GMT"+Dn(i,":")}},t:function(t,e,n,r){var a=r._originalDate||t,i=Math.floor(a.getTime()/1e3);return gt(i,e.length)},T:function(t,e,n,r){var a=r._originalDate||t,i=a.getTime();return gt(i,e.length)}};function bd(t,e){var n=t>0?"-":"+",r=Math.abs(t),a=Math.floor(r/60),i=r%60;if(i===0)return n+String(a);var o=e||"";return n+String(a)+o+gt(i,2)}function Od(t,e){if(t%60==0){var n=t>0?"-":"+";return n+gt(Math.abs(t)/60,2)}return Dn(t,e)}function Dn(t,e){var n=e||"",r=t>0?"-":"+",a=Math.abs(t),i=gt(Math.floor(a/60),2),o=gt(a%60,2);return r+i+n+o}var wC=TC;function Td(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function wd(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function EC(t,e){var n=t.match(/(P+)(p+)?/),r=n[1],a=n[2];if(!a)return Td(t,e);var i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Td(r,e)).replace("{{time}}",wd(a,e))}var SC={p:wd,P:EC},MC=SC,AC=["D","DD"],CC=["YY","YYYY"];function PC(t){return AC.indexOf(t)!==-1}function DC(t){return CC.indexOf(t)!==-1}function Ed(t){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if(t==="YY")throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if(t==="D")throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if(t==="DD")throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var LC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kC=/^'([^]*?)'?$/,IC=/''/g,NC=/[a-zA-Z]/;function ha(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(e),a=n||{},i=a.locale||hC,o=i.options&&i.options.firstWeekContainsDate,s=o==null?1:St(o),l=a.firstWeekContainsDate==null?s:St(a.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=i.options&&i.options.weekStartsOn,c=u==null?0:St(u),h=a.weekStartsOn==null?c:St(a.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var f=mt(t);if(!OA(f))throw new RangeError("Invalid time value");var p=nu(f),d=pC(f,p),g={firstWeekContainsDate:l,weekStartsOn:h,locale:i,_originalDate:f},m=r.match(RC).map(function(x){var y=x[0];if(y==="p"||y==="P"){var v=MC[y];return v(x,i.formatLong,g)}return x}).join("").match(LC).map(function(x){if(x==="''")return"'";var y=x[0];if(y==="'")return BC(x);var v=wC[y];if(v)return!a.useAdditionalWeekYearTokens&&DC(x)&&Ed(x),!a.useAdditionalDayOfYearTokens&&PC(x)&&Ed(x),v(d,x,i.localize,g);if(y.match(NC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return x}).join("");return m}function BC(t){return t.match(kC)[1].replace(IC,"'")}function UC(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return hd(t,-n)}function VC(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return pd(t,-n)}function Sd(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return ru(t,-n)}function GC(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return au(t,-n)}function Md(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return iu(t,-n)}function FC(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=St(e);return gd(t,-n)}var HC=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$C=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},zC=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},WC=function(t){HC(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scaleTypes={top:null,right:null,bottom:null,left:null},n.scales={top:null,right:null,bottom:null,left:null},n}return e.prototype.getDomainAxisPosition=function(n){var r=(n===void 0?{}:n).datum,a=r===void 0?null:r,i;if(this.dualAxes&&a){var o=this.model.getOptions(),s=o.data.groupMapsTo,l=_.getProperty(o,"axes",this.secondaryDomainAxisPosition),u=a[s];if(((i=l)===null||i===void 0?void 0:i.correspondingDatasets)&&l.correspondingDatasets.includes(u))return this.secondaryDomainAxisPosition}return this.domainAxisPosition},e.prototype.getRangeAxisPosition=function(n){var r=n===void 0?{}:n,a=r.datum,i=a===void 0?null:a,o=r.groups,s=o===void 0?null:o,l;if(this.dualAxes){var u=this.model.getOptions(),c=u.data.groupMapsTo,h=_.getProperty(u,"axes",this.secondaryRangeAxisPosition),f=void 0;if(i!==null?f=i[c]:s&&s.length>0&&(f=s[0]),((l=h)===null||l===void 0?void 0:l.correspondingDatasets)&&h.correspondingDatasets.includes(f))return this.secondaryRangeAxisPosition}return this.rangeAxisPosition},e.prototype.getAxisOptions=function(n){return _.getProperty(this.model.getOptions(),"axes",n)},e.prototype.getDomainAxisOptions=function(){var n=this.getDomainAxisPosition();return this.getAxisOptions(n)},e.prototype.getRangeAxisOptions=function(){var n=this.getRangeAxisPosition();return this.getAxisOptions(n)},e.prototype.getScaleLabel=function(n){var r=this.getAxisOptions(n),a=r.title;return a||(n===$.BOTTOM||n===$.TOP?"x-value":"y-value")},e.prototype.getDomainLabel=function(){return this.getScaleLabel(this.getDomainAxisPosition())},e.prototype.getRangeLabel=function(){return this.getScaleLabel(this.getRangeAxisPosition())},e.prototype.update=function(n){var r=this;this.determineAxisDuality(),this.findDomainAndRangeAxes(),this.determineOrientation();var a=Object.keys($).map(function(i){return $[i]});a.forEach(function(i){r.scales[i]=r.createScale(i)})},e.prototype.findDomainAndRangeAxes=function(){var n=this.findVerticalAxesPositions(),r=this.findHorizontalAxesPositions(),a=this.findDomainAndRangeAxesPositions(n,r);this.domainAxisPosition=a.primaryDomainAxisPosition,this.rangeAxisPosition=a.primaryRangeAxisPosition,this.isDualAxes()&&(this.secondaryDomainAxisPosition=a.secondaryDomainAxisPosition,this.secondaryRangeAxisPosition=a.secondaryRangeAxisPosition)},e.prototype.determineOrientation=function(){(this.rangeAxisPosition===$.LEFT||this.rangeAxisPosition===$.RIGHT)&&(this.domainAxisPosition===$.BOTTOM||this.domainAxisPosition===$.TOP)?this.orientation=kt.VERTICAL:this.orientation=kt.HORIZONTAL},e.prototype.isDualAxes=function(){return this.dualAxes},e.prototype.determineAxisDuality=function(){var n,r,a,i,o=this.model.getOptions(),s=_.getProperty(o,"axes");(((n=s[$.LEFT])===null||n===void 0?void 0:n.correspondingDatasets)&&s[$.RIGHT]||((r=s[$.RIGHT])===null||r===void 0?void 0:r.correspondingDatasets)&&s[$.LEFT]||((a=s[$.TOP])===null||a===void 0?void 0:a.correspondingDatasets)&&s[$.BOTTOM]||((i=s[$.BOTTOM])===null||i===void 0?void 0:i.correspondingDatasets)&&s[$.TOP])&&(this.dualAxes=!0)},e.prototype.getCustomDomainValuesByposition=function(n){var r=_.getProperty(this.model.getOptions(),"axes",n,"domain");if(r&&!Array.isArray(r))throw new Error("Domain in "+n+" axis is not a valid array");if(Array.isArray(r)&&(this.scaleTypes[n]===K.LINEAR||this.scaleTypes[n]===K.TIME)&&r.length!==2)throw new Error("There can only be 2 elements in domain for scale type: "+this.scaleTypes[n]);return r},e.prototype.getOrientation=function(){return this.orientation},e.prototype.getScaleByPosition=function(n){return this.scales[n]},e.prototype.getScaleTypeByPosition=function(n){return this.scaleTypes[n]},e.prototype.getDomainAxisScaleType=function(){var n=this.getDomainAxisPosition();return this.getScaleTypeByPosition(n)},e.prototype.getRangeAxisScaleType=function(){var n=this.getRangeAxisPosition();return this.getScaleTypeByPosition(n)},e.prototype.getDomainScale=function(){return this.scales[this.domainAxisPosition]},e.prototype.getRangeScale=function(){return this.scales[this.rangeAxisPosition]},e.prototype.getMainXAxisPosition=function(){var n=[$.BOTTOM,$.TOP];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(r){return n.indexOf(r)>-1})},e.prototype.getMainYAxisPosition=function(){var n=[$.LEFT,$.RIGHT];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(r){return n.indexOf(r)>-1})},e.prototype.getMainXScale=function(){return this.scales[this.getMainXAxisPosition()]},e.prototype.getMainYScale=function(){return this.scales[this.getMainYAxisPosition()]},e.prototype.getValueFromScale=function(n,r,a,i,o){var s=this.model.getOptions(),l=_.getProperty(s,"axes"),u=l[a],c=u.mapsTo,h=_.getProperty(i,c)!==null?i[c]:i,f;switch(r){case K.LABELS:f=n(h)+n.step()/2;break;case K.TIME:f=n(new Date(h));break;default:f=n(h)}return f},e.prototype.getBoundedScaledValues=function(n,r){var a=this.model.getOptions().bounds,i=this.scales[this.rangeAxisPosition],o=this.model.getOptions(),s=_.getProperty(o,"axes"),l=s[this.rangeAxisPosition],u=l.mapsTo,c=n[u]!==void 0?n[u]:n,h=[i(_.getProperty(n,a.upperBoundMapsTo)!==null?n[a.upperBoundMapsTo]:c),i(_.getProperty(n,a.lowerBoundMapsTo)!==null?n[a.lowerBoundMapsTo]:c)];return h},e.prototype.getValueThroughAxisPosition=function(n,r,a){var i=this.scaleTypes[n],o=this.scales[n];return this.getValueFromScale(o,i,n,r,a)},e.prototype.getDomainValue=function(n,r){var a=this.getDomainAxisPosition({datum:n});return this.getValueThroughAxisPosition(a,n,r)},e.prototype.getRangeValue=function(n,r){var a=this.getRangeAxisPosition({datum:n});return this.getValueThroughAxisPosition(a,n,r)},e.prototype.getMainXScaleType=function(){return this.getScaleTypeByPosition(this.getMainXAxisPosition())},e.prototype.getMainYScaleType=function(){return this.getScaleTypeByPosition(this.getMainYAxisPosition())},e.prototype.getDomainIdentifier=function(n){var r=this.model.getOptions();return _.getProperty(r,"axes",this.getDomainAxisPosition({datum:n}),"mapsTo")},e.prototype.getRangeIdentifier=function(n){var r=this.model.getOptions();return _.getProperty(r,"axes",this.getRangeAxisPosition({datum:n}),"mapsTo")},e.prototype.extendsDomain=function(n,r){var a=this.model.getOptions(),i=_.getProperty(a,"axes",n);if(i.scaleType===K.TIME){var o=_.getProperty(a,"timeScale","addSpaceOnEdges");return jC(r,o)}else return qC(r,He.paddingRatio,i.scaleType)},e.prototype.findVerticalAxesPositions=function(){var n=this.model.getOptions(),r=_.getProperty(n,"axes"),a=this.isDualAxes();return _.getProperty(r,$.LEFT)===null&&_.getProperty(r,$.RIGHT)!==null||_.getProperty(r,$.RIGHT,"main")===!0||a&&_.getProperty(r,$.LEFT,"correspondingDatasets")?{primary:$.RIGHT,secondary:$.LEFT}:{primary:$.LEFT,secondary:$.RIGHT}},e.prototype.findHorizontalAxesPositions=function(){var n=this.model.getOptions(),r=_.getProperty(n,"axes"),a=this.isDualAxes();return _.getProperty(r,$.BOTTOM)===null&&_.getProperty(r,$.TOP)!==null||_.getProperty(r,$.TOP,"main")===!0||a&&_.getProperty(r,$.BOTTOM,"correspondingDatasets")?{primary:$.TOP,secondary:$.BOTTOM}:{primary:$.BOTTOM,secondary:$.TOP}},e.prototype.findDomainAndRangeAxesPositions=function(n,r){var a=this.model.getOptions(),i=_.getProperty(a,"axes",n.primary),o=_.getProperty(a,"axes",r.primary),s=i.scaleType||K.LINEAR,l=o.scaleType||K.LINEAR,u={primaryDomainAxisPosition:null,secondaryDomainAxisPosition:null,primaryRangeAxisPosition:null,secondaryRangeAxisPosition:null};return u.primaryDomainAxisPosition=r.primary,u.primaryRangeAxisPosition=n.primary,u.secondaryDomainAxisPosition=r.secondary,u.secondaryRangeAxisPosition=n.secondary,(!(l===K.LABELS||l===K.TIME)&&s===K.LABELS||s===K.TIME)&&(u.primaryDomainAxisPosition=n.primary,u.primaryRangeAxisPosition=r.primary,u.secondaryDomainAxisPosition=n.secondary,u.secondaryRangeAxisPosition=r.secondary),u},e.prototype.getScaleDomain=function(n){var r=this.model.getOptions(),a=_.getProperty(r,"axes",n),i=_.getProperty(r,"bounds"),o=a.includeZero,s=_.getProperty(a,"scaleType")||K.LINEAR;if(this.model.isDataEmpty())return[];if(a.binned){var l=this.model.getBinConfigurations().bins;return[0,We(l,function(S){return S.length})]}else if(a.limitDomainToBins){var l=this.model.getBinConfigurations().bins,u=this.model.getStackKeys({bins:l});return[u[0].split("-")[0],u[u.length-1].split("-")[1]]}var c=this.model.getDisplayData(),h=a.extendLinearDomainBy,f=a.mapsTo,p=a.percentage,d=a.thresholds,g=He.ratio,m=g.reference,x=g.compareTo;if(a.domain)return s===K.LABELS?a.domain:(s===K.TIME&&(a.domain=a.domain.map(function(S){return S.getTime===void 0?new Date(S):S})),this.extendsDomain(n,a.domain));if(p)return[0,100];if(a&&s===K.LABELS)return _.removeArrayDuplicates(c.map(function(S){return S[f]}));var y,v,b=this.model.getDataGroupNames();if(s===K.LABELS_RATIO)return c.map(function(S){return S[m]+"/"+S[x]});if(s===K.TIME)v=c.map(function(S){return+new Date(S[f])});else if(i&&r.axes)v=[],c.forEach(function(S){v.push(S[f]),S[i.upperBoundMapsTo]&&v.push(S[i.upperBoundMapsTo]),S[i.lowerBoundMapsTo]&&v.push(S[i.lowerBoundMapsTo])});else if(a.stacked===!0&&b&&n===this.getRangeAxisPosition()){var O=r.data.groupMapsTo,T=this.model.getDataValuesGroupedByKeys({groups:b}),A=c.filter(function(S){return!b.includes(S[O])}),w=[];T.forEach(function(S){S.sharedStackKey;var P=$C(S,["sharedStackKey"]),M=0,k=0;Object.values(P).forEach(function(R){isNaN(R)||(R<0?k+=R:M+=R)}),w.push([k,M])}),v=zC(_.flatten(w),A.map(function(S){return S[f]}))}else v=[],c.forEach(function(S){var P=S[f];Array.isArray(P)&&P.length===2?(v.push(P[0]),v.push(P[1])):(h&&v.push(Math.max(S[f],S[h])),v.push(P))});return s!==K.TIME&&s!==K.LOG&&o&&v.push(0),d&&d.length>0&&d.forEach(function(S){var P=_.getProperty(S,"value");P!==null&&v.push(P)}),y=Le(v),y=this.extendsDomain(n,y),y},e.prototype.createScale=function(n){var r=this.model.getOptions(),a=_.getProperty(r,"axes",n);if(!a)return null;var i=_.getProperty(a,"scaleType")||K.LINEAR;this.scaleTypes[n]=i;var o;return i===K.TIME?o=kp():i===K.LOG?o=lp().base(a.base||10):i===K.LABELS||i===K.LABELS_RATIO?o=Xr():o=Ye(),o.domain(this.getScaleDomain(n)),o},e.prototype.getHighestDomainThreshold=function(){var n=_.getProperty(this.model.getOptions(),"axes"),r=this.getDomainAxisPosition(),a=n[r].thresholds;if(!a)return null;var i=this.getDomainScale(),o=a.sort(function(l,u){return u.value-l.value})[0],s=this.getScaleTypeByPosition(r);return s===K.TIME&&(typeof o.value=="string"||o.value.getTime===void 0)&&(o.value=new Date(o.value)),{threshold:o,scaleValue:i(o.value)}},e.prototype.getHighestRangeThreshold=function(){var n=_.getProperty(this.model.getOptions(),"axes"),r=this.getRangeAxisPosition(),a=n[r].thresholds;if(!a)return null;var i=this.getRangeScale(),o=a.sort(function(s,l){return l.value-s.value})[0];return{threshold:o,scaleValue:i(o.value)}},e}(Qe);function jC(t,e){var n=new Date(t[0]),r=new Date(t[1]);return PA(r,n)>1?[FC(n,e),gd(r,e)]:CA(r,n)>1?[GC(n,e),au(r,e)]:EA(r,n)>1?[UC(n,e),hd(r,e)]:MA(r,n)>1?[VC(n,e),pd(r,e)]:md(r,n)>30?[Sd(n,e*30),ru(r,e*30)]:md(r,n)>1?[Sd(n,e),ru(r,e)]:yd(r,n)>15?[Md(n,e*15),iu(r,e*15)]:yd(r,n)>1?[Md(n,e),iu(r,e)]:[n,r]}function qC(t,e,n){var r=t[0],a=t[1],i=a-r,o=i*e,s=a<=0&&a+o>0?0:a+o,l=r>=0&&r-o<0?0:r-o;if(n===K.LOG&&l<=0){if(r<=0)throw Error("Data must have values greater than 0 if log scale type is used.");l=r}return[l,s]}var YC=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),XC=function(t){YC(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.curveTypes={curveLinear:yi,curveLinearClosed:Yp,curveBasis:AM,curveBasisClosed:CM,curveBasisOpen:PM,curveBundle:DM,curveCardinal:LM,curveCardinalClosed:RM,curveCardinalOpen:kM,curveCatmullRom:IM,curveCatmullRomClosed:NM,curveCatmullRomOpen:BM,curveMonotoneX:UM,curveMonotoneY:VM,curveNatural:GM,curveStep:FM,curveStepAfter:$M,curveStepBefore:HM},n}return e.prototype.getD3Curve=function(){var n="curveLinear",r=this.model.getOptions().curve;if(r&&(typeof r=="string"?n=r:n=r.name),this.curveTypes[n]){var a=this.curveTypes[n];return r&&Object.keys(r).forEach(function(i){a[i]&&(a=a[i](r[i]))}),a}return console.warn("The curve type '"+n+"' is invalid, using 'curveLinear' instead"),this.curveTypes.curveLinear},e}(Qe),ZC=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),KC=function(t){ZC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.isZoomBarEnabled=function(){if(!this.services.cartesianScales||!_.getProperty(this.model.getOptions(),"zoomBar","top","enabled"))return!1;this.services.cartesianScales.findDomainAndRangeAxes();var n=this.services.cartesianScales.getMainXAxisPosition(),r=_.getProperty(this.model.getOptions(),"axes",n,"scaleType");return n===$.BOTTOM&&r===K.TIME},e.prototype.getZoomBarData=function(){var n=this.model.getZoomBarData();return n&&n.length>1?n:this.model.getDisplayData()},e.prototype.getDefaultZoomBarDomain=function(n){var r=n||this.services.zoom.getZoomBarData(),a=this.services.cartesianScales,i=a.getMainXAxisPosition(),o=a.getDomainIdentifier(),s=_.getProperty(this.model.getOptions(),"axes",i,"domain");return Array.isArray(s)&&s.length===2?s:a.extendsDomain(i,Le(r,function(l){return l[o]}))},e.prototype.handleDomainChange=function(n,r){r===void 0&&(r={dispatchEvent:!0}),this.model.set({zoomDomain:n},{animate:!1}),r.dispatchEvent&&this.services.events.dispatchEvent(E.ZoomDomain.CHANGE,{newDomain:n})},e.prototype.getZoomRatio=function(){return _.getProperty(this.model.getOptions(),"zoomBar","zoomRatio")},e.prototype.filterDataForRangeAxis=function(n,r){var a=this.model.get("zoomDomain"),i=Object.assign({stacked:!1},r),o=_.getProperty(this.model.getOptions(),"zoomBar","updateRangeAxis");if(this.isZoomBarEnabled()&&o&&a){var s=i.stacked?"sharedStackKey":this.services.cartesianScales.getDomainIdentifier(),l=n.filter(function(u){return new Date(u[s])>=a[0]&&new Date(u[s])<=a[1]});if(l.length>0)return l}return n},e.prototype.zoomIn=function(n){n===void 0&&(n=this.getZoomRatio());var r=this.model.get("zoomDomain"),a=ae.handleWidth,i=this.services.cartesianScales.getMainXScale().copy();i.domain(this.getDefaultZoomBarDomain());var o=i(r[0]),s=i(r[1]);if(!(s-o<a+1)){var l=i.range(),u=s-o,c=Math.min((l[1]-l[0])/2*(n/2),u/2),h=o+c,f=s-c;h>=f&&(h=o+u/2-a/2,f=s-u/2+a/2);var p=[i.invert(h),i.invert(f)];(r[0].valueOf()!==p[0].valueOf()||r[1].valueOf()!==p[1].valueOf())&&this.handleDomainChange(p)}},e.prototype.zoomOut=function(n){n===void 0&&(n=this.getZoomRatio());var r=this.model.get("zoomDomain"),a=this.services.cartesianScales.getMainXScale().copy();a.domain(this.getDefaultZoomBarDomain());var i=a(r[0]),o=a(r[1]),s=a.range(),l=(s[1]-s[0])/2*(n/2),u=Math.max(i-l,s[0]),c=Math.min(o+l,s[1]),h=[a.invert(u),a.invert(c)];(r[0].valueOf()!==h[0].valueOf()||r[1].valueOf()!==h[1].valueOf())&&this.handleDomainChange(h)},e.prototype.resetZoomDomain=function(){var n=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();(n[0].valueOf()!==r[0].valueOf()||n[1].valueOf()!==r[1].valueOf())&&this.handleDomainChange(r)},e.prototype.isMinZoomDomain=function(){var n=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();if(!n||!r)return!1;var a=n[1].valueOf()-n[0].valueOf(),i=r[1].valueOf()-r[0].valueOf(),o=_.getProperty(this.model.getOptions(),"zoomBar","minZoomRatio");return a/i<o},e.prototype.isMaxZoomDomain=function(){var n=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();return!!(n&&r&&n[0].valueOf()===r[0].valueOf()&&n[1].valueOf()===r[1].valueOf())},e.prototype.isEmptyState=function(){return this.getZoomBarData().length===0},e.prototype.isZoomBarLoading=function(n){return _.getProperty(this.model.getOptions(),"zoomBar",n,"loading")},e.prototype.isZoomBarLocked=function(n){return _.getProperty(this.model.getOptions(),"zoomBar",n,"locked")},e}(Qe),QC=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JC=function(t){QC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.zoomIn=function(n,r,a){var i,o,s,l=a||jn;n&&(i=n.x,o=n.y,s=2);var u=N.getSVGElementSize(this.services.domUtils.getHolder(),{useClientDimensions:!0}),c=u.width,h=u.height;r.transition().duration(l.duration).ease(l.ease).attr("transform","translate("+c/2+", "+h/2+") scale("+s+") translate("+-i+","+-o+")"),this.services.events.dispatchEvent(E.CanvasZoom.CANVAS_ZOOM_IN,{element:B(n)})},e.prototype.zoomOut=function(n,r){var a=r||jn;n.transition().duration(a.duration).ease(a.ease).attr("transform",""),this.services.events.dispatchEvent(E.CanvasZoom.CANVAS_ZOOM_OUT)},e}(Qe),ht=function(){function t(e,n,r){if(this.renderType=tt.HTML,this.configs={},this.model=e,this.services=n,r&&(this.configs=r,this.configs.id)){var a=_.getProperty(this.model.getOptions(),"style","prefix");this.id=a+"--"+this.configs.id}this.parent||this.setParent(B(this.services.domUtils.getMainContainer()))}return t.prototype.init=function(){},t.prototype.render=function(e){console.error("render() method is not implemented")},t.prototype.destroy=function(){},t.prototype.setModel=function(e){this.model=e},t.prototype.setServices=function(e){this.services=e},t.prototype.setParent=function(e){var n=this.parent;if(this.parent=e,!(n&&n.node()===e.node())&&this.type){var r=_.getProperty(this.model.getOptions(),"style","prefix");this.parent.classed(Gt.prefix+"--"+r+"--"+this.type,!0),n&&n.classed(Gt.prefix+"--"+r+"--"+this.type,!1)}},t.prototype.getParent=function(){return this.parent},t.prototype.getComponentContainer=function(e){if(e===void 0&&(e={withinChartClip:!1}),this.type){var n=_.getProperty(this.model.getOptions(),"style","prefix"),r=this.id?"#"+this.id:"",a=N.appendOrSelect(this.parent,""+(this.renderType===tt.SVG?"svg":"div")+r+"."+Gt.prefix+"--"+n+"--"+this.type);if(e.withinChartClip){var i=this.model.get("chartClipId");if(i){var o=B("#"+i),s=o.select("rect");s.size()!==0&&parseFloat(s.attr("height"))>0&&a.attr("clip-path","url(#"+i+")")}}return a.attr("width","100%").attr("height","100%")}return this.parent},t.prototype.getOptions=function(){if(this.configs.options){var e=_.merge({},this.model.getOptions(),this.configs.options);return e}return this.model.getOptions()},t}(),t2=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lu=function(t){t2(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="legend",n.renderType=tt.HTML,n}return e.prototype.render=function(){var n=this,r=this.getOptions(),a=_.getProperty(r,"legend"),i=_.getProperty(a,"alignment"),o=_.getProperty(r,"legend","orientation"),s=this.model.getDataGroups(),l=Ot.items.status.DISABLED,u=s.some(function(w){return w.status===l}),c=_.getProperty(a,"order"),h=this.getComponentContainer().classed("center-aligned",i===Ut.CENTER).classed("right-aligned",i===Ut.RIGHT).classed(o,!0).classed("has-deactivated-items",u).attr("role",ot.GROUP).attr("aria-label","Data groups").attr("data-name","legend-items");c&&(s=this.sortDataGroups(s,c));var f=h.selectAll("div.legend-item").data(s,function(w){return w.name}),p=f.enter().append("div").attr("class","legend-item");p.merge(h.selectAll("div.legend-item")).classed("active",function(w,S){return w.status===Ot.items.status.ACTIVE});var d=_.getProperty(this.getOptions(),"legend","clickable");h.classed("clickable",d&&s.length>1);var g=Ot.checkbox.radius,m=p.append("div").classed("checkbox",!0),x=m.merge(f.select("div.checkbox")).attr("role",ot.CHECKBOX).attr("tabindex",d?0:-1).attr("aria-labelledby",function(w,S){return n.services.domUtils.generateElementIDString("legend-datagroup-"+S+"-title")}).attr("aria-checked",function(w){var S=w.status;return S===Ot.items.status.ACTIVE}).attr("width",g*2).attr("height",g*2).attr("class",function(w,S){return n.model.getColorClassName({classNameTypes:[et.BACKGROUND],dataGroupName:w.name,originalClassName:"checkbox"})}).style("background",function(w){return w.status===Ot.items.status.ACTIVE?n.model.getFillColor(w.name)||n.model.getStrokeColor(w.name):null}).classed("active",function(w,S){return w.status===Ot.items.status.ACTIVE});m.append("svg").attr("focusable",!1).attr("preserveAspectRatio","xMidYMid meet").attr("xmlns","http://www.w3.org/2000/svg").attr("width","11").attr("height","11").attr("viewBox","0 0 31 28").attr("aria-hidden",!0).style("will-change","transform").append("path").attr("d","M13 21.2l-7.1-7.1-1.4 1.4 7.1 7.1L13 24 27.1 9.9l-1.4-1.5z"),p.append("p").merge(f.select("p"));var y=_.getProperty(r,"legend","additionalItems");if(y&&s.length){var v=this,b=h.selectAll("div.additional-item").data(y);b.exit().remove();var O=b.enter().append("div").merge(b).classed("legend-item",!0).classed("additional",!0).attr("aria-labelledby",function(w,S){return n.services.domUtils.generateElementIDString("legend-datagroup-"+(x.size()+S)+"-title")});O.selectAll("*").remove();var T,A=1;O.append("svg").classed("icon",!0).each(function(w,S){var P=B(this);!T||T!=w.type?(T=w.type,A=1):A++,v.addAdditionalItem(P,w,A)}),O.append("p").merge(O.select("p")),this.truncateLegendText()}f.exit().on("mouseover",null).on("click",null).on("mouseout",null).remove(),d&&p.size()>1&&this.addEventListeners()},e.prototype.sortDataGroups=function(n,r){if(n.sort(function(o,s){return r.indexOf(o.name)-r.indexOf(s.name)}),r.length<n.length){var a=n.length-r.length,i=n.slice(a);return i.concat(n.slice(0,a))}return n},e.prototype.addAdditionalItem=function(n,r,a){var i=Ot.area,o=i.width,s=i.height;if(r.type===Rt.RADIUS?n.style("width",s+"px").style("height",s+"px"):n.style("width",o+"px").style("height",s+"px"),r.type===Rt.RADIUS){var l=Ot.radius,u=l.iconData,c=l.fill,h=l.stroke,f=n.attr("fill","none").selectAll("circle").data(u).enter();f.append("circle").classed("radius",!0).attr("role",ot.IMG).attr("aria-label","radius").attr("cx",function(b){return b.cx}).attr("cy",function(b){return b.cy}).attr("r",function(b){return b.r}).style("fill",r.fill?r.fill:c).style("stroke",r.stroke?r.stroke:h)}else if(r.type===Rt.LINE){var p=Ot.line;n.select("line.line").empty()&&n.append("line").classed("line-"+a,!0).attr("role",ot.IMG).attr("aria-label","line").attr("x1",0).attr("y1",p.yPosition).attr("x2",o).attr("y2",p.yPosition).style("stroke",r.stroke?r.stroke:p.stroke).style("stroke-width",p.strokeWidth)}else if(r.type===Rt.AREA)n.select("rect.area").empty()&&n.append("rect").classed("area-"+a,!0).attr("role",ot.IMG).attr("aria-label","area").attr("width",o).attr("height",s).style("fill",a>3&&!r.fill?Ot.area.fill:r.fill).style("stroke",r.stroke);else if(r.type===Rt.SIZE){var d=Ot.size,u=d.iconData,c=d.fill,h=d.stroke,g=n.attr("fill","none").attr("role",ot.IMG).attr("aria-label","size").selectAll("rect").data(u).enter();g.append("rect").classed("size",!0).attr("width",function(A){return A.width}).attr("height",function(A){return A.height}).attr("y",function(A){return 0}).style("fill",r.fill?r.fill:c).style("stroke",r.stroke?r.stroke:h).style("stroke-width",1)}else if(r.type===Rt.QUARTILE){var u=Ot.quartile.iconData,m=n.selectAll("rect").attr("role",ot.IMG).attr("aria-label","quartile").data(u).enter();m.append("rect").attr("class",function(O,T){return"quartile-"+(T===0?"wrapper":"line")}).attr("x",function(O){return O.x}).attr("y",function(O){return O.y}).attr("width",function(O){return O.width}).attr("height",function(O){return O.height})}else if(r.type===Rt.ZOOM){var x=_.getProperty(Ah,"legend","zoom"),u=x.iconData,y=x.color,v=n.attr("role",ot.IMG).attr("aria-label","zoom").selectAll("g.icon").data(u).enter();v.append("g").attr("x",function(O){return O.x}).attr("y",function(O){return O.y}).attr("width",function(O){return O.width}).attr("height",function(O){return O.height}).append("polygon").attr("points","7.7 4.82 5.78 4.82 5.78 2.89 4.82 2.89 4.82 4.82 2.89 4.82 2.89 5.78 4.82 5.78 4.82 7.7 5.78 7.7 5.78 5.78 7.7 5.78 7.7 4.82").attr("fill",function(O){return r.color?r.color:y}),v.append("path").attr("d","M9.36,8.67A5.22,5.22,0,0,0,10.59,5.3,5.3,5.3,0,1,0,5.3,10.59,5.22,5.22,0,0,0,8.67,9.36L12.32,13l.68-.68Zm-4.06,1A4.34,4.34,0,1,1,9.63,5.3,4.33,4.33,0,0,1,5.3,9.63Z").attr("fill",function(O){return r.color?r.color:y})}},e.prototype.truncateLegendText=function(){var n=this.getComponentContainer(),r=_.getProperty(this.getOptions(),"legend","truncation"),a=_.getProperty(r,"type"),i=_.getProperty(r,"threshold"),o=_.getProperty(r,"numCharacter"),s=n.selectAll("div.legend-item p");s.attr("id",function(l,u){var c=this.parentNode.querySelector("div.checkbox")||this.parentNode;return c.getAttribute("aria-labelledby")}),a!==Fe.NONE?s.html(function(l){return l.name.length>i?_.truncateLabel(l.name,a,o):l.name}):s.html(function(l){return l.name})},e.prototype.addEventListeners=function(){var n=this,r=this.getComponentContainer(),a=this.getOptions(),i=_.getProperty(a,"legend"),o=_.getProperty(i,"truncation","threshold");r.selectAll("div.legend-item").on("mouseover",function(s){n.services.events.dispatchEvent(E.Legend.ITEM_HOVER,{hoveredElement:B(this)});var l=B(this);l.select("div.checkbox").classed("hovered",!0);var u=l.datum();u.name.length>o&&n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:s,hoveredElement:l,content:u.name})}).on("mousemove",function(s){n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:s})}).on("click",function(){n.services.events.dispatchEvent(E.Legend.ITEM_CLICK,{clickedElement:B(this)});var s=B(this),l=s.datum();n.model.toggleDataLabel(l.name)}).on("mouseout",function(){var s=B(this);s.select("div.checkbox").classed("hovered",!1),n.services.events.dispatchEvent(E.Tooltip.HIDE),n.services.events.dispatchEvent(E.Legend.ITEM_MOUSEOUT,{hoveredElement:s})}),r.selectAll("div.legend-item div.checkbox").on("keyup",function(s){s.key&&s.key==="Tab"&&n.services.events.dispatchEvent(E.Legend.ITEM_HOVER,{hoveredElement:B(this)})}),r.selectAll("div.legend-item div.checkbox").on("keydown",function(s,l){s.key&&s.key===" "?(s.preventDefault(),n.model.toggleDataLabel(l.name)):s.key&&s.key==="Tab"&&n.services.events.dispatchEvent(E.Legend.ITEM_MOUSEOUT,{hoveredElement:B(this)})}),r.selectAll("g.additional-item").on("mouseover",function(s){var l=B(this),u=l.datum();u.name.length>o&&n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:s,hoveredElement:l,content:u.name})})},e}(ht);function e2(t){return t}var Ri=1,ki=2,uu=3,pa=4,Ad=1e-6;function n2(t){return"translate("+t+",0)"}function r2(t){return"translate(0,"+t+")"}function a2(t){return e=>+t(e)}function i2(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function o2(){return!this.__axis}function Ii(t,e){var n=[],r=null,a=null,i=6,o=6,s=3,l=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,u=t===Ri||t===pa?-1:1,c=t===pa||t===ki?"x":"y",h=t===Ri||t===uu?n2:r2;function f(p){var d=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,g=a==null?e.tickFormat?e.tickFormat.apply(e,n):e2:a,m=Math.max(i,0)+s,x=e.range(),y=+x[0]+l,v=+x[x.length-1]+l,b=(e.bandwidth?i2:a2)(e.copy(),l),O=p.selection?p.selection():p,T=O.selectAll(".domain").data([null]),A=O.selectAll(".tick").data(d,e).order(),w=A.exit(),S=A.enter().append("g").attr("class","tick"),P=A.select("line"),M=A.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(S),P=P.merge(S.append("line").attr("stroke","currentColor").attr(c+"2",u*i)),M=M.merge(S.append("text").attr("fill","currentColor").attr(c,u*m).attr("dy",t===Ri?"0em":t===uu?"0.71em":"0.32em")),p!==O&&(T=T.transition(p),A=A.transition(p),P=P.transition(p),M=M.transition(p),w=w.transition(p).attr("opacity",Ad).attr("transform",function(k){return isFinite(k=b(k))?h(k+l):this.getAttribute("transform")}),S.attr("opacity",Ad).attr("transform",function(k){var R=this.parentNode.__axis;return h((R&&isFinite(R=R(k))?R:b(k))+l)})),w.remove(),T.attr("d",t===pa||t===ki?o?"M"+u*o+","+y+"H"+l+"V"+v+"H"+u*o:"M"+l+","+y+"V"+v:o?"M"+y+","+u*o+"V"+l+"H"+v+"V"+u*o:"M"+y+","+l+"H"+v),A.attr("opacity",1).attr("transform",function(k){return h(b(k)+l)}),P.attr(c+"2",u*i),M.attr(c,u*m).text(g),O.filter(o2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ki?"start":t===pa?"end":"middle"),O.each(function(){this.__axis=b})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(a=p,f):a},f.tickSize=function(p){return arguments.length?(i=o=+p,f):i},f.tickSizeInner=function(p){return arguments.length?(i=+p,f):i},f.tickSizeOuter=function(p){return arguments.length?(o=+p,f):o},f.tickPadding=function(p){return arguments.length?(s=+p,f):s},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function s2(t){return Ii(Ri,t)}function l2(t){return Ii(ki,t)}function Ni(t){return Ii(uu,t)}function Cd(t){return Ii(pa,t)}var u2=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),c2=function(t){u2(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="color-legend",n.renderType=tt.SVG,n.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),n.handleAxisComplete=function(r){var a=n.getComponentContainer(),i=N.getSVGElementSize(a,{useAttrs:!0}).width,o=_.getProperty(n.getOptions(),"data","loading");if(i>Ot.color.barWidth&&!o){var s=_.getProperty(n.getOptions(),"heatmap","colorLegend","title"),l=n.services.cartesianScales,u=l.getMainXScale(),c=u.range();if(c[0]>1&&(a.select("g.legend").attr("transform","translate("+c[0]+", 0)"),s)){var h=N.getSVGElementSize(a.select("g.legend-title").select("text"),{useBBox:!0}).width,f=c[0]-h-9;f>1?a.select("g.legend-title").attr("transform","translate("+f+", 0)"):(a.select("g.legend").attr("transform","translate("+c[0]+", 16)"),a.select("g.legend-title").attr("transform","translate("+c[0]+", 0)"))}}},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Axis.RENDER_COMPLETE,this.handleAxisComplete)},e.prototype.render=function(n){var r=this.getOptions(),a=_.getProperty(r,"color","gradient","colors"),i=_.getProperty(r,"heatmap","colorLegend","type"),o=_.getProperty(r,"color","pairing","option"),s=_.getProperty(r,"heatmap","colorLegend","title"),l=!_.isEmpty(a),u=this.model.getValueDomain(),c=this.getComponentContainer(),h=_.getProperty(this.getOptions(),"data","loading");if(h){c.html("");return}var f=N.appendOrSelect(c,"g.legend"),p=N.appendOrSelect(f,"g.legend-axis"),d=N.getSVGElementSize(c,{useAttrs:!0}).width,g=Ot.color.barWidth;if(d<=Ot.color.barWidth&&(g=d),s){var m=N.appendOrSelect(c,"g.legend-title"),x=N.appendOrSelect(m,"text");x.text(s).attr("dy","0.7em"),f.attr("transform","translate(0, 16)")}var y=u[0]<0&&u[1]>0?"diverge":"mono";(o<1&&o>4&&y==="mono"||o<1&&o>2&&y==="diverge")&&(o=1);var v=[],b=y==="diverge"?17:11;if(l)v=a;else for(var O=1;O<b+1;O++)v.push(i===Dr.LINEAR?"stop-color-"+y+"-"+o+"-"+O:"fill-"+y+"-"+o+"-"+O);if(i===Dr.LINEAR){var T=100/(v.length-1),A=N.appendOrSelect(f,"linearGradient");A.attr("id",this.gradient_id+"-legend").selectAll("stop").data(v).enter().append("stop").attr("offset",function(V,C){return C*T+"%"}).attr("class",function(V,C){return v[C]}).attr("stop-color",function(V){return V});var w=N.appendOrSelect(f,"rect");w.attr("width",g).attr("height",Ot.color.barHeight).style("fill","url(#"+this.gradient_id+"-legend)");var S=Ye().domain(u).range([0,g]);u.splice(1,0,(u[0]+u[1])/2);var P=Ni(S).tickSize(0).tickValues(u);p.attr("transform","translate(0,"+Ot.color.axisYTranslation+")").call(P),p.select(".domain").remove(),p.style("text-anchor","start")}else if(i===Dr.QUANTIZE){var M=xl(u[0],u[1]),k=bE(M,v.length);!l&&y==="diverge"&&v.splice(v.length/2,1);var R=Xr().domain(v).range([0,g]),w=N.appendOrSelect(f,"g.quantized-rect");w.selectAll("rect").data(R.domain()).join("rect").attr("x",function(G){return R(G)}).attr("y",0).attr("width",Math.max(0,R.bandwidth())-1).attr("height",Ot.color.barHeight).attr("class",function(G){return G}).attr("fill",function(G){return G});var P=Ni(R).tickSize(0).tickValues(v).tickFormat(function(G,H){return!l&&((H+1)%2==0||H===v.length-1)?null:k[H].toString()}),U=R.bandwidth()/2;p.attr("transform","translate("+(!l&&y==="diverge"?"-":"")+U+", "+Ot.color.axisYTranslation+")").call(P);var D=p.select("g.tick").clone(!0);D.attr("transform","translate("+(g+(!l&&y==="diverge"?U:-U))+", 0)").classed("final-tick",!0).select("text").text(k[k.length-1]),p.enter().append(D.node()),p.select(".domain").remove()}else throw Error("Entered color legend type is not supported.");if(d<=Ot.color.barWidth){var L=p.select("g.tick:last-of-type text"),I=N.getSVGElementSize(L,{useBBox:!0}).width;L.attr("x","-"+I)}},e.prototype.destroy=function(){var n=this.services.events;n.removeEventListener(E.Axis.RENDER_COMPLETE,this.handleAxisComplete)},e}(lu);function f2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h2(t){return g2(t)||v2(t)||d2(t)||p2()}function p2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2(t,e){if(!!t){if(typeof t=="string")return cu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cu(t,e)}}function v2(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g2(t){if(Array.isArray(t))return cu(t)}function cu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pd(t){return t.reduce(function(e,n){return Array.isArray(n)?e.push.apply(e,h2(Pd(n))):e.push(n),e},[])}function m2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Pd(e).reduce(function(r,a){return a(r)},function(){function r(){f2(this,r)}return r}())}function Bi(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bi=function(n){return typeof n}:Bi=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bi(t)}function y2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _2(t,e,n){return e&&Dd(t.prototype,e),n&&Dd(t,n),t}function x2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fu(t,e)}function fu(t,e){return fu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},fu(t,e)}function b2(t){var e=T2();return function(){var r=Ui(t),a;if(e){var i=Ui(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return O2(this,a)}}function O2(t,e){return e&&(Bi(e)==="object"||typeof e=="function")?e:Ld(t)}function Ld(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ui(t){return Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ui(t)}function w2(t){var e=function(n){x2(a,n);var r=b2(a);function a(i){var o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(y2(this,a),o=r.call(this,i,s),o.children=[],!i||i.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return o.element=i,o.options=Object.assign(Object.create(o.constructor.options),s),o.constructor.components.set(o.element,Ld(o)),o}return _2(a,[{key:"release",value:function(){for(var o=this.children.pop();o;o=this.children.pop())o.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(o,s){return this.components.get(o)||new this(o,s)}}]),a}(t);return e}function Vi(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vi=function(n){return typeof n}:Vi=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vi(t)}function E2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S2(t,e,n){return e&&Rd(t.prototype,e),n&&Rd(t,n),t}function Gi(t,e,n){return typeof Reflect!="undefined"&&Reflect.get?Gi=Reflect.get:Gi=function(a,i,o){var s=M2(a,i);if(!!s){var l=Object.getOwnPropertyDescriptor(s,i);return l.get?l.get.call(o):l.value}},Gi(t,e,n||t)}function M2(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=cr(t),t!==null););return t}function A2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hu(t,e)}function hu(t,e){return hu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},hu(t,e)}function C2(t){var e=L2();return function(){var r=cr(t),a;if(e){var i=cr(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return P2(this,a)}}function P2(t,e){return e&&(Vi(e)==="object"||typeof e=="function")?e:D2(t)}function D2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cr(t){return cr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},cr(t)}function R2(t){var e=function(n){A2(a,n);var r=C2(a);function a(){var i;E2(this,a);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return i=r.call.apply(r,[this].concat(s)),i.handles=new Set,i}return S2(a,[{key:"manage",value:function(o){return this.handles.add(o),o}},{key:"unmanage",value:function(o){return this.handles.delete(o),o}},{key:"release",value:function(){var o=this;return this.handles.forEach(function(s){s.release(),o.handles.delete(s)}),Gi(cr(a.prototype),"release",this).call(this)}}]),a}(t);return e}function da(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.addEventListener.apply(t,n),{release:function(){return t.removeEventListener.apply(t,n),null}}}function Fi(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fi=function(n){return typeof n}:Fi=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fi(t)}function k2(t){return U2(t)||B2(t)||N2(t)||I2()}function I2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N2(t,e){if(!!t){if(typeof t=="string")return pu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pu(t,e)}}function B2(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U2(t){if(Array.isArray(t))return pu(t)}function pu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G2(t,e,n){return e&&kd(t.prototype,e),n&&kd(t,n),t}function F2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&du(t,e)}function du(t,e){return du=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},du(t,e)}function H2(t){var e=W2();return function(){var r=Hi(t),a;if(e){var i=Hi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return $2(this,a)}}function $2(t,e){return e&&(Fi(e)==="object"||typeof e=="function")?e:z2(t)}function z2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hi(t){return Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Hi(t)}function j2(t){var e=function(n){F2(a,n);var r=H2(a);function a(){return V2(this,a),r.apply(this,arguments)}return G2(a,[{key:"_changeState",value:function(){throw new Error("_changeState() should be overriden to perform actual change in state.")}},{key:"changeState",value:function(){for(var o=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=typeof l[0]=="string"?l.shift():void 0,h=Object(l[0])===l[0]&&typeof l[0]!="function"?l.shift():void 0,f=typeof l[0]=="function"?l.shift():void 0;if(typeof this.shouldStateBeChanged=="function"&&!this.shouldStateBeChanged(c,h)){f&&f(null,!0);return}var p={group:h&&h.group,state:c},d=[p.group,c].filter(Boolean).join("-").split("-").map(function(b){return b[0].toUpperCase()+b.substr(1)}).join(""),g=new CustomEvent(this.options["eventBefore".concat(d)],{bubbles:!0,cancelable:!0,detail:h}),m=h&&h.delegatorNode||this.element,x=!m.dispatchEvent(g);if(x){if(f){var y=new Error("Changing state (".concat(JSON.stringify(p),") has been canceled."));y.canceled=!0,f(y)}}else{var v=[c,h].filter(Boolean);this._changeState.apply(this,k2(v).concat([function(){m.dispatchEvent(new CustomEvent(o.options["eventAfter".concat(d)],{bubbles:!0,cancelable:!0,detail:h})),f&&f()}]))}}}]),a}(t);return e}function vu(t,e){var n=t.target,r=t.currentTarget;if(typeof n.matches=="function"){if(n.matches(e))return n;if(n.matches("".concat(e," *"))){var a=n.closest(e);if((r.nodeType===Node.DOCUMENT_NODE?r.documentElement:r).contains(a))return a}}}function Id(t){if(!t||typeof t=="function")return{launchingElement:null,launchingEvent:null};var e=t.delegateTarget||t.currentTarget||t,n=t.currentTarget&&t;if(e&&!e.nodeType)throw new TypeError("DOM Node should be given for launching element.");if(n&&!n.type)throw new TypeError("DOM event should be given for launching event.");return{launchingElement:e,launchingEvent:n}}function $i(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$i=function(n){return typeof n}:$i=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$i(t)}function q2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y2(t,e,n){return e&&Nd(t.prototype,e),n&&Nd(t,n),t}function X2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gu(t,e)}function gu(t,e){return gu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},gu(t,e)}function Z2(t){var e=J2();return function(){var r=zi(t),a;if(e){var i=zi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return K2(this,a)}}function K2(t,e){return e&&($i(e)==="object"||typeof e=="function")?e:Q2(t)}function Q2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zi(t){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},zi(t)}function tP(t){var e=function(n){X2(a,n);var r=Z2(a);function a(){return q2(this,a),r.apply(this,arguments)}return Y2(a,[{key:"show",value:function(o,s){(!o||typeof o=="function")&&(s=o),this.changeState("shown",Id(o),s)}},{key:"hide",value:function(o,s){(!o||typeof o=="function")&&(s=o),this.changeState("hidden",Id(o),s)}}]),a}(t);return e}var eP=[j2,tP],nP=eP;function Wi(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wi=function(n){return typeof n}:Wi=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wi(t)}function rP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aP(t,e,n){return e&&Bd(t.prototype,e),n&&Bd(t,n),t}function iP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mu(t,e)}function mu(t,e){return mu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},mu(t,e)}function oP(t){var e=uP();return function(){var r=ji(t),a;if(e){var i=ji(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return sP(this,a)}}function sP(t,e){return e&&(Wi(e)==="object"||typeof e=="function")?e:lP(t)}function lP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ji(t){return ji=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ji(t)}function cP(t){var e=function(n){iP(a,n);var r=oP(a);function a(){return rP(this,a),r.apply(this,arguments)}return aP(a,null,[{key:"init",value:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=Object.assign(Object.create(this.options),l);if(!s||s.nodeType!==Node.ELEMENT_NODE&&s.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");if(s.nodeType===Node.ELEMENT_NODE&&s.matches(u.selectorInit))this.create(s,l);else{var c=u.initEventNames.map(function(h){return da(s,h,function(f){var p=vu(f,"[".concat(u.attribInitTarget,"]"));if(p){f.delegateTarget=p;var d=p.ownerDocument.querySelectorAll(p.getAttribute(u.attribInitTarget));if(d.length>1)throw new Error("Target widget must be unique.");if(d.length===1){p.tagName==="A"&&f.preventDefault();var g=o.create(d[0],l);typeof g.createdByLauncher=="function"&&g.createdByLauncher(f)}}})});return{release:function(){for(var f=c.pop();f;f=c.pop())f.release()}}}return""}}]),a.forLazyInit=!0,a}(t);return e}function qi(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qi=function(n){return typeof n}:qi=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qi(t)}function fP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hP(t,e,n){return e&&Ud(t.prototype,e),n&&Ud(t,n),t}function pP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yu(t,e)}function yu(t,e){return yu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},yu(t,e)}function dP(t){var e=mP();return function(){var r=Yi(t),a;if(e){var i=Yi(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return vP(this,a)}}function vP(t,e){return e&&(qi(e)==="object"||typeof e=="function")?e:gP(t)}function gP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Yi(t)}var yP=function(t){pP(n,t);var e=dP(n);function n(r,a){var i;return fP(this,n),i=e.call(this,r,a),i._handleFocusinListener=void 0,i._handleKeydownListener=void 0,i._handleFocusin=function(o){var s=i.element.querySelector(i.options.selectorModalContainer)||i.element;i.element.classList.contains(i.options.classVisible)&&!s.contains(o.target)&&i.options.selectorsFloatingMenus.every(function(l){return!vu(o,l)})&&i.element.querySelector(Gt.selectorTabbable).focus()},i._hookCloseActions(),i}return hP(n,[{key:"createdByLauncher",value:function(a){this.show(a)}},{key:"shouldStateBeChanged",value:function(a){return a==="shown"?!this.element.classList.contains(this.options.classVisible):this.element.classList.contains(this.options.classVisible)}},{key:"_changeState",value:function(a,i,o){var s=this,l,u=function(){if(l&&(l=s.unmanage(l).release()),a==="shown"&&s.element.offsetWidth>0&&s.element.offsetHeight>0){s.previouslyFocusedNode=s.element.ownerDocument.activeElement;var p=s.element.querySelector(s.options.selectorPrimaryFocus)||s.element.querySelector(Gt.selectorTabbable);p.focus()}o()};if(this._handleFocusinListener&&(this._handleFocusinListener=this.unmanage(this._handleFocusinListener).release()),a==="shown"){var c="onfocusin"in this.element.ownerDocument.defaultView,h=c?"focusin":"focus";this._handleFocusinListener=this.manage(da(this.element.ownerDocument,h,this._handleFocusin,!c))}a==="hidden"?(this.element.classList.toggle(this.options.classVisible,!1),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!1),(this.options.selectorFocusOnClose||this.previouslyFocusedNode)&&(this.element.ownerDocument.querySelector(this.options.selectorFocusOnClose)||this.previouslyFocusedNode).focus()):a==="shown"&&(this.element.classList.toggle(this.options.classVisible,!0),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!0)),l=this.manage(da(this.element,"transitionend",u))}},{key:"_hookCloseActions",value:function(){var a=this;this.manage(da(this.element,"click",function(i){var o=vu(i,a.options.selectorModalClose);o&&(i.delegateTarget=o),(o||i.target===a.element)&&a.hide(i)})),this._handleKeydownListener&&(this._handleKeydownListener=this.unmanage(this._handleKeydownListener).release()),this._handleKeydownListener=this.manage(da(this.element.ownerDocument.body,"keydown",function(i){i.which===27&&a.shouldStateBeChanged("hidden")&&(i.stopPropagation(),a.hide(i))}))}}],[{key:"options",get:function(){var a=Gt.prefix;return{selectorInit:"[data-modal]",selectorModalClose:"[data-modal-close]",selectorPrimaryFocus:"[data-modal-primary-focus]",selectorsFloatingMenus:[".".concat(a,"--overflow-menu-options"),".".concat(a,"--tooltip"),".flatpickr-calendar"],selectorModalContainer:".".concat(a,"--modal-container"),classVisible:"is-visible",classBody:"".concat(a,"--body--with-modal-open"),attribInitTarget:"data-modal-target",initEventNames:["click"],eventBeforeShown:"modal-beingshown",eventAfterShown:"modal-shown",eventBeforeHidden:"modal-beinghidden",eventAfterHidden:"modal-hidden"}}}]),n.components=new WeakMap,n}(m2(w2,cP,nP,R2)),_P=yP,xP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_u=function(t){xP(e,t);function e(n,r,a){var i=t.call(this,n,r,a)||this;return i.type="modal",i.isEventListenerAdded=!1,i.handleShowModal=function(){i.modal.html(i.getModalHTML()),i.modal.select("div.bx--modal-footer button.bx--btn").on("click",function(){return i.model.exportToCSV()});var o=_P.create(i.modal.node());o.show()},i.init(),i}return e.prototype.addEventListeners=function(){this.services.events.addEventListener(E.Modal.SHOW,this.handleShowModal)},e.prototype.removeEventListeners=function(){this.services.events.removeEventListener(E.Modal.SHOW,this.handleShowModal)},e.prototype.getModalHTML=function(){var n=this.model.getOptions(),r=_.getProperty(n,"style","prefix"),a=this.model.getTabularDataArray();return`
		<div class="bx--modal-container">
			<div class="bx--modal-header">
				<p class="bx--modal-header__label bx--type-delta" id="modal-title">Tabular representation</p>
				<p class="bx--modal-header__heading bx--type-beta" id="modal-description">`+n.title+`</p>
				<button class="bx--modal-close" type="button" data-modal-close aria-label="close modal"  data-modal-primary-focus>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="Close" width="20" height="20" viewBox="0 0 32 32" role="img" class="bx--modal-close__icon">
						<path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
					</svg>
				</button>
			</div>
			<div class="bx--modal-content"><table class="bx--data-table bx--data-table--no-border">
					<thead>
						<tr>
							`+xt(a,0).map(function(i){return`<th scope="col">
								<div class="bx--table-header-label">`+i+`</div>
							</th>`}).join("")+`
						</tr>
					</thead>
					<tbody>`+a.slice(1).map(function(i){return`
							<tr>
								`+i.map(function(o){return"<td>"+o+"</td>"}).join("")+`
							</tr>`}).join("")+`
					</tbody>
				</table>
			</div>
			<div class="bx--modal-footer">
			  <div class="`+Gt.prefix+"--"+r+`-modal-footer-spacer"></div>
			  <button class="bx--btn bx--btn--primary" type="button" data-modal-primary-focus>Download as CSV</button>
			</div>
		</div>`},e.prototype.render=function(){var n=this.model.getOptions();if(!this.isEventListenerAdded){var r=B(this.services.domUtils.getHolder()),a=_.getProperty(n,"style","prefix");this.modal=N.appendOrSelect(r,"div."+Gt.prefix+"--"+a+"--modal"),this.addEventListeners(),this.isEventListenerAdded=!0,this.modal.attr("data-modal",!0).attr("class","bx--modal").attr("role","dialog").attr("aria-modal",!0).attr("aria-labelledby","modal-title").attr("aria-describedby","modal-description").attr("tabindex",-1)}},e.prototype.destroy=function(){this.removeEventListeners(),this.isEventListenerAdded=!1},e}(ht),fr,Ft;(function(t){t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom"})(Ft||(Ft={}));var Vd=(fr={},fr[Ft.LEFT]=function(t,e,n){return{top:t.top-Math.round(e.offsetHeight/2)+Math.round(n.height/2),left:Math.round(t.left-e.offsetWidth)}},fr[Ft.RIGHT]=function(t,e,n){return{top:t.top-Math.round(e.offsetHeight/2)+Math.round(n.height/2),left:Math.round(t.left+n.width)}},fr[Ft.TOP]=function(t,e,n){return{top:Math.round(t.top-e.offsetHeight),left:t.left-Math.round(e.offsetWidth/2)+Math.round(n.width/2)}},fr[Ft.BOTTOM]=function(t,e,n){return{top:Math.round(t.top+n.height),left:t.left-Math.round(e.offsetWidth/2)+Math.round(n.width/2)}},fr),Xi=typeof window!="undefined"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},Zi=function(){function t(e){e===void 0&&(e={}),this.positions=Vd,this.positions=Object.assign({},Vd,e)}return t.prototype.getRelativeOffset=function(e){for(var n={left:e.offsetLeft,top:e.offsetTop};e.offsetParent&&getComputedStyle(e.offsetParent).position==="static";)n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent;return n},t.prototype.getAbsoluteOffset=function(e){for(var n=e,r={top:0,left:0};n.offsetParent;){var a=getComputedStyle(n.offsetParent);a.position==="static"&&a.marginLeft&&a.marginTop&&(parseInt(a.marginTop,10)&&(r.top+=parseInt(a.marginTop,10)),parseInt(a.marginLeft,10)&&(r.left+=parseInt(a.marginLeft,10))),n=n.offsetParent}var i=e.getBoundingClientRect(),o=document.body.getBoundingClientRect();return{top:i.top-o.top+r.top,left:i.left-o.left+r.left}},t.prototype.findRelative=function(e,n,r){var a=this.getRelativeOffset(e),i=e.getBoundingClientRect();return this.calculatePosition(a,i,n,r)},t.prototype.findAbsolute=function(e,n,r){var a=this.getAbsoluteOffset(e),i=e.getBoundingClientRect();return this.calculatePosition(a,i,n,r)},t.prototype.findPosition=function(e,n,r,a){a===void 0&&(a=this.getAbsoluteOffset);var i=a(e),o=e.getBoundingClientRect();return this.calculatePosition(i,o,n,r)},t.prototype.findPositionAt=function(e,n,r){return this.calculatePosition(e,{height:0,width:0},n,r)},t.prototype.getPlacementBox=function(e,n){var r=e.offsetHeight+n.top,a=e.offsetWidth+n.left;return{top:n.top,bottom:r,left:n.left,right:a}},t.prototype.addOffset=function(e,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),Object.assign({},e,{top:e.top+n,left:e.left+r})},t.prototype.setElement=function(e,n){e.style.top=n.top+"px",e.style.left=n.left+"px"},t.prototype.findBestPlacement=function(e,n,r,a,i){var o=this;a===void 0&&(a=this.defaultContainerFunction),i===void 0&&(i=this.findPosition);var s=r.map(function(l){var u=i(e,n,l),c=o.getPlacementBox(n,u),h=c.bottom-a().height,f=c.right-a().width;h=h<0?n.offsetHeight:h,f=f<0?n.offsetWidth:f;var p=n.offsetHeight*n.offsetWidth,d=h*f,g=p-d;g=g===0?p:g;var m=g/p;return{placement:l,weight:m}});return s.sort(function(l,u){return u.weight-l.weight}),s[0].placement},t.prototype.findBestPlacementAt=function(e,n,r,a){var i=this;a===void 0&&(a=this.defaultContainerFunction);var o=function(s,l,u){return i.findPositionAt(e,l,u)};return this.findBestPlacement(null,n,r,a,o)},t.prototype.defaultContainerFunction=function(){return{width:Xi.innerHeight-Xi.scrollY,height:Xi.innerWidth-Xi.scrollX}},t.prototype.calculatePosition=function(e,n,r,a){return this.positions[a]?this.positions[a](e,r,n):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},t}();new Zi;var xu=[["15seconds",15*1e3],["minute",60*1e3],["30minutes",30*60*1e3],["hourly",60*60*1e3],["daily",24*60*60*1e3],["monthly",30*24*60*60*1e3],["quarterly",3*30*24*60*60*1e3],["yearly",12*30*24*60*60*1e3]];function Gd(t,e,n,r,a){var i=e===0,o=Number(ha(new Date(t),"c"))===2,s=Number(ha(new Date(t),"q"))===1,l=e!==0?n[e-1]:null;switch(r){case"15seconds":return i||Qi(t)||va(t,l)||Ln(t);case"minute":return i||Qi(t)||va(t,l)||Ln(t);case"30minutes":return i||Qi(t)||va(t,l)||Ln(t);case"hourly":return i||Qi(t)||va(t,l)||Ln(t);case"daily":return a?i||o||Ln(t):i||va(t,l)||Ln(t);case"monthly":return i||Ln(t);case"quarterly":return i||s;case"yearly":return!1;default:throw new Error(r+" is not a valid time interval.")}}function bu(t,e,n,r,a){var i=a.showDayName,o=r==="daily"&&i?"weekly":r,s=new Date(t),l=_.getProperty(a,"timeIntervalFormats")[o],u=_.getProperty(l,"primary"),c=_.getProperty(l,"secondary"),h=Gd(t,e,n,r,i)?u:c,f=a.localeObject;return ha(s,h,{locale:f})}function Ki(t){var e=new Date(t);return{M:e.getMonth()+1,d:e.getDate(),H:e.getHours(),m:e.getMinutes(),s:e.getSeconds()}}function bP(t){if(!!t)return t.slice(1).map(function(e,n){return e-t[n]})}function OP(t){var e=xu.reduce(function(n,r,a){r[0];var i=r[1],o=xu[n][1],s=Math.abs(o-t),l=Math.abs(i-t);return s<l?n:a},0);return xu[e][0]}function Ou(t){if(t.length===1)return"15seconds";var e=bP(t),n=je(e);return OP(n)}function Qi(t){var e=Ki(t),n=e.s,r=e.m,a=e.H;return a===0&&r===0&&n===0}function va(t,e){var n=Ki(t).M,r=Ki(e).M;return n!==r}function Ln(t){var e=Ki(t),n=e.M,r=e.d,a=e.s,i=e.m,o=e.H;return n===1&&r===1&&o===0&&i===0&&a===0}var TP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wP=function(t){TP(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.type="threshold",a.renderType=tt.SVG,a.positionService=new Zi,a}return e.prototype.render=function(n){var r=this;n===void 0&&(n=!1);var a=_.getProperty(this.getOptions(),"axes"),i=[];Object.keys(a).forEach(function(d){var g,m;if(Object.values($).includes(d)){var x=a[d];x.thresholds&&x.thresholds.length>0&&i.push({axisPosition:d,thresholds:x.thresholds,correspondingDatasets:(g=x)===null||g===void 0?void 0:g.correspondingDatasets,mapsTo:(m=x)===null||m===void 0?void 0:m.mapsTo})}});var o=this.getComponentContainer({withinChartClip:!0}),s=o.selectAll("g.axis-thresholds").data(i,function(d){return d.axisPosition});s.exit().attr("opacity",0).remove();var l=s.enter().append("g"),u=l.merge(s);u.attr("class",function(d){return"axis-thresholds "+d.axisPosition});var c=u.selectAll("g.threshold-group").data(function(d){return d.thresholds.map(function(g){return g.axisPosition=d.axisPosition,g.datum=r.constructDatumObj(d,g),g})});c.exit().attr("opacity",0).remove();var h=c.enter().append("g");h.append("line").attr("class","threshold-line"),h.append("rect").attr("class","threshold-hoverable-area");var f=h.merge(c);f.attr("class","threshold-group");var p=this;u.each(function(d){var g=d.axisPosition,m=p.services.cartesianScales.getScaleByPosition(g),x=p.services.cartesianScales.getScaleTypeByPosition(g),y=null,v=null;g===$.LEFT||g===$.RIGHT?(v=m,y=p.services.cartesianScales.getMainXScale()):(y=m,v=p.services.cartesianScales.getMainYScale());var b=x===K.LABELS,O=y.range(),T=O[0],A=O[1],w=v.range(),S=w[0],P=w[1],M=p.services.cartesianScales,k=M.getOrientation(),R=function(C){return M.getDomainValue(C)},U=function(C){return M.getRangeValue(C)},D=_.flipDomainAndRangeBasedOnOrientation(R,U,k),L=D[0],I=D[1],V=B(this);g===$.TOP||g===$.BOTTOM?(V.selectAll("line.threshold-line").transition().call(function(C){return p.services.transitions.setupTransition({transition:C,name:"threshold-line-update",animate:n})}).attr("y1",P).attr("y2",S).attr("x1",function(C){var G=C.datum;return L(G)+(b?m.step()/2:0)}).attr("x2",function(C){var G=C.datum;return L(G)+(b?m.step()/2:0)}).style("stroke",function(C){var G=C.fillColor;return G}),V.selectAll("rect.threshold-hoverable-area").attr("x",0).attr("y",function(C){var G=C.datum;return-L(G)}).attr("width",Math.abs(S-P)).classed("rotate",!0)):(V.selectAll("line.threshold-line").transition().call(function(C){return p.services.transitions.setupTransition({transition:C,name:"threshold-line-update",animate:n})}).attr("x1",T).attr("x2",A).attr("y1",function(C){var G=C.datum;return I(G)+(b?m.step()/2:0)}).attr("y2",function(C){var G=C.datum;return I(G)+(b?m.step()/2:0)}).style("stroke",function(C){var G=C.fillColor;return G}),V.selectAll("rect.threshold-hoverable-area").attr("x",T).attr("y",function(C){var G=C.datum;return I(G)}).attr("width",Math.abs(A-T)).classed("rotate",!1))}),this.services.events.addEventListener(E.Threshold.SHOW,function(d){r.setThresholdLabelPosition(d.detail),r.label.classed("hidden",!1)}),this.services.events.addEventListener(E.Threshold.HIDE,function(d){r.label.classed("hidden",!0)}),this.appendThresholdLabel(),this.addEventListeners()},e.prototype.getFormattedValue=function(n){var r=n.value,a=n.axisPosition,i=this.getOptions(),o=this.services.cartesianScales.getScaleTypeByPosition(a);if(o===K.TIME){var s=[$.LEFT,$.RIGHT].includes(a),l=this.services.cartesianScales.getMainXScale(),u=this.services.cartesianScales.getMainYScale(),c=s?u:l,h=_.getProperty(i,"timeScale"),f=Ou(c.ticks());return bu(r,0,c.ticks(),f,h)}return r.toLocaleString("en")},e.prototype.appendThresholdLabel=function(){var n=B(this.services.domUtils.getHolder()),r=_.getProperty(this.getOptions(),"style","prefix");this.label=N.appendOrSelect(n,"div."+Gt.prefix+"--"+r+"--threshold--label").classed("hidden",!0)},e.prototype.setThresholdLabelPosition=function(n){var r=n.event,a=n.datum,i=this.services.domUtils.getHolder(),o=Tn(r,i),s=a.valueFormatter?a.valueFormatter(a.value):this.getFormattedValue(a);this.label.html((a.label||"Threshold")+": "+s).style("background-color",a.fillColor);var l=this.label.node(),u=this.positionService.findBestPlacementAt({left:o[0],top:o[1]},l,[Ft.RIGHT,Ft.LEFT,Ft.TOP,Ft.BOTTOM],function(){return{width:i.offsetWidth,height:i.offsetHeight}}),c=this.positionService.findPositionAt({left:o[0],top:o[1]},l,u);this.positionService.setElement(l,c)},e.prototype.constructDatumObj=function(n,r){var a={};return n.correspondingDatasets&&(a.group=_.getProperty(n,"correspondingDatasets",0)),a[n.mapsTo]=r.value,a},e.prototype.addEventListeners=function(){var n=this,r=this.getComponentContainer({withinChartClip:!0});r.selectAll("rect.threshold-hoverable-area").on("mouseover mousemove",function(a){B(this.parentNode).select("line.threshold-line").classed("active",!0),n.services.events.dispatchEvent(E.Threshold.SHOW,{event:a,hoveredElement:B(this),datum:B(this).datum()})}).on("mouseout",function(a){B(this.parentNode).select("line.threshold-line").classed("active",!1),n.services.events.dispatchEvent(E.Threshold.HIDE,{event:a,hoveredElement:B(this),datum:B(this).datum()})})},e}(ht),EP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ji=function(t){EP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="title",n.renderType=tt.HTML,n}return e.prototype.render=function(){var n=this.getComponentContainer(),r=_.getProperty(this.getOptions(),"title"),a=n.selectAll("p.title").data([r]);if(a.enter().append("p").classed("title",!0).attr("role","heading").attr("aria-level",2).merge(a).html(function(o){return o}),a.node()&&a.node().offsetWidth<a.node().scrollWidth){var i=this;a.on("mouseover",function(o){i.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:a,content:a.text()})}).on("mousemove",function(o){i.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("mouseout",function(){i.services.events.dispatchEvent(E.Tooltip.HIDE)})}a.exit().remove()},e.prototype.truncateTitle=function(n,r){if(!(r<=0)){var a=n.text();if(n.node().getComputedTextLength()>r){n.append("tspan").text("...");var i=N.appendOrSelect(n,"tspan").node().getComputedTextLength(),o=n.text(),s=this.getSubstringIndex(n.node(),0,o.length-1,r-i);n.html(o.substring(0,s-1)).append("tspan").text("...");var l=this;n.on("mouseover",function(u){l.services.events.dispatchEvent(E.Tooltip.SHOW,{event:u,hoveredElement:n,content:a})}).on("mousemove",function(u){l.services.events.dispatchEvent(E.Tooltip.MOVE,{event:u})}).on("mouseout",function(){l.services.events.dispatchEvent(E.Tooltip.HIDE)})}}},e.prototype.getMaxTitleWidth=function(){return N.getSVGElementSize(this.parent.node(),{useAttrs:!0}).width},e.prototype.getSubstringIndex=function(n,r,a,i){var o=Math.floor((a+r)/2);return n.getSubStringLength(0,o)>i?this.getSubstringIndex(n,r,o,i):n.getSubStringLength(0,o)<i?n.getSubStringLength(0,o+1)>i?o:this.getSubstringIndex(n,o,a,i):o},e}(ht),SP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),MP=function(t){SP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="meter-title",n.renderType=tt.SVG,n}return e.prototype.render=function(){var n=_.getProperty(this.model.getDisplayData(),0),r=this.getOptions(),a=this.getComponentContainer(),i=r.data.groupMapsTo,o=_.getProperty(r,"meter","proportional");if(o)this.displayTotal(),this.displayBreakdownTitle();else{var s=a.selectAll("text.meter-title").data([n[i]]);s.enter().append("text").classed("meter-title",!0).merge(s).attr("x",0).attr("y","1em").text(function(c){return c}),s.exit().remove(),this.appendPercentage()}this.displayStatus();var l=this.getMaxTitleWidth(),u=N.appendOrSelect(a,"text.meter-title");l>0&&u.node().getComputedTextLength()>l&&this.truncateTitle(u,l)},e.prototype.displayBreakdownTitle=function(){var n=this.getComponentContainer(),r=this.getOptions(),a=this.model.getMaximumDomain(this.model.getDisplayData()),i=_.getProperty(r,"meter","proportional","total"),o=_.getProperty(r,"meter","proportional","unit")?_.getProperty(r,"meter","proportional","unit"):"",s;if(a===i)s=null;else{var l=i!==null?i-a:a,u=_.getProperty(r,"meter","proportional","breakdownFormatter");s=u!==null?u({datasetsTotal:a,total:i}):a+" "+o+" used ("+l+" "+o+" available)"}var c=n.selectAll("text.proportional-meter-title").data([s]);c.enter().append("text").classed("proportional-meter-title",!0).merge(c).attr("x",0).attr("y","1em").text(function(p){return p}),c.exit().remove();var h=this.getMaxTitleWidth(),f=N.appendOrSelect(n,"text.proportional-meter-title");h>0&&f.node().getComputedTextLength()>h&&this.truncateTitle(f,h)},e.prototype.displayTotal=function(){var n=this.getComponentContainer(),r=this.getOptions(),a=_.getProperty(r,"meter","proportional","total"),i=a?_.getProperty(r,"meter","proportional","total"):this.model.getMaximumDomain(this.model.getDisplayData()),o=_.getProperty(r,"meter","proportional","unit")?_.getProperty(r,"meter","proportional","unit"):"",s=_.getProperty(r,"meter","proportional","totalFormatter"),l=s!==null?s(i):a+" "+o+" total",u=N.getHTMLElementSize(this.services.domUtils.getMainContainer()),c=u.width?u.width:this.parent.node().getAttribute("width"),h=n.selectAll("text.proportional-meter-total").data([l]);h.enter().append("text").classed("proportional-meter-total",!0).merge(h).attr("x",this.model.getStatus()?c-It.total.paddingRight:c).attr("y","1em").attr("text-anchor","end").text(function(f){return f}),h.exit().remove()},e.prototype.displayStatus=function(){var n=this,r=this.getComponentContainer(),a=N.getHTMLElementSize(this.services.domUtils.getMainContainer()),i=a.width?a.width:0,o=this.model.getStatus(),s=It.status.indicatorSize/2,l=N.appendOrSelect(r,"g.status-indicator").attr("class",o!==null?"status-indicator status--"+o:"").attr("transform","translate("+(i-s)+", 0)"),u=o?[o]:[],c=l.selectAll("circle.status").data(u);c.enter().append("circle").merge(c).attr("class","status").attr("r",s).attr("cx",0).attr("cy","calc(1em / 2)");var h=l.selectAll("path.innerFill").data(u);h.enter().append("path").merge(h).attr("d",n.getStatusIconPathString(o)).attr("transform","translate(-"+s+", 0)").attr("class","innerFill"),h.exit().remove(),c.exit().remove()},e.prototype.appendPercentage=function(){var n=_.getProperty(this.model.getDisplayData(),0,"value"),r=this.getComponentContainer(),a=N.appendOrSelect(r,"text.meter-title"),i=_.getProperty(this.getOptions(),"meter","statusBar","percentageIndicator","enabled")===!0?[n]:[],o=r.selectAll("text.percent-value").data(i),s=It.statusBar.paddingRight;o.enter().append("text").classed("percent-value",!0).merge(o).text(function(l){return l+"%"}).attr("x",+a.attr("x")+a.node().getComputedTextLength()+s).attr("y",a.attr("y")),o.exit().remove()},e.prototype.truncateTitle=function(n,r){t.prototype.truncateTitle.call(this,n,r);var a=N.appendOrSelect(this.parent,"tspan"),i=It.statusBar.paddingRight,o=Math.ceil(a.node().getComputedTextLength()),s=N.appendOrSelect(this.parent,"text.percent-value");s.attr("x",+n.attr("x")+n.node().getComputedTextLength()+o+i)},e.prototype.getMaxTitleWidth=function(){var n=N.getHTMLElementSize(this.services.domUtils.getMainContainer()),r=_.getProperty(this.getOptions(),"meter","proportional"),a=n.width?n.width:this.parent.node().getAttribute("width");if(r!==null){var i=N.appendOrSelect(this.parent,"text.proportional-meter-total").node(),o=N.getSVGElementSize(i,{useBBox:!0}).width;return a-o-It.total.paddingLeft}else{var s=N.appendOrSelect(this.parent,"text.percent-value"),l=It.statusBar.paddingRight,u=s.node().getComputedTextLength(),c=N.appendOrSelect(this.parent,"g.status-indicator").node(),h=N.getSVGElementSize(c,{useBBox:!0}).width+It.status.paddingLeft;return a-u-l-h}},e.prototype.getStatusIconPathString=function(n){switch(n){case Cr.SUCCESS:return"M6.875 11.3125 3.75 8.1875 4.74375 7.25 6.875 9.34375 11.50625 4.75 12.5 5.7375 Z";case Cr.DANGER:return"M10.7 11.5 4.5 5.3 5.3 4.5 11.5 10.7 Z";case Cr.WARNING:return"M7.9375,11.125 C7.41973305,11.125 7,11.544733 7,12.0625 C7,12.580267 7.41973305,13 7.9375,13 C8.45526695,13 8.875,12.580267 8.875,12.0625 C8.875,11.544733 8.45526695,11.125 7.9375,11.125 M7.3125, 3 8.5625, 3 8.5625, 9.875 7.3125, 9.875, 7.3125, 3 Z"}},e}(Ji),AP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fd=function(t){AP(e,t);function e(n,r,a){var i=t.call(this,n,r,a)||this;return i.type="tooltip",i.renderType=tt.HTML,i.isEventListenerAdded=!1,i.positionService=new Zi,i.handleShowTooltip=function(o){var s=o.detail.data||o.detail.items,l=i.getTooltipHTML(o),u=N.appendOrSelect(i.tooltip,"div.content-box");if(_.getProperty(i.getOptions(),"tooltip","customHTML"))if(o.detail.content){var c='<div class="title-tooltip"><p>'+o.detail.content+"</p></div>";u.html(c)}else u.html(i.model.getOptions().tooltip.customHTML(s,l));else u.html(l);i.positionTooltip(o),i.tooltip.classed("hidden",!1).attr("aria-hidden",!1)},i.handleHideTooltip=function(){i.tooltip.classed("hidden",!0).attr("aria-hidden",!0)},i.init(),i}return e.prototype.addTooltipEventListener=function(){var n=this;this.services.events.addEventListener(E.Tooltip.MOVE,function(r){n.tooltip.classed("hidden")===!1&&n.positionTooltip(r)}),this.services.events.addEventListener(E.Tooltip.SHOW,this.handleShowTooltip),this.services.events.addEventListener(E.Tooltip.HIDE,this.handleHideTooltip),this.services.events.addEventListener(E.Chart.MOUSEOUT,this.handleHideTooltip)},e.prototype.removeTooltipEventListener=function(){this.services.events.removeEventListener(E.Tooltip.MOVE,null),this.services.events.removeEventListener(E.Tooltip.SHOW,this.handleShowTooltip),this.services.events.removeEventListener(E.Tooltip.HIDE,this.handleHideTooltip),this.services.events.removeEventListener(E.Chart.MOUSEOUT,this.handleHideTooltip)},e.prototype.getItems=function(n){return n.detail.items?n.detail.items:[]},e.prototype.formatItems=function(n){var r=this,a=this.getOptions(),i=_.getProperty(a,"tooltip","truncation","type"),o=_.getProperty(a,"tooltip","truncation","threshold"),s=_.getProperty(a,"tooltip","truncation","numCharacter");return i!==Fe.NONE?n.map(function(l){var u=l.labelIcon?12:0;return l.value=l.value?r.valueFormatter(l.value,l.label):l.value,l.label&&l.label.length+u>o&&(l.label=_.truncateLabel(l.label,i,s)),l.value&&l.value.length>o&&(l.value=_.truncateLabel(l.value,i,s)),l}):n},e.prototype.getTooltipHTML=function(n){var r;if(n.detail.content)r='<div class="title-tooltip"><p>'+n.detail.content+"</p></div>";else{var a=this.getItems(n),i=this.formatItems(a);r='<ul class="multi-tooltip">'+i.map(function(o){return`<li>
							<div class="datapoint-tooltip `+(o.bold?"bold":"")+`">
								`+(o.class?'<div class="tooltip-color '+o.class+'"></div>':"")+`
								`+(o.color?'<div style="background-color: '+o.color+'" class="tooltip-color"></div>':"")+`
								<div class="label">
								<p>`+(o.label||"")+`</p>
								`+(o.labelIcon?'<span class="label-icon"/>'+o.labelIcon+"</span>":"")+`
								</div>
								`+(o.value===void 0||o.value===null?"":'<p class="value"/>'+o.value+"</p>")+`
							</div>
						</li>`}).join("")+"</ul>"}return r},e.prototype.valueFormatter=function(n,r){var a=this.getOptions(),i=_.getProperty(a,"tooltip","valueFormatter");return i?i(n,r):typeof n.getTime=="function"?ha(n,"MMM d, yyyy"):n.toLocaleString()},e.prototype.render=function(){var n=this.getOptions(),r=_.getProperty(n,"tooltip","enabled");if(r){var a=B(this.services.domUtils.getHolder()),i=_.getProperty(n,"style","prefix");this.tooltip=N.appendOrSelect(a,"div."+Gt.prefix+"--"+i+"--tooltip"),this.tooltip.style("max-width",null).attr("role","tooltip"),this.isEventListenerAdded||(this.addTooltipEventListener(),this.isEventListenerAdded=!0),this.tooltip.classed("hidden",!0)}else!r&&this.isEventListenerAdded&&(this.removeTooltipEventListener(),this.isEventListenerAdded=!1)},e.prototype.positionTooltip=function(n){var r=this.services.domUtils.getHolder(),a=this.tooltip.node(),i=this.getOptions(),o=_.getProperty(i,"zoomBar","top","enabled"),s=_.getProperty(n,"detail","mousePosition");if(!s)s=Tn(_.getProperty(n,"detail","event"),r);else{var l=_.getProperty(i,"zoomBar","top","type"),u=ae.height[l];o&&(s[1]+=u+ae.spacerHeight)}var c,h=r.offsetWidth,f=r.offsetHeight,p;s[0]/h>.9?p=Ft.LEFT:s[0]/h<.1?p=Ft.RIGHT:p=this.positionService.findBestPlacementAt({left:s[0],top:s[1]},a,[Ft.RIGHT,Ft.LEFT,Ft.TOP,Ft.BOTTOM],function(){return{width:h,height:f}});var d=wc.horizontalOffset;p===Ft.LEFT&&(d*=-1),c=this.positionService.findPositionAt({left:s[0]+d,top:s[1]},a,p),this.positionService.setElement(a,c)},e}(ht),CP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PP=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},Hd=function(t){CP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getItems=function(n){var r=this;if(n.detail.items)return n.detail.items;var a=n.detail.data;if(!a.length||!a[0])return[];var i=this.getOptions(),o=this.services.cartesianScales,s=o.getDomainIdentifier(),l=o.isDualAxes(),u=i.data.groupMapsTo,c=o.getDomainLabel(),h=o.getRangeLabel(),f=a[0][s],p;if(a.length===1){var d=a[0],g=o.getRangeIdentifier(d);if(l){var m=o.getRangeAxisPosition({datum:d,groups:[d[u]]});h=o.getScaleLabel(m)}var x=d[g];p=PP([{label:c,value:f}],Array.isArray(x)&&x.length===2?[{label:"Start",value:x[0]},{label:"End",value:x[1]}]:[{label:h,value:d[g]}]),n.detail.additionalItems&&n.detail.additionalItems.forEach(function(v){return p.push({label:v.label,value:v.value})}),p.push({label:i.tooltip.groupLabel,value:d[u],color:this.model.getFillColor(d[u]),class:this.model.getColorClassName({classNameTypes:[et.TOOLTIP],dataGroupName:d[u]})})}else if(a.length>1&&(p=[{label:c,value:f}],p=p.concat(a.map(function(v){return{label:v[u],value:v[o.getRangeIdentifier(v)],color:r.model.getFillColor(v[u]),class:r.model.getColorClassName({classNameTypes:[et.TOOLTIP],dataGroupName:v[u]})}}).sort(function(v,b){return b.value-v.value})),!l&&_.getProperty(i,"tooltip","showTotal")===!0)){var y=o.getRangeIdentifier();p.push({label:xt(i,"tooltip.totalLabel")||"Total",value:a.reduce(function(v,b){return v+b[y]},0),bold:!0})}return p},e}(Fd),DP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$d=function(t){DP(e,t);function e(n,r,a){var i=t.call(this,n,r,a)||this;return i.type="chart-clip",i.renderType=tt.SVG,i.chartClipId="chart-clip-id-"+Math.floor(Math.random()*99999999999),i.init(),i}return e.prototype.init=function(){this.model.set({chartClipId:this.chartClipId},{skipUpdate:!0})},e.prototype.render=function(n){this.createClipPath()},e.prototype.createClipPath=function(){var n=this.parent,r=this.services.cartesianScales,a=r.getMainXScale(),i=r.getMainYScale(),o=a.range(),s=o[0],l=o[1],u=i.range(),c=u[0],h=u[1];this.chartClipPath=N.appendOrSelect(n,"clipPath."+this.type).attr("id",this.chartClipId);var f=N.appendOrSelect(this.chartClipPath,"rect."+this.type);f.attr("x",s).attr("y",h).attr("width",l-s).attr("height",c-h),this.chartClipPath.merge(f).lower()},e}(ht),LP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RP=function(t){LP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="canvas-chart-clip",n.chartClipId="canvas-chart-clip-id-"+Math.floor(Math.random()*99999999999),n}return e.prototype.createClipPath=function(){var n=this.parent,r=N.getSVGElementSize(this.parent,{useAttrs:!0}),a=r.width,i=r.height;this.chartClipPath=N.appendOrSelect(n,"clipPath."+this.type).attr("id",this.chartClipId);var o=N.appendOrSelect(this.chartClipPath,"rect."+this.type);o.attr("x",0).attr("y",0).attr("width",a).attr("height",i),this.chartClipPath.merge(o).lower()},e}($d),kP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),un=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},IP=function(t){kP(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.type="highlight",a.renderType=tt.SVG,a.positionService=new Zi,a.highlightStrokeWidth=1,a}return e.prototype.render=function(n){n===void 0&&(n=!1);var r=_.getProperty(this.getOptions(),"axes"),a=[];Object.keys(r).forEach(function(p){if(Object.values($).includes(p)){var d=r[p];d.highlights&&d.highlights.data.length>0&&a.push({axisPosition:p,highlightStartMapsTo:d.highlights.highlightStartMapsTo,highlightEndMapsTo:d.highlights.highlightEndMapsTo,labelMapsTo:d.highlights.labelMapsTo,highlight:d.highlights.data,color:d.highlights.color})}});var i=this.getComponentContainer({withinChartClip:!0}),o=i.selectAll("g.axis-highlight").data(a,function(p){return p.axisPosition});o.exit().attr("opacity",0).remove();var s=o.enter().append("g"),l=s.merge(o);l.attr("class",function(p){return"axis-highlight "+p.axisPosition});var u=l.selectAll("g.highlight-group").data(function(p){return p.highlight.map(function(d){return d.axisPosition=p.axisPosition,d.highlightStartMapsTo=p.highlightStartMapsTo,d.labelMapsTo=p.labelMapsTo,d.color=p.color,d.highlightEndMapsTo=p.highlightEndMapsTo,d})});u.exit().attr("opacity",0).remove();var c=u.enter().append("g");c.append("rect").attr("class","highlight-bar"),c.append("line").attr("class","highlight-line");var h=c.merge(u);h.attr("class","highlight-group");var f=this;l.each(function(p){var d=p.axisPosition,g=f.services.cartesianScales.getMainXScale(),m=f.services.cartesianScales.getMainYScale(),x=g.range(),y=x[0],v=x[1],b=m.range(),O=b[0],T=b[1],A=f.services.cartesianScales,w=A.getOrientation(),S=function(D){return A.getDomainValue(D)},P=function(D){return A.getRangeValue(D)},M=_.flipDomainAndRangeBasedOnOrientation(S,P,w),k=M[0],R=M[1],U=B(this);d===$.TOP||d===$.BOTTOM?U.selectAll("rect.highlight-bar").transition().call(function(D){return f.services.transitions.setupTransition({transition:D,name:"highlight-bar-update",animate:n})}).attr("y",Math.max(T+f.highlightStrokeWidth,0)).attr("height",Math.max(O-2*f.highlightStrokeWidth,0)).attr("x",function(D){var L=D.highlightStartMapsTo,I=un(D,["highlightStartMapsTo"]);return k(I[L])}).attr("width",function(D){var L=D.highlightStartMapsTo,I=D.highlightEndMapsTo,V=un(D,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(k(V[I])-k(V[L]),0)}).style("stroke",function(D){var L=D.color,I=D.labelMapsTo,V=un(D,["color","labelMapsTo"]);return L&&L.scale[V[I]]?L.scale[V[I]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",f.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(D){var L=D.color,I=D.labelMapsTo,V=un(D,["color","labelMapsTo"]);return L&&L.scale[V[I]]?L.scale[V[I]]:null}):U.selectAll("rect.highlight-bar").transition().call(function(D){return f.services.transitions.setupTransition({transition:D,name:"highlight-bar-update",animate:n})}).attr("x",y).attr("width",Math.max(v-y,0)).attr("y",function(D){var L=D.highlightEndMapsTo,I=un(D,["highlightEndMapsTo"]);return R(I[L])}).attr("height",function(D){var L=D.highlightStartMapsTo,I=D.highlightEndMapsTo,V=un(D,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(R(V[L])-R(V[I]),0)}).style("stroke",function(D){var L=D.color,I=D.labelMapsTo,V=un(D,["color","labelMapsTo"]);return L&&L.scale[V[I]]?L.scale[V[I]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",f.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(D){var L=D.color,I=D.labelMapsTo,V=un(D,["color","labelMapsTo"]);return L&&L.scale[V[I]]?L.scale[V[I]]:null})})},e}(ht),NP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zd=function(t){NP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="area",n.renderType=tt.SVG,n.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("path.area").transition("legend-hover-area").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-area"})}).attr("opacity",function(i){return i.name!==a.datum().name?Ce.opacity.unselected:Ce.opacity.selected})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-area"})}).attr("opacity",Ce.opacity.selected)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer({withinChartClip:!0}),i=[0,0],o=this.services.cartesianScales,s=o.getOrientation(),l=zl().curve(this.services.curves.getD3Curve()).defined(function(w,S){var P=o.getRangeIdentifier(),M=w[P];return M!=null}),u=this.model.getGroupedData(this.configs.groups),c=_.getProperty(this.getOptions(),"bounds"),h=c&&u&&u.length===1;!h&&c&&console.warn("Bounds can only be shown when having 1 single datagroup, you've supplied "+u.length);var f=function(w,S){return h?o.getBoundedScaledValues(w,S)[0]:o.getRangeValue(0)},p=function(w,S){return h?o.getBoundedScaledValues(w,S)[1]:o.getRangeValue(w,S)};s===kt.VERTICAL?(i=this.services.cartesianScales.getMainYScale().domain(),l.x(function(w,S){return o.getDomainValue(w,S)}).y0(function(w,S){return f(w,S)}).y1(function(w,S){return p(w,S)})):(i=this.services.cartesianScales.getMainXScale().domain(),l.x0(function(w,S){return f(w,S)}).x1(function(w,S){return p(w,S)}).y(function(w,S){return o.getDomainValue(w,S)}));var d=_.getProperty(this.getOptions(),"color","gradient","enabled"),g=u&&u.length===1&&d;u.length>1&&d&&console.error("Gradients can only be enabled when having 1 single dataset");var m=a.selectAll("path.area").data(u,function(w){return w.name}),x=B(this.services.domUtils.getMainContainer());if(m.exit().attr("opacity",0).remove(),!!u.length){if(g){var y=x.select("path."+this.model.getColorClassName({classNameTypes:[et.STROKE],dataGroupName:u[0].name})).node(),v=void 0;if(y)v=getComputedStyle(y,null).getPropertyValue("stroke");else{var b=_.getProperty(this.model.getOptions(),"color","scale");if(b!==null){var O=Object.keys(b);v=b[O[0]]}}eu.appendOrUpdateLinearGradient({svg:this.parent,id:this.services.domUtils.generateElementIDString(u[0].name.replace(" ","")+"_"+this.gradient_id),x1:"0%",x2:"0%",y1:"0%",y2:"100%",stops:eu.getStops(i,v)})}else this.parent.selectAll("defs linearGradient").empty()||this.parent.selectAll("defs linearGradient").each(function(){this.parentNode.remove()});var T=this,A=m.enter().append("path");g?A.merge(m).style("fill",function(w){return"url(#"+r.services.domUtils.generateElementIDString(w.name.replace(" ","")+"_"+r.gradient_id)+")"}).attr("class","area").attr("class",function(w){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:w.name,originalClassName:"area"})}).attr("d",function(w){var S=w.data;return l(S)}):(A.attr("opacity",0).merge(m).attr("class","area").attr("class",function(w){return r.model.getColorClassName({classNameTypes:[et.FILL,et.STROKE],dataGroupName:w.name,originalClassName:"area"})}).style("fill",function(w){return T.model.getFillColor(w.name)}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"area-update-enter",animate:n})}).attr("opacity",h?1:Ce.opacity.selected).attr("d",function(w){var S=w.data;return l(S)}),h&&A.attr("fill-opacity",Ce.opacity.selected).style("stroke",function(w){return T.model.getStrokeColor(w.name)}).style("stroke-dasharray","2, 2").attr("stroke-width",.7+"px"))}},e.prototype.destroy=function(){var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(ht),BP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wd=function(t){BP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="area-stacked",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions(),o=i.data.groupMapsTo;n.parent.selectAll("path.area").transition("legend-hover-area").call(function(s){return n.services.transitions.setupTransition({transition:s,name:"legend-hover-area"})}).attr("opacity",function(s){return _.getProperty(s,0,o)!==a.datum().name?Ce.opacity.unselected:Ce.opacity.selected})},n.handleLegendMouseOut=function(){n.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(r){return n.services.transitions.setupTransition({transition:r,name:"legend-mouseout-area"})}).attr("opacity",Ce.opacity.selected)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer({withinChartClip:!0}),i=this,o=this.getOptions(),s=o.data.groupMapsTo,l=Object.keys(o.axes).some(function(m){return o.axes[m].percentage}),u=this.model.getStackedData({percentage:l,groups:this.configs.groups}),c=_.getProperty(u,0,0),h=this.services.cartesianScales.getDomainAxisPosition({firstDatum:c}),f=this.services.cartesianScales.getRangeAxisPosition({firstDatum:c}),p=this.services.cartesianScales.getScaleByPosition(f),d=a.selectAll("path.area").data(u,function(m){return _.getProperty(m,0,s)});this.areaGenerator=zl().x(function(m,x){return r.services.cartesianScales.getValueThroughAxisPosition(h,m.data.sharedStackKey,x)}).y0(function(m){return p(m[0])}).y1(function(m){return p(m[1])}).curve(this.services.curves.getD3Curve()),d.exit().attr("opacity",0).remove();var g=d.enter().append("path").attr("opacity",0);g.merge(d).data(u,function(m){return _.getProperty(m,0,s)}).attr("class","area").attr("class",function(m){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:_.getProperty(m,0,s),originalClassName:"area"})}).style("fill",function(m){return i.model.getFillColor(_.getProperty(m,0,s))}).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","area").attr("aria-label",function(m){return _.getProperty(m,0,s)}).transition().call(function(m){return r.services.transitions.setupTransition({transition:m,name:"area-update-enter",animate:n})}).attr("opacity",Ce.opacity.selected).attr("d",this.areaGenerator)},e}(ht),UP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tu=function(t){UP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBarWidth=function(n){var r=this.getOptions();if(r.bars.width)return r.bars.width;var a=this.model.getDisplayData().length,i=this.services.cartesianScales.getMainXScale(),o=N.getSVGElementSize(this.parent,{useAttrs:!0}).width;return i.step?Math.min(r.bars.maxWidth,i.step()/2):Math.min(r.bars.maxWidth,o*.25/a)},e.prototype.isOutsideZoomedDomain=function(n,r){var a=this.model.getDisplayData().length;if(a<=1)return!1;var i=this.model.get("zoomDomain");if(i!==void 0){var o=this.services.cartesianScales.getDomainScale();return n<o(i[0])||r>o(i[1])}return!1},e}(ht),VP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jd=function(t){VP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="simple-bar",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getOptions(),i=a.data.groupMapsTo,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),l=this.services.cartesianScales.getOrientation(),u=o.selectAll("path.bar").data(s,function(h){return h[i]});u.exit().attr("opacity",0).remove();var c=u.enter().append("path").attr("opacity",0);c.merge(u).classed("bar",!0).attr("width",this.getBarWidth.bind(this)).transition().call(function(h){return r.services.transitions.setupTransition({transition:h,name:"bar-update-enter",animate:n})}).attr("class",function(h){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:h[i],originalClassName:"bar"})}).style("fill",function(h){return r.model.getFillColor(h[i])}).attr("d",function(h,f){var p=r.services.cartesianScales.getRangeIdentifier(),d=r.getBarWidth(),g=h[p],m=r.services.cartesianScales.getDomainValue(h,f)-d/2,x=m+d,y,v;if(Array.isArray(g)&&g.length===2)y=r.services.cartesianScales.getRangeValue(g[0]),v=r.services.cartesianScales.getRangeValue(g[1],f);else{var b=r.services.cartesianScales.getRangeScale(),O=b.domain()[0];y=r.services.cartesianScales.getRangeValue(Math.max(0,O)),v=r.services.cartesianScales.getRangeValue(h,f)}var T=Math.abs(v-y);if(T!==0&&T<2&&(g>0&&l===kt.VERTICAL||g<0&&l===kt.HORIZONTAL?v=y-2:v=y+2),!r.isOutsideZoomedDomain(m,x))return _.generateSVGPathString({x0:m,x1:x,y0:y,y1:v},l)}).attr("opacity",1).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(h){return h.value}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("path.bar").on("mouseover",function(r,a){var i=B(this);i.classed("hovered",!0),n.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:r,hoveredElement:i,data:[a]})}).on("mousemove",function(r,a){n.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:r,element:B(this),datum:a}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:r})}).on("click",function(r,a){n.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:r,element:B(this),datum:a})}).on("mouseout",function(r,a){var i=B(this);i.classed("hovered",!1),n.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:i})})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(Tu),GP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qd=function(t){GP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grouped-bar",n.renderType=tt.SVG,n.padding=5,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.model.getDisplayData(this.configs.groups),i=this.getOptions(),o=i.data.groupMapsTo;this.setGroupScale();var s=this.getComponentContainer({withinChartClip:!0}),l=_.removeArrayDuplicates(a.map(function(d){var g=r.services.cartesianScales.getDomainIdentifier(d);return d[g]&&typeof d[g].toString=="function"?d[g].toString():d[g]})),u=s.selectAll("g.bars").data(l,function(d){return d});u.exit().attr("opacity",0).remove();var c=u.enter().append("g").classed("bars",!0).attr("role",ot.GROUP).attr("data-name","bars"),h=c.merge(u);h.transition().call(function(d){return r.services.transitions.setupTransition({transition:d,name:"bar-group-update-enter",animate:n})}).attr("transform",function(d,g){var m=r.services.cartesianScales.getDomainValue(d,g),x=m-r.getGroupWidth()/2;return r.services.cartesianScales.getOrientation()===kt.VERTICAL?"translate("+x+", 0)":"translate(0, "+x+")"});var f=h.selectAll("path.bar").data(function(d){return r.getDataCorrespondingToLabel(d)},function(d){return d[o]});f.exit().attr("opacity",0).remove();var p=f.enter().append("path").attr("opacity",0);p.merge(f).classed("bar",!0).transition().call(function(d){return r.services.transitions.setupTransition({transition:d,name:"bar-update-enter",animate:n})}).attr("class",function(d){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:d[o],originalClassName:"bar"})}).style("fill",function(d){return r.model.getFillColor(d[o])}).attr("d",function(d){var g=r.groupScale(d[o]),m=r.getBarWidth(),x=g,y=g+m,v=r.services.cartesianScales.getRangeAxisPosition({datum:d}),b=r.services.cartesianScales.getValueThroughAxisPosition(v,0),O=r.services.cartesianScales.getRangeValue(d);if(!r.isOutsideZoomedDomain(x,y))return _.generateSVGPathString({x0:x,x1:y,y0:b,y1:O},r.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(d){return d.value}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("path.bar").on("mouseover",function(r,a){var i=B(this);i.classed("hovered",!0),n.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:r,hoveredElement:i,data:[a]})}).on("mousemove",function(r,a){var i=B(this);n.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:r})}).on("click",function(r,a){n.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:r,element:B(this),datum:a})}).on("mouseout",function(r,a){var i=B(this);i.classed("hovered",!1),n.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:i})})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.getDataCorrespondingToLabel=function(n){var r=this,a=this.model.getDisplayData(this.configs.groups);return a.filter(function(i){var o=r.services.cartesianScales.getDomainIdentifier(i);return i[o]===n})},e.prototype.getGroupWidth=function(){var n=this.model.getGroupedData(this.configs.groups),r=this.getTotalGroupPadding();return this.getBarWidth()*n.length+r},e.prototype.getTotalGroupPadding=function(){var n=this.model.getGroupedData(this.configs.groups);if(n.length===1)return 0;var r=this.services.cartesianScales.getDomainScale(),a=Math.min(5,5*(r.step()/70));return a*(n.length-1)},e.prototype.getBarWidth=function(){var n=this.getOptions(),r=_.getProperty(n,"bars","width"),a=_.getProperty(n,"bars","maxWidth");if(r!==null&&(a===null||r<=a))return r;var i=this.model.getGroupedData(this.configs.groups),o=i.length,s=this.getTotalGroupPadding(),l=this.services.cartesianScales.getDomainScale();return Math.min(a,(l.step()-s)/o)},e.prototype.setGroupScale=function(){var n=this.model.getActiveDataGroupNames(this.configs.groups);this.groupScale=Xr().domain(n).rangeRound([0,this.getGroupWidth()])},e}(Tu),FP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yd=function(t){FP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="stacked-bar",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.model.getOptions().data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0}),i=this.getOptions(),o=i.data.groupMapsTo,s=this.model.getStackedData({groups:this.configs.groups,divergent:!0}),l=this.model.getActiveDataGroupNames(),u=a.selectAll("g.bars").data(s,function(h){return _.getProperty(h,0,o)});u.exit().attr("opacity",0).remove(),u.enter().append("g").classed("bars",!0).attr("role",ot.GROUP).attr("data-name","bars");var c=a.selectAll("g.bars").selectAll("path.bar").data(function(h){return h},function(h){return h.data.sharedStackKey});c.exit().remove(),c.enter().append("path").merge(c).classed("bar",!0).transition().call(function(h){return r.services.transitions.setupTransition({transition:h,name:"bar-update-enter",animate:n})}).attr("class",function(h){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:h[o],originalClassName:"bar"})}).style("fill",function(h){return r.model.getFillColor(h[o])}).attr("d",function(h,f){var p=h.data.sharedStackKey,d=r.getBarWidth(),g=r.services.cartesianScales.getDomainValue(p,f)-d/2,m=g+d,x=r.services.cartesianScales.getRangeValue(h[0],f),y=r.services.cartesianScales.getRangeValue(h[1],f);if(!r.isOutsideZoomedDomain(g,m)){if(Math.abs(y-x)>0&&Math.abs(y-x)>i.bars.dividerSize){var v=h[0]<0&&h[1]<=0;v&&l.length>1?r.services.cartesianScales.getOrientation()===kt.VERTICAL?y+=h[1]===0?2:1:y-=1:v||(r.services.cartesianScales.getOrientation()===kt.VERTICAL?y+=1:y-=1)}return _.generateSVGPathString({x0:g,x1:m,y0:x,y1:y},r.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(h){return h[1]-h[0]}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this;this.parent.selectAll("path.bar").on("mouseover",function(i,o){var s,l=B(this);l.classed("hovered",!0),a.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:i,element:l,datum:o});var u=a.model.getDisplayData(a.configs.groups),c=u.find(function(p){var d=a.services.cartesianScales.getDomainIdentifier(p),g=a.services.cartesianScales.getRangeIdentifier(p);return p[g]===o.data[o[r]]&&p[d].toString()===o.data.sharedStackKey&&p[r]===o[r]});if(c===void 0){var h=a.services.cartesianScales.getDomainIdentifier(),f=a.services.cartesianScales.getRangeIdentifier();c=(s={},s[h]=o.data.sharedStackKey,s[f]=o.data[o[r]],s[r]=o[r],s)}a.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:l,data:[c]})}).on("mousemove",function(i,o){var s=B(this);a.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:i,element:s,datum:o}),a.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,o){a.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:i,element:B(this),datum:o})}).on("mouseout",function(i,o){var s=B(this);s.classed("hovered",!1),a.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:i,element:s,datum:o}),a.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(Tu),HP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$P=function(t){HP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="boxplot",n.renderType=tt.SVG,n}return e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0}),i=this.getOptions(),o=i.data.groupMapsTo,s=this.model.getDataGroupNames(),l=this.services.cartesianScales.getMainXScale(),u=this.services.cartesianScales.getMainYScale(),c=l.range(),h=c[0],f=c[1],p=u.range(),d=p[0],g=p[1],m=f-h,x=d-g;if(m!==0){var y=this.services.cartesianScales,v=y.getOrientation(),b=v===kt.VERTICAL,O=_.flipDomainAndRangeBasedOnOrientation(function(L,I){return r.services.cartesianScales.getDomainValue(L,I)},function(L,I){return r.services.cartesianScales.getRangeValue(L,I)},v),T=O[0],A=O[1],w=Math.floor((b?m:x)/s.length),S=Math.min(w/2,16),P=this.model.getBoxplotData(),M=a.selectAll(".box-group").data(P);M.exit().remove();var k=M.enter().append("g").attr("class","box-group"),R=M.merge(k);k.append("path").merge(M.select("path.vertical-line.start")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[et.STROKE],originalClassName:"vertical-line start"})}).attr("stroke-width",he.strokeWidth.default).attr("fill","none").transition().call(function(L){return r.services.transitions.setupTransition({transition:L,name:"boxplot-update-verticalstartline",animate:n})}).attr("d",function(L){var I=y.getDomainValue(L[o]),V=I,C=y.getRangeValue(L.whiskers.min),G=y.getRangeValue(L.quartiles.q_25);return _.generateSVGPathString({x0:I,x1:V,y0:C,y1:G},v)}),k.append("path").merge(M.select("path.vertical-line.end")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[et.STROKE],originalClassName:"vertical-line end"})}).attr("stroke-width",he.strokeWidth.default).attr("fill","none").transition().call(function(L){return r.services.transitions.setupTransition({transition:L,name:"boxplot-update-verticalendline",animate:n})}).attr("d",function(L){var I=y.getDomainValue(L[o]),V=I,C=y.getRangeValue(L.whiskers.max),G=y.getRangeValue(L.quartiles.q_75);return _.generateSVGPathString({x0:I,x1:V,y0:C,y1:G},v)}),k.append("path").merge(M.select("path.box")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[et.FILL,et.STROKE],originalClassName:"box"})}).attr("fill-opacity",he.box.opacity.default).attr("stroke-width",he.strokeWidth.default).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","box").attr("aria-label",function(L){return L[o]}).transition().call(function(L){return r.services.transitions.setupTransition({transition:L,name:"boxplot-update-quartiles",animate:n})}).attr("d",function(L){var I=y.getDomainValue(L[o])-S/2,V=I+S,C=y.getRangeValue(Math[b?"max":"min"](L.quartiles.q_75,L.quartiles.q_25)),G=C+Math.abs(y.getRangeValue(L.quartiles.q_75)-y.getRangeValue(L.quartiles.q_25));return _.generateSVGPathString({x0:I,x1:V,y0:C,y1:G},v)}),k.append("path").merge(M.select("path.highlight-area")).attr("class","highlight-area").attr("opacity",0).attr("d",function(L){var I=y.getDomainValue(L[o])-S/2,V=I+S,C=y.getRangeValue(L.whiskers.min),G=y.getRangeValue(L.whiskers.max);return _.generateSVGPathString({x0:I,x1:V,y0:C,y1:G},v)}),k.append("path").merge(M.select("path.whisker.start")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[et.STROKE],originalClassName:"whisker start"})}).attr("stroke-width",he.strokeWidth.thicker).attr("fill","none").transition().call(function(L){return r.services.transitions.setupTransition({transition:L,name:"boxplot-update-startingwhisker",animate:n})}).attr("d",function(L){var I=y.getDomainValue(L[o])-S/4,V=I+S/2,C=y.getRangeValue(L.whiskers.min),G=y.getRangeValue(L.whiskers.min);return _.generateSVGPathString({x0:I,x1:V,y0:C,y1:G},v)}),k.append("path").merge(M.select("path.median")).attr("fill","none").attr("class",function(){return r.model.getColorClassName({classNameTypes:[et.STROKE],originalClassName:"median"})}).attr("stroke-width",2).transition().call(function(L){return r.services.transitions.setupTransition({transition:L,name:"boxplot-update-median",animate:n})}).attr("d",function(L){var I=y.getDomainValue(L[o])-S/2,V=I+S,C=y.getRangeValue(L.quartiles.q_50),G=C;return _.generateSVGPathString({x0:I,x1:V,y0:C,y1:G},v)}),k.append("path").merge(M.select("path.whisker.end")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[et.STROKE],originalClassName:"whisker end"})}).attr("stroke-width",he.strokeWidth.thicker).attr("fill","none").transition().call(function(L){return r.services.transitions.setupTransition({transition:L,name:"boxplot-update-endingwhisker",animate:n})}).attr("d",function(L){var I=y.getDomainValue(L[o])-S/4,V=I+S/2,C=y.getRangeValue(L.whiskers.max),G=y.getRangeValue(L.whiskers.max);return _.generateSVGPathString({x0:I,x1:V,y0:C,y1:G},v)});var U=R.selectAll("circle.outlier").data(function(L){return L.outliers.map(function(I){var V;return V={min:L.whiskers.min,max:L.whiskers.max},V[o]=L[o],V.value=I,V})});U.exit().remove();var D=U.enter().append("circle");U.merge(D).attr("r",he.circle.radius).attr("class",function(){return r.model.getColorClassName({classNameTypes:[et.FILL,et.STROKE],originalClassName:"outlier"})}).attr("fill-opacity",he.circle.opacity.default).attr("cx",T).transition().call(function(L){return r.services.transitions.setupTransition({transition:L,name:"boxplot-update-circles",animate:n})}).attr("cy",A),this.addBoxEventListeners(),this.addCircleEventListeners()}},e.prototype.addBoxEventListeners=function(){var n=this,r=this.getOptions(),a=r.data.groupMapsTo;this.parent.selectAll("path.highlight-area").on("mouseover",function(i,o){var s=B(this),l=B(this.parentNode);l.select("path.box").classed("hovered",!0).attr("fill-opacity",he.box.opacity.hovered),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:s,items:[{label:r.tooltip.groupLabel,value:o[a],class:n.model.getColorClassName({classNameTypes:[et.TOOLTIP]})},{label:"Minimum",value:o.whiskers.min},{label:"Q1",value:o.quartiles.q_25},{label:"Median",value:o.quartiles.q_50},{label:"Q3",value:o.quartiles.q_75},{label:"Maximum",value:o.whiskers.max},{label:"IQR",value:o.quartiles.q_75-o.quartiles.q_25}]}),n.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEOVER,{event:i,element:s,datum:o})}).on("mousemove",function(i,o){var s=B(this);n.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEMOVE,{event:i,element:s,datum:o}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,o){n.services.events.dispatchEvent(E.Boxplot.BOX_CLICK,{event:i,element:B(this),datum:o})}).on("mouseout",function(i,o){var s=B(this),l=B(this.parentNode);l.select("path.box").classed("hovered",!1).attr("fill-opacity",he.box.opacity.default),n.services.events.dispatchEvent(E.Boxplot.BOX_MOUSEOUT,{event:i,element:s,datum:o}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},e.prototype.addCircleEventListeners=function(){var n=this,r=this.getOptions(),a=r.data.groupMapsTo,i=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("circle").on("mouseover",function(o,s){var l=B(this);l.classed("hovered",!0).attr("fill-opacity",he.circle.opacity.hovered).classed("unfilled",!1),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:r.tooltip.groupLabel,value:s[a],class:n.model.getColorClassName({classNameTypes:[et.TOOLTIP]})},{label:"Outlier",value:s[i]}]}),n.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEOVER,{event:o,element:l,datum:s})}).on("mousemove",function(o,s){var l=B(this);n.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEMOVE,{event:o,element:l,datum:s}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("click",function(o,s){n.services.events.dispatchEvent(E.Boxplot.OUTLIER_CLICK,{event:o,element:B(this),datum:s})}).on("mouseout",function(o,s){var l=B(this);l.classed("hovered",!1).attr("fill-opacity",he.circle.opacity.default),n.services.events.dispatchEvent(E.Boxplot.OUTLIER_MOUSEOUT,{event:o,element:l,datum:s}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:l})})},e}(ht),zP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ne=function(t){zP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="scatter",n.renderType=tt.SVG,n.handleChartHolderOnHover=function(r){n.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"chart-holder-hover-scatter"})}).attr("opacity",1)},n.handleChartHolderOnMouseOut=function(r){n.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"chart-holder-mouseout-scatter"})}).attr("opacity",0)},n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-scatter"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-scatter"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut);var r=this.configs.fadeInOnChartHolderMouseover;r&&(n.addEventListener(E.Chart.MOUSEOVER,this.handleChartHolderOnHover),n.addEventListener(E.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut))},e.prototype.filterBasedOnZoomDomain=function(n){var r=this.services.cartesianScales.getDomainIdentifier(n),a=this.model.get("zoomDomain");return a!==void 0?n.filter(function(i){return i[r].getTime()>=a[0].getTime()&&i[r].getTime()<=a[1].getTime()}):n},e.prototype.getScatterData=function(){var n=this,r=this.getOptions(),a=this.configs.stacked,i;if(a){var o=Object.keys(r.axes).some(function(s){return r.axes[s].percentage});i=this.model.getStackedData({groups:this.configs.groups,percentage:o})}else i=this.model.getDisplayData(this.configs.groups).filter(function(s){var l=n.services.cartesianScales.getRangeIdentifier(s);return s[l]!==void 0&&s[l]!==null});return this.filterBasedOnZoomDomain(i)},e.prototype.render=function(n){var r=_.getProperty(this.getOptions(),"points","enabled")||_.getProperty(this.getOptions(),"bubble","enabled");if(!!r){var a=this.getComponentContainer({withinChartClip:!0}),i=this.getOptions(),o=i.data.groupMapsTo,s=this.services.cartesianScales.getDomainIdentifier(),l=a.selectAll("circle.dot").data(this.getScatterData(),function(h){return h[o]+"-"+h[s]});l.exit().attr("opacity",0).remove();var u=l.enter().append("circle").classed("dot",!0).attr("opacity",0),c=u.merge(l);this.styleCircles(c,n),this.addEventListeners()}},e.prototype.isDatapointThresholdAnomaly=function(n,r){var a=this,i=this.configs.handleThresholds;if(!i)return!1;var o=this.services.cartesianScales,s=o.getOrientation(),l=_.flipDomainAndRangeBasedOnOrientation(this.services.cartesianScales.getHighestDomainThreshold(),this.services.cartesianScales.getHighestRangeThreshold(),s),u=l[0],c=l[1],h=_.flipDomainAndRangeBasedOnOrientation(function(m,x){return a.services.cartesianScales.getDomainValue(m,x)},function(m,x){return a.services.cartesianScales.getRangeValue(m,x)},s),f=h[0],p=h[1],d=f(n,r),g=p(n,r);if(c&&u)return g<=c.scaleValue&&d>=u.scaleValue;if(c)return g<=c.scaleValue;if(u)return d>=u.scaleValue},e.prototype.styleCircles=function(n,r){var a=this,i=this.getOptions(),o=i.points,s=o.filled,l=o.fillOpacity,u=this.services,c=u.cartesianScales;u.transitions;var h=i.data.groupMapsTo,f=function(y,v){return c.getDomainValue(y,v)},p=function(y,v){return c.getRangeValue(y,v)},d=_.flipDomainAndRangeBasedOnOrientation(f,p,c.getOrientation()),g=d[0],m=d[1],x=this.configs.fadeInOnChartHolderMouseover;n.raise().classed("dot",!0).attr("class",function(y){var v=c.getDomainIdentifier(y),b=a.model.getIsFilled(y[h],y[v],y,s),O=b?[et.FILL,et.STROKE]:[et.STROKE];return a.model.getColorClassName({classNameTypes:O,dataGroupName:y[h],originalClassName:"dot"})}).classed("threshold-anomaly",function(y,v){return a.isDatapointThresholdAnomaly(y,v)}).classed("filled",function(y){var v=c.getDomainIdentifier(y);return a.model.getIsFilled(y[h],y[v],y,s)}).classed("unfilled",function(y){var v=c.getDomainIdentifier(y);return!a.model.getIsFilled(y[h],y[v],y,s)}).transition().call(function(y){return a.services.transitions.setupTransition({transition:y,name:"scatter-update-enter",animate:r})}).attr("cx",g).attr("cy",m).attr("r",i.points.radius).style("fill",function(y){var v=c.getDomainIdentifier(y);if(a.model.getIsFilled(y[h],y[v],y,s))return a.model.getFillColor(y[h],y[v],y)}).style("stroke",function(y){var v=c.getDomainIdentifier(y);return a.model.getStrokeColor(y[h],y[v],y)}).attr("fill-opacity",s?l:1).attr("opacity",x?0:1).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","point").attr("aria-label",function(y){var v=c.getRangeIdentifier(y);return y[v]}),this.addEventListeners()},e.prototype.getTooltipAdditionalItems=function(n){return null},e.prototype.addEventListeners=function(){var n=this,r=n.getOptions().data.groupMapsTo;this.parent.selectAll("circle").on("mouseover",function(a,i){var o=B(this);o.classed("hovered",!0).attr("class",function(s){return n.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:s[r],originalClassName:o.attr("class")})}).style("fill",function(s){var l=n.services.cartesianScales.getDomainIdentifier(s);return n.model.getFillColor(s[r],s[l],s)}).classed("unfilled",!1),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:o,data:[i],additionalItems:n.getTooltipAdditionalItems(i)}),n.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEOVER,{event:a,element:o,datum:i})}).on("mousemove",function(a,i){var o=B(this);n.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEMOVE,{event:a,element:o,datum:i}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){n.services.events.dispatchEvent(E.Scatter.SCATTER_CLICK,{event:a,element:B(this),datum:i})}).on("mouseout",function(a,i){var o=B(this);if(o.classed("hovered",!1),!n.configs.filled){var s=n.getOptions().points.filled,l=n.services.cartesianScales.getDomainIdentifier(i),u=n.model.getIsFilled(i[r],i[l],i,s);o.classed("unfilled",!u).style("fill",function(c){return u||s?n.model.getFillColor(c[r],c[l],c):null})}n.services.events.dispatchEvent(E.Scatter.SCATTER_MOUSEOUT,{event:a,element:o,datum:i}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:o})})},e.prototype.destroy=function(){this.parent.selectAll("circle").on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),n.removeEventListener(E.Chart.MOUSEOVER,this.handleChartHolderOnHover),n.removeEventListener(E.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut)},e}(ht),WP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jP=function(t){WP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bubble",n.renderType=tt.SVG,n}return e.prototype.getRadiusScale=function(n){var r=this.getOptions(),a=r.bubble.radiusMapsTo,i=n.data(),o=i.map(function(c){return c[a]}).filter(function(c){return c}),s=N.getHTMLElementSize(this.services.domUtils.getMainContainer()),l=o.length>0,u=l?Le(o):[1,1];return Ye().domain(u).range(l?r.bubble.radiusRange(s,i):[4,4])},e.prototype.styleCircles=function(n,r){var a=this,i=this.getOptions(),o=i.bubble.radiusMapsTo,s=this.getRadiusScale(n),l=i.data.groupMapsTo,u=this.services.cartesianScales,c=function(g,m){return u.getDomainValue(g,m)},h=function(g,m){return u.getRangeValue(g,m)},f=_.flipDomainAndRangeBasedOnOrientation(c,h,u.getOrientation()),p=f[0],d=f[1];n.raise().classed("dot",!0).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-label",function(g){var m=u.getRangeIdentifier(g);return g[m]}).transition().call(function(g){return a.services.transitions.setupTransition({transition:g,name:"bubble-update-enter",animate:r})}).attr("cx",p).attr("cy",d).attr("r",function(g){return s(g[o]||1)}).attr("class",function(g){return a.model.getColorClassName({classNameTypes:[et.FILL,et.STROKE],dataGroupName:g[l],originalClassName:"dot"})}).style("fill",function(g){var m=a.services.cartesianScales.getDomainIdentifier(g);return a.model.getFillColor(g[l],g[m],g)}).style("stroke",function(g){var m=a.services.cartesianScales.getDomainIdentifier(g);return a.model.getStrokeColor(g[l],g[m],g)}).attr("fill-opacity",i.bubble.fillOpacity).attr("opacity",1)},e.prototype.getTooltipAdditionalItems=function(n){var r=_.getProperty(this.getOptions(),"bubble");return[{label:_.getProperty(r,"radiusLabel"),value:n[_.getProperty(r,"radiusMapsTo")]}]},e}(Ne),qP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),YP=function(t){qP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bullet",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getOptions(),i=a.data.groupMapsTo,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),l=this.services.cartesianScales.getRangeScale(),u=this.services.cartesianScales.getRangeIdentifier(),c=l.range(),h=c[0],f=c[1],p=l.domain();p[0];var d=p[1],g=function(){var v=[];s.forEach(function(T){T.ranges?T.ranges.forEach(function(A,w){A!=null&&A<d&&v.push({datum:T,value:A,order:w+1})}):v.push({datum:T,order:1})});var b=N.appendOrSelect(o,"g.range-boxes").selectAll("path.range-box").data(v,function(T){return T[i]+"-"+T.order});b.exit().attr("opacity",0).remove();var O=b.enter().append("path").attr("opacity",0);O.merge(b).attr("class",function(T){return"range-box order-"+T.order}).transition().call(function(T){return r.services.transitions.setupTransition({transition:T,name:"bullet-range-box-update-enter",animate:n})}).attr("d",function(T,A){var w=16,S,P,M,k;return T.order===1?(S=r.services.cartesianScales.getDomainValue(T.datum,A)-w/2,P=S+w,M=f-2,k=h+1):(S=r.services.cartesianScales.getDomainValue(T.datum,A)-w/2,P=S+w,M=r.services.cartesianScales.getRangeValue(T.value,A),k=f),_.generateSVGPathString({x0:S,x1:P,y0:M,y1:k},r.services.cartesianScales.getOrientation())}).attr("opacity",1)},m=function(){var v=N.appendOrSelect(o,"g.bars").selectAll("path.bar").data(s,function(O){return O[i]});v.exit().attr("opacity",0).remove();var b=v.enter().append("path").attr("opacity",0);b.merge(v).classed("bar",!0).transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"bullet-bar-update-enter",animate:n})}).attr("class",function(O){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:O[i],originalClassName:"bar"})}).style("fill",function(O){return r.model.getFillColor(O[i])}).attr("d",function(O,T){var A=8,w=r.services.cartesianScales.getDomainValue(O,T)-A/2,S=w+A,P=r.services.cartesianScales.getRangeValue(0)+1,M=r.services.cartesianScales.getRangeValue(O,T);return _.generateSVGPathString({x0:w,x1:S,y0:P,y1:M},r.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(O){return O.value})},x=function(){var v=N.appendOrSelect(o,"g.markers").selectAll("path.marker").data(s.filter(function(O){return _.getProperty(O,"marker")!==null}),function(O){return O[i]});v.exit().attr("opacity",0).remove();var b=v.enter().append("path").attr("opacity",0);b.merge(v).classed("marker",!0).transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"bullet-marker-update-enter",animate:n})}).attr("d",function(O,T){var A=24,w=r.services.cartesianScales.getDomainValue(O,T)-A/2,S=w+A,P=r.services.cartesianScales.getRangeValue(O.marker,T),M=P;return _.generateSVGPathString({x0:w,x1:S,y0:P,y1:M},r.services.cartesianScales.getOrientation())}).attr("opacity",1)},y=function(){var v=[];s.filter(function(T){return _.getProperty(T,"marker")!==null}).forEach(function(T){var A=T.marker,w=T[u];v=v.concat([{datum:T,value:A*.25,barValue:w},{datum:T,value:A*.5,barValue:w},{datum:T,value:A*.75,barValue:w}])});var b=N.appendOrSelect(o,"g.quartiles").selectAll("path.quartile").data(v,function(T){return T[i]});b.exit().attr("opacity",0).remove();var O=b.enter().append("path").attr("opacity",0);O.merge(b).attr("class",function(T){return"quartile "+(T.value<=T.barValue?"over-bar":"")}).transition().call(function(T){return r.services.transitions.setupTransition({transition:T,name:"bullet-quartile-update-enter",animate:n})}).attr("d",function(T,A){var w=T.datum,S=T.value,P=4;w.ranges&&w.ranges.indexOf(S)!==-1&&(P=8);var M=r.services.cartesianScales.getDomainValue(w,A)-P/2,k=M+P,R=r.services.cartesianScales.getRangeValue(S,A),U=R;return _.generateSVGPathString({x0:M,x1:k,y0:R,y1:U},r.services.cartesianScales.getOrientation())}).attr("opacity",1)};g(),m(),x(),y(),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this,r=this.getOptions(),a=r.data.groupMapsTo,i=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("path.bar").on("mouseover",function(o,s){var l=B(this);l.classed("hovered",!0),n.services.events.dispatchEvent(E.Bar.BAR_MOUSEOVER,{event:o,element:l,datum:s});var u=_.getProperty(r,"bullet","performanceAreaTitles"),c=n.model.getMatchingRangeIndexForDatapoint(s);n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:r.tooltip.groupLabel||"Group",value:s[a],class:n.model.getColorClassName({classNameTypes:[et.TOOLTIP],dataGroupName:s[a]})},{label:"Value",value:s[i]},{label:"Target",value:s.marker},{label:"Percentage",value:Math.floor(s[i]/s.marker*100)+"%"},{label:"Performance",value:u[c]}]})}).on("mousemove",function(o,s){n.services.events.dispatchEvent(E.Bar.BAR_MOUSEMOVE,{event:o,element:B(this),datum:s}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("click",function(o,s){n.services.events.dispatchEvent(E.Bar.BAR_CLICK,{event:o,element:B(this),datum:s})}).on("mouseout",function(o,s){var l=B(this);l.classed("hovered",!1),n.services.events.dispatchEvent(E.Bar.BAR_MOUSEOUT,{event:o,element:l,datum:s}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:l})})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(ht),XP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZP=function(t){XP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="histogram",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions(),o=i.data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(s){return n.services.transitions.setupTransition({transition:s,name:"legend-hover-bar"})}).attr("opacity",function(s){return s[o]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer(),i=this.model.getOptions(),o=i.groupIdentifier,s=i.data.groupMapsTo,l=this.model.getBinnedStackedData(),u=this.services.cartesianScales.getMainXScale(),c=a.selectAll("g.bars").data(l,function(f){return xt(f,"0."+s)});c.exit().attr("opacity",0).remove(),c.enter().append("g").classed("bars",!0).attr("role",ot.GROUP);var h=a.selectAll("g.bars").selectAll("path.bar").data(function(f){return f});h.exit().remove(),h.enter().append("path").merge(h).classed("bar",!0).attr(o,function(f,p){return p}).transition().call(function(f){return r.services.transitions.setupTransition({transition:f,name:"histogram-bar-update-enter",animate:n})}).attr("class",function(f){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:f[s],originalClassName:"bar"})}).style("fill",function(f){return r.model.getFillColor(f[s])}).attr("d",function(f,p){var d=xt(f,"data");if(!!d){var g=u(d.x1)-u(d.x0)-1,m=r.services.cartesianScales.getDomainValue(d.x0,p),x=m+g,y=r.services.cartesianScales.getRangeValue(f[0],p),v=r.services.cartesianScales.getRangeValue(f[1],p);return Math.abs(v-y)>0&&Math.abs(v-y)>i.bars.dividerSize&&(r.services.cartesianScales.getOrientation()===kt.VERTICAL?v+=1:v-=1),_.generateSVGPathString({x0:m,x1:x,y0:y,y1:v},r.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(f){return _.getProperty(f,"data",f[s])}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.model.getOptions(),r=n.data.groupMapsTo,a=this;this.parent.selectAll("path.bar").on("mouseover",function(i,o){var s=B(this);s.classed("hovered",!0);var l=parseFloat(xt(o,"data.x0")),u=parseFloat(xt(o,"data.x1")),c=a.services.cartesianScales.getRangeAxisPosition(),h=a.services.cartesianScales.getScaleLabel(c);a.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:s,items:[{label:xt(n,"bins.rangeLabel")||"Range",value:l+" \u2013 "+u},{label:n.tooltip.groupLabel||"Group",value:o[r],class:a.model.getColorClassName({classNameTypes:[et.TOOLTIP],dataGroupName:o[r]})},{label:h,value:xt(o,"data."+o[r])}]})}).on("mousemove",function(i,o){a.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("mouseout",function(i,o){var s=B(this);s.classed("hovered",!1),a.services.events.dispatchEvent(E.Tooltip.HIDE)})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(ht),KP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hr=function(t){KP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="line",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("path.line").transition("legend-hover-line").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-line"})}).attr("opacity",function(i){return i.name!==a.datum().name?Pe.opacity.unselected:Pe.opacity.selected})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.line").transition("legend-mouseout-line").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-line"})}).attr("opacity",Pe.opacity.selected)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer({withinChartClip:!0}),i=this.services,o=i.cartesianScales,s=i.curves,l=function(O,T){return o.getDomainValue(O,T)},u=function(O,T){return o.getRangeValue(O,T)},c=_.flipDomainAndRangeBasedOnOrientation(l,u,o.getOrientation()),h=c[0],f=c[1],p=this.getOptions(),d=_i().x(h).y(f).curve(s.getD3Curve()).defined(function(O,T){var A=o.getRangeIdentifier(O),w=O[A];return w!=null}),g=[];if(this.configs.stacked){var m=Object.keys(p.axes).some(function(O){return p.axes[O].percentage}),x=p.data.groupMapsTo,y=this.model.getStackedData({groups:this.configs.groups,percentage:m});g=y.map(function(O){var T=r.services.cartesianScales.getDomainIdentifier(O),A=r.services.cartesianScales.getRangeIdentifier(O);return{name:_.getProperty(O,0,x),data:O.map(function(w){var S;return S={},S[T]=w.data.sharedStackKey,S[x]=w[x],S[A]=w[1],S}),hidden:!_.some(O,function(w){return w[0]!==w[1]})}})}else g=this.model.getGroupedData(this.configs.groups);var v=a.selectAll("path.line").data(g,function(O){return O.name});v.exit().attr("opacity",0).remove();var b=v.enter().append("path").classed("line",!0).attr("opacity",0);b.merge(v).data(g,function(O){return O.name}).attr("class",function(O){return r.model.getColorClassName({classNameTypes:[et.STROKE],dataGroupName:O.name,originalClassName:"line"})}).style("stroke",function(O){return r.model.getStrokeColor(O.name)}).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","line").attr("aria-label",function(O){var T=O.data;return T.map(function(A){var w=r.services.cartesianScales.getRangeIdentifier(A);return A[w]}).join(",")}).transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"line-update-enter",animate:n})}).attr("opacity",function(O){return O.hidden?0:1}).attr("d",function(O){var T=O.data;return d(T)})},e.prototype.destroy=function(){var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(ht),QP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JP=function(t){QP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="lollipop",n.renderType=tt.SVG,n.handleScatterOnHover=function(r){var a=r.detail,i=n.getOptions(),o=i.data.groupMapsTo;n.parent.selectAll("line.line").attr("stroke-width",function(s){return s[o]!==a.datum[o]?Pe.weight.unselected:Pe.weight.selected})},n.handleScatterOnMouseOut=function(r){n.parent.selectAll("line.line").attr("stroke-width",Pe.weight.unselected)},n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions(),o=i.data.groupMapsTo;n.parent.selectAll("line.line").transition("legend-hover-line").call(function(s){return n.services.transitions.setupTransition({transition:s,name:"legend-hover-line"})}).attr("opacity",function(s){return s[o]!==a.datum().name?Pe.opacity.unselected:Pe.opacity.selected})},n.handleLegendMouseOut=function(r){n.parent.selectAll("line.line").transition("legend-mouseout-line").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-line"})}).attr("opacity",Pe.opacity.selected)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0}),i=this.model.getOptions(),o=i.data.groupMapsTo,s=this.services.cartesianScales,l=s.getMainXScale(),u=s.getMainYScale(),c=s.getDomainIdentifier(),h=function(b,O){return s.getDomainValue(b,O)},f=function(b,O){return s.getRangeValue(b,O)},p=s.getOrientation(),d=_.flipDomainAndRangeBasedOnOrientation(h,f,p),g=d[0],m=d[1],x=a.selectAll("line.line").data(this.getScatterData(),function(b){return b[o]+"-"+b[c]});x.exit().attr("opacity",0).remove();var y=x.enter().append("line").attr("opacity",0),v=y.merge(x).classed("line",!0).attr("class",function(b){return r.model.getColorClassName({classNameTypes:[et.STROKE],dataGroupName:b[o],originalClassName:"line"})}).transition().call(function(b){return r.services.transitions.setupTransition({transition:b,name:"lollipop-line-update-enter",animate:n})}).style("stroke",function(b){return r.model.getFillColor(b[o],b[c],b)}).attr("opacity",1);p===kt.HORIZONTAL?v.attr("y1",m).attr("y2",m).attr("x1",l.range()[0]).attr("x2",function(b,O){return g(b,O)-i.points.radius}):v.attr("x1",g).attr("x2",g).attr("y1",u.range()[0]).attr("y2",function(b,O){return m(b,O)+i.points.radius}),this.addScatterPointEventListeners()},e.prototype.addScatterPointEventListeners=function(){this.services.events.addEventListener(E.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),this.services.events.addEventListener(E.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},e.prototype.destroy=function(){var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),n.removeEventListener(E.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),n.removeEventListener(E.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},e}(Ne),tD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xd=function(t){tD(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="scatter-stacked",n.renderType=tt.SVG,n}return e.prototype.render=function(n){var r=this,a=_.getProperty(this.getOptions(),"points","enabled");if(!!a){var i=this.getComponentContainer({withinChartClip:!0}),o=this.getOptions(),s=o.data.groupMapsTo,l=Object.keys(o.axes).some(function(g){return o.axes[g].percentage}),u=this.model.getStackedData({groups:this.configs.groups,percentage:l}),c=i.selectAll("g.dots").data(u,function(g){return _.getProperty(g,0,s)});c.exit().attr("opacity",0).remove();var h=c.enter().append("g").classed("dots",!0).attr("role",ot.GROUP),f=h.merge(c).selectAll("circle.dot").data(function(g){return g});f.exit().attr("opacity",0).remove();var p=f.enter().append("circle").classed("dot",!0).attr("opacity",0),d=p.merge(f).datum(function(g){var m,x=g[s],y=r.services.cartesianScales.getDomainIdentifier(g),v=r.services.cartesianScales.getRangeIdentifier(g);return m={},m[s]=x,m[y]=g.data.sharedStackKey,m[v]=g[1],m});this.styleCircles(d,n),this.addEventListeners()}},e.prototype.getTooltipData=function(n,r){var a=this,i=this.getOptions(),o=i.data.groupMapsTo,s=Object.keys(i.axes).some(function(c){return i.axes[c].percentage}),l=this.model.getStackedData({groups:this.configs.groups,percentage:s}),u=[];return l.forEach(function(c,h){c.forEach(function(f,p){var d,g=f[o],m=f.data.sharedStackKey,x=f.data[g],y=f[1],v=a.services.cartesianScales.getDomainIdentifier(f),b=a.services.cartesianScales.getRangeIdentifier(f);x!=null&&n===a.services.cartesianScales.getDomainValue(m)&&r===a.services.cartesianScales.getRangeValue(y)&&(s&&(x=a.model.getStackedData({groups:a.configs.groups})[h][p].data[g]),x!==null&&u.push((d={},d[o]=g,d[v]=m,d[b]=x,d)))})}),this.model.getDisplayData(this.configs.groups).filter(function(c){var h=a.services.cartesianScales.getDomainIdentifier(c),f=a.services.cartesianScales.getRangeIdentifier(c);return u.find(function(p){return p[o]==c[o]&&p[h]==c[h]&&p[f]==c[f]})!==void 0})},e}(Ne),eD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function nD(t,e){var n=this,r=Jr(this._current,t);return function(a){return n._current=r(a),e(n._current)}}var Zd=function(t){eD(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="pie",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("path.slice").transition("legend-hover-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o.data[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.slice").transition("legend-mouseout-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.getInnerRadius=function(){return yt.innerRadius},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this,i=this.getComponentContainer(),o=this.getOptions(),s=o.data.groupMapsTo,l=o.pie.valueMapsTo,u=this.model.getDisplayData().filter(function(U){return U[l]>0}),c=this.computeRadius();this.arc=ua().innerRadius(this.getInnerRadius()).outerRadius(c),this.hoverArc=ua().innerRadius(this.getInnerRadius()).outerRadius(c+yt.hoverArc.outerRadiusOffset);var h=xM().value(function(U){return U[l]}).sort(_.getProperty(o,"pie","sortFunction")).padAngle(yt.padAngle),f=h(u),p=N.appendOrSelect(i,"g.slices").attr("role",ot.GROUP).attr("data-name","slices"),d=p.selectAll("path.slice").data(f,function(U){return U.data[s]});d.exit().attr("opacity",0).remove();var g=d.enter().append("path").classed("slice",!0).attr("opacity",0),m=g.merge(d).attr("class",function(U){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:U.data[s],originalClassName:"slice"})}).style("fill",function(U){return a.model.getFillColor(U.data[s])}).attr("d",this.arc);m.transition().call(function(U){return r.services.transitions.setupTransition({transition:U,name:"pie_slice_enter_update",animate:n})}).attr("opacity",1).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","slice").attr("aria-label",function(U){return U[l]+", "+(_.convertValueToPercentage(U.data[l],u,l)+"%")}).attrTween("d",function(U){return nD.bind(this)(U,a.arc)});var x=o.pie.labels.enabled,y=x?f.filter(function(U){return U.data[l]>0}):[],v=N.appendOrSelect(i,"g.labels").attr("role",ot.GROUP).attr("data-name","labels"),b=v.selectAll("text.pie-label").data(y,function(U){return U.data[s]});b.exit().attr("opacity",0).remove();var O=b.enter().append("text").classed("pie-label",!0),T=[];O.merge(b).style("text-anchor","middle").text(function(U){return o.pie.labels.formatter?o.pie.labels.formatter(U):_.convertValueToPercentage(U.data[l],u,l)+"%"}).datum(function(U){var D=c+7,L=(U.endAngle-U.startAngle)/2+U.startAngle,I=L/Math.PI*180,V=this.getComputedTextLength();return U.textOffsetX=V/2,U.textOffsetY=I>90&&I<270?10:0,U.xPosition=(U.textOffsetX+D)*Math.sin(L),U.yPosition=(U.textOffsetY+D)*-Math.cos(L),U}).attr("transform",function(U,D){var L=y.length,I=(U.endAngle-U.startAngle)*(180/Math.PI);if(D>=L-2&&I<yt.callout.minSliceDegree){var V=void 0,C=void 0;return U.index===L-1?(V=U.xPosition+yt.callout.offsetX+yt.callout.textMargin+U.textOffsetX,C=U.yPosition-yt.callout.offsetY,U.direction=Ar.RIGHT,T.push(U)):(V=U.xPosition-yt.callout.offsetX-U.textOffsetX-yt.callout.textMargin,C=U.yPosition-yt.callout.offsetY,U.direction=Ar.LEFT,T.push(U)),"translate("+V+", "+C+")"}return"translate("+U.xPosition+", "+U.yPosition+")"}),this.renderCallouts(T);var A=_.getProperty(o,"donut")?"donut":"pie",w=_.getProperty(o,A,"alignment"),S=N.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,P=x?yt.xOffset:0,M=x?yt.yOffset:0,k=c+P;w===Ut.CENTER?k=S/2:w===Ut.RIGHT&&(k=S-c-yt.xOffset);var R=c+M;T.length>0&&(R+=yt.yOffsetCallout),i.attr("x",k+7).attr("y",R),this.addEventListeners()},e.prototype.renderCallouts=function(n){var r=N.appendOrSelect(this.getComponentContainer(),"g.callouts").attr("role",ot.GROUP).attr("data-name","callouts"),a=r.selectAll("g.callout").data(n);a.exit().remove();var i=a.enter().append("g").classed("callout",!0).attr("role",ot.GROUP).attr("aria-roledescription","label callout");i.merge(a).datum(function(l){var u=l.xPosition,c=l.yPosition,h=l.direction;return h===Ar.RIGHT?(l.startPos={x:u,y:c+l.textOffsetY},l.endPos={x:u+yt.callout.offsetX,y:c-yt.callout.offsetY+l.textOffsetY},l.intersectPointX=l.endPos.x-yt.callout.horizontalLineLength):(l.startPos={x:u,y:c+l.textOffsetY},l.endPos={x:u-yt.callout.offsetX,y:c-yt.callout.offsetY+l.textOffsetY},l.intersectPointX=l.endPos.x+yt.callout.horizontalLineLength),l});var o=i.append("line").classed("vertical-line",!0);o.merge(r.selectAll("line.vertical-line")).datum(function(l){return B(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(l){return l.startPos.x}).attr("y1",function(l){return l.startPos.y}).attr("x2",function(l){return l.intersectPointX}).attr("y2",function(l){return l.endPos.y});var s=i.append("line").classed("horizontal-line",!0);s.merge(r.selectAll("line.horizontal-line")).datum(function(l){return B(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(l){return l.intersectPointX}).attr("y1",function(l){return l.endPos.y}).attr("x2",function(l){return l.endPos.x}).attr("y2",function(l){return l.endPos.y})},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("path.slice").on("mouseover",function(r,a){var i=B(this);i.classed("hovered",!0).transition("pie_slice_mouseover").call(function(l){return n.services.transitions.setupTransition({transition:l,name:"pie_slice_mouseover"})}).attr("d",n.hoverArc),n.services.events.dispatchEvent(E.Pie.SLICE_MOUSEOVER,{event:r,element:B(this),datum:a});var o=n.getOptions().data.groupMapsTo,s=n.getOptions().pie.valueMapsTo;n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:r,hoveredElement:i,items:[{label:a.data[o],value:a.data[s]}]})}).on("mousemove",function(r,a){var i=B(this);n.services.events.dispatchEvent(E.Pie.SLICE_MOUSEMOVE,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:r})}).on("click",function(r,a){n.services.events.dispatchEvent(E.Pie.SLICE_CLICK,{event:r,element:B(this),datum:a})}).on("mouseout",function(r,a){var i=B(this);i.classed("hovered",!1).transition("pie_slice_mouseout").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"pie_slice_mouseout"})}).attr("d",n.arc),n.services.events.dispatchEvent(E.Pie.SLICE_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:i})})},e.prototype.computeRadius=function(){var n=N.getSVGElementSize(this.parent,{useAttrs:!0}),r=n.width,a=n.height,i=this.getOptions(),o=Math.min(r,a)/2,s=i.pie.labels.enabled;return s?o+yt.radiusOffset:o},e}(ht),rD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kd="4,10 8,6 12,10",Qd="12,6 8,10 4,6",aD=function(t){rD(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="gauge",n.renderType=tt.SVG,n}return e.prototype.getValue=function(){var n,r,a=this.model.getData(),i=(r=(n=a.find(function(o){return o.group==="value"}))===null||n===void 0?void 0:n.value,r!=null?r:null);return i},e.prototype.getValueRatio=function(){var n=_.clamp(this.getValue(),0,100);return n/100},e.prototype.getDelta=function(){var n,r,a=this.model.getData(),i=(r=(n=a.find(function(o){return o.group==="delta"}))===null||n===void 0?void 0:n.value,r!=null?r:null);return i},e.prototype.getArcRatio=function(){var n=this.getOptions(),r=_.getProperty(n,"gauge","type"),a=r===vn.FULL?1:.5;return a},e.prototype.getArcSize=function(){return this.getArcRatio()*Math.PI*2},e.prototype.getStartAngle=function(){var n=this.getArcSize();return n===2*Math.PI?0:-n/2},e.prototype.getArrow=function(n){var r=this.getOptions(),a=_.getProperty(r,"gauge","deltaArrow","direction");switch(a){case Ua.UP:return Kd;case Ua.DOWN:return Qd;default:return n>0?Kd:Qd}},e.prototype.render=function(n){var r=this,a=this.getComponentContainer().attr("width","100%").attr("height","100%"),i=this.getOptions(),o=this.getValue(),s=this.getValueRatio(),l=this.getArcSize(),u=this.getStartAngle(),c=s*l,h=u+c,f=u+l,p=this.computeRadius(),d=this.getInnerRadius();this.backgroundArc=ua().innerRadius(d).outerRadius(p).startAngle(h).endAngle(f),this.arc=ua().innerRadius(d).outerRadius(p).startAngle(u).endAngle(h),N.appendOrSelect(a,"path.arc-background").attr("d",this.backgroundArc);var g=a.selectAll("path.arc-foreground").data([o]),m=g.enter().append("path");m.merge(g).attr("class",this.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:"value",originalClassName:"arc-foreground"})).style("fill",function(b){return _.getProperty(r.getOptions(),"color","scale","value")}).attr("d",this.arc).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(b){return b}),this.drawValueNumber(),this.drawDelta(),g.exit().remove();var x=_.getProperty(i,"gauge","alignment"),y=N.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,v=p;x===Ut.CENTER?v=y/2:x===Ut.RIGHT&&(v=y-p),a.attr("x",v).attr("y",p),this.addEventListeners()},e.prototype.drawValueNumber=function(){var n=this.getComponentContainer(),r=this.getOptions(),a=_.getProperty(r,"gauge","type"),i=this.getValue(),o=this.getDelta(),s=this.computeRadius(),l=_.getProperty(r,"gauge","valueFontSize"),u=_.getProperty(r,"gauge","deltaFontSize"),c=_.getProperty(r,"gauge","numberSpacing"),h=_.getProperty(r,"gauge","showPercentageSymbol"),f=0;a===vn.FULL&&!o?f=u(s):a===vn.SEMI&&o&&(f=-(u(s)+c));var p=N.appendOrSelect(n,"g.gauge-numbers").attr("transform","translate(0, "+f+")"),d=l(s),g=N.appendOrSelect(p,"g.gauge-value-number"),m=_.getProperty(r,"gauge","numberFormatter"),x=g.selectAll("text.gauge-value-number").data([i]);x.enter().append("text").attr("class","gauge-value-number").merge(x).style("font-size",d+"px").attr("text-anchor","middle").text(function(S){return m(S)});var y=N.getSVGElementSize(N.appendOrSelect(n,"text.gauge-value-number"),{useBBox:!0}).width,v=d/2,b=h?"%":"",O=N.appendOrSelect(g,"text.gauge-value-symbol").style("font-size",v+"px").attr("x",y/2).text(b),T=N.getSVGElementSize(O,{useBBox:!0}),A=T.width,w=T.height;O.attr("y","-"+w/2+"px"),g.attr("transform","translate(-"+A/2+", 0)")},e.prototype.drawDelta=function(){var n=this,r=this.getComponentContainer(),a=this.getOptions(),i=this.getDelta(),o=this.computeRadius(),s=i?_.getProperty(a,"gauge","deltaFontSize"):function(){return 0},l=i?_.getProperty(a,"gauge","numberFormatter"):function(){return null},u=_.getProperty(a,"gauge","deltaArrow","size"),c=_.getProperty(a,"gauge","numberSpacing"),h=_.getProperty(a,"gauge","showPercentageSymbol"),f=N.appendOrSelect(r,"g.gauge-numbers"),p=N.appendOrSelect(f,"g.gauge-delta").attr("transform","translate(0, "+(s(o)+c)+")"),d=N.appendOrSelect(p,"text.gauge-delta-number"),g=h?"%":"";d.data(i===null?[]:[i]),d.enter().append("text").classed("gauge-delta-number",!0).merge(d).attr("text-anchor","middle").style("font-size",s(o)+"px").text(function(v){return""+l(v)+g});var m=N.getSVGElementSize(N.appendOrSelect(r,".gauge-delta-number"),{useBBox:!0}).width,x=_.getProperty(a,"gauge","deltaArrow","enabled"),y=p.selectAll("svg.gauge-delta-arrow").data(i!==null&&x?[i]:[]);y.enter().append("svg").merge(y).attr("class","gauge-delta-arrow").attr("x",-u(o)-m/2).attr("y",-u(o)/2-s(o)*.35).attr("width",u(o)).attr("height",u(o)).attr("viewBox","0 0 16 16").each(function(){var v=B(this);N.appendOrSelect(v,"rect.gauge-delta-arrow-backdrop").attr("width","16").attr("height","16").attr("fill","none");var b=_.getProperty(a,"gauge","status");N.appendOrSelect(v,"polygon.gauge-delta-arrow").attr("class",b!==null?"gauge-delta-arrow status--"+b:"").attr("points",n.getArrow(i))}),y.exit().remove(),d.exit().remove()},e.prototype.getInnerRadius=function(){var n=this.computeRadius(),r=_.getProperty(this.getOptions(),"gauge","arcWidth");return n-r},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("path.arc-foreground").on("mouseover",function(r,a){n.services.events.dispatchEvent(E.Gauge.ARC_MOUSEOVER,{event:r,element:B(this),datum:a})}).on("mousemove",function(r,a){var i=B(this);n.services.events.dispatchEvent(E.Gauge.ARC_MOUSEMOVE,{event:r,element:i,datum:a})}).on("click",function(r,a){n.services.events.dispatchEvent(E.Gauge.ARC_CLICK,{event:r,element:B(this),datum:a})}).on("mouseout",function(r,a){var i=B(this);n.services.events.dispatchEvent(E.Gauge.ARC_MOUSEOUT,{event:r,element:i,datum:a})})},e.prototype.computeRadius=function(){var n=this.getOptions(),r=_.getProperty(n,"gauge","type"),a=N.getSVGElementSize(this.parent,{useAttrs:!0}),i=a.width,o=a.height,s=r===vn.SEMI?Math.min(i/2,o):Math.min(i/2,o/2);return s},e}(ht),iD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oD=function(t){iD(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="donut",n.renderType=tt.SVG,n}return e.prototype.render=function(n){var r=this;n===void 0&&(n=!0),t.prototype.render.call(this,n);var a=this;if(this.model.isDataEmpty()){this.getComponentContainer().select("g.center").remove();return}var i=N.appendOrSelect(this.getComponentContainer(),"g.center"),o=this.getOptions(),s=this.computeRadius(),l=_.getProperty(o,"donut","center","label");N.appendOrSelect(i,"text.donut-figure").attr("text-anchor","middle").style("dominant-baseline",function(){return l===null||l===""?"central":"initial"}).style("font-size",function(){return o.donut.center.numberFontSize(s)}).transition().call(function(u){return r.services.transitions.setupTransition({transition:u,name:"donut-figure-enter-update",animate:n})}).tween("text",function(){return a.centerNumberTween(B(this))}),l!==null&&l!==""&&N.appendOrSelect(i,"text.donut-title").attr("text-anchor","middle").style("font-size",function(){return o.donut.center.titleFontSize(s)}).attr("y",o.donut.center.titleYPosition(s)).text(l)},e.prototype.getInnerRadius=function(){var n=this.computeRadius();return n*(3/4)},e.prototype.centerNumberTween=function(n){var r=this.getOptions(),a=_.getProperty(r,"donut","center","number");a===null&&(a=this.model.getDisplayData().reduce(function(l,u){return l+u[r.pie.valueMapsTo]},0));var i=parseInt(n.text().replace(/[, ]+/g,""),10)||0,o;i%1==0&&a%1==0?o=xl:o=_e;var s=o(i,a);return function(l){var u=r.donut.center.numberFormatter;n.text(u(s(l)))}},e}(Zd),sD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),te=function(t){sD(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="skeleton",n}return e.prototype.render=function(){var n=_.getProperty(this.getOptions(),"data","loading");n?this.renderSkeleton(n):this.removeSkeleton()},e.prototype.renderSkeleton=function(n){if(this.configs.skeleton===Lt.GRID)this.renderGridSkeleton(n);else if(this.configs.skeleton===Lt.VERT_OR_HORIZ)this.renderVertOrHorizSkeleton(n);else if(this.configs.skeleton===Lt.PIE)this.renderPieSkeleton(n);else if(this.configs.skeleton===Lt.DONUT)this.renderDonutSkeleton(n);else throw new Error('"'+this.configs.skeleton+'" is not a valid Skeleton type.')},e.prototype.renderGridSkeleton=function(n){this.setScales(),this.drawBackdrop(n),this.drawXGrid(n),this.drawYGrid(n),n&&this.setShimmerEffect("shimmer-lines")},e.prototype.renderVertOrHorizSkeleton=function(n){var r=this.services.cartesianScales.getOrientation();this.setScales(),this.drawBackdrop(n),r===kt.VERTICAL&&this.drawYGrid(n),r===kt.HORIZONTAL&&this.drawXGrid(n),this.setShimmerEffect("shimmer-lines")},e.prototype.renderPieSkeleton=function(n){var r=this.computeOuterRadius(),a=0;this.drawRing(r,a,n),n&&this.setShimmerEffect("shimmer-areas")},e.prototype.renderDonutSkeleton=function(n){var r=this.computeOuterRadius(),a=this.computeInnerRadius();this.drawRing(r,a,n),n&&this.setShimmerEffect("shimmer-areas")},e.prototype.setScales=function(){var n=this.services.cartesianScales.getMainXScale().range(),r=this.services.cartesianScales.getMainYScale().range();this.xScale=Ye().domain([0,1]).range(n),this.yScale=Ye().domain([0,1]).range(r)},e.prototype.drawBackdrop=function(n){var r=this.parent,a=N.getSVGElementSize(r,{useAttrs:!0}),i=a.width,o=a.height;this.backdrop=N.appendOrSelect(r,"svg.chart-skeleton.DAII").attr("width",i).attr("height",o);var s=N.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");s.attr("width","100%").attr("height","100%");var l=this.xScale.range(),u=l[0];l[1];var c=this.yScale.range();c[0];var h=c[1];this.backdrop.merge(s).attr("x",u).attr("y",h),s.classed("shimmer-effect-lines",n).classed("empty-state-lines",!n).style("stroke",n?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.drawXGrid=function(n){var r=this.backdrop.attr("width"),a=_.getProperty(this.getOptions(),"grid","x","numberOfTicks"),i=this.xScale.ticks(a).map(function(l){return l*r}),o=N.appendOrSelect(this.backdrop,"g.x.skeleton"),s=o.selectAll("line").data(i);s.enter().append("line").merge(s).attr("x1",function(l){return l}).attr("x2",function(l){return l}).attr("y1",0).attr("y2","100%"),o.selectAll("line").classed("shimmer-effect-lines",n).classed("empty-state-lines",!n).style("stroke",n?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.drawYGrid=function(n){var r=this.backdrop.attr("height"),a=this.backdrop.attr("width"),i=_.getProperty(this.getOptions(),"grid","y","numberOfTicks"),o=this.xScale.ticks(i).map(function(u){return u*r}),s=N.appendOrSelect(this.backdrop,"g.y.skeleton"),l=s.selectAll("line").data(o);l.enter().append("line").merge(l).attr("x1",0).attr("x2",a).attr("y1",function(u){return u}).attr("y2",function(u){return u}),s.selectAll("line").classed("shimmer-effect-lines",n).classed("empty-state-lines",!n).style("stroke",n?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.drawRing=function(n,r,a){a===void 0&&(a=!0);var i=this.parent,o=N.getSVGElementSize(i,{useAttrs:!0}),s=o.width,l=o.height,u=N.appendOrSelect(i,"svg.chart-skeleton").attr("width",s).attr("height",l),c=r===0?"pie":"donut",h=_.getProperty(this.getOptions(),c,"alignment");N.appendOrSelect(u,"rect.chart-skeleton-area-container").attr("width",s).attr("height",l).attr("fill","none");var f=ua().innerRadius(r).outerRadius(n).startAngle(0).endAngle(Math.PI*2),p=n+Math.abs(yt.radiusOffset),d=n+(Math.min(s,l)-n*2)/2,g=N.appendOrSelect(u,"path").attr("class","skeleton-area-shape").attr("transform","translate("+p+", "+d+")").attr("d",f).classed("shimmer-effect-areas",a).classed("empty-state-areas",!a).style("fill",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-areas")+")":null),m=n+yt.xOffset;h===Ut.CENTER?m=s/2:h===Ut.RIGHT&&(m=s-n-yt.xOffset);var x=n+yt.yOffset;g.attr("transform","translate("+m+", "+x+")")},e.prototype.computeOuterRadius=function(){var n=N.getSVGElementSize(this.parent,{useAttrs:!0}),r=n.width,a=n.height,i=Math.min(r,a)/2;return i+yt.radiusOffset},e.prototype.computeInnerRadius=function(){return this.computeOuterRadius()*(3/4)},e.prototype.setShimmerEffect=function(n){var r=2e3,a=1e3,i=.2,o="stop-bg-shimmer",s="stop-shimmer",l=this.parent.select(".chart-skeleton"),u=N.getSVGElementSize(this.parent,{useAttrs:!0}).width,c=0,h=u,f=N.appendOrSelect(l,"defs").lower(),p=N.appendOrSelect(f,"linearGradient").attr("id",this.services.domUtils.generateElementIDString(n)).attr("class",n).attr("x1",c-3*i*u).attr("x2",h).attr("y1",0).attr("y2",0).attr("gradientUnits","userSpaceOnUse").attr("gradientTransform","translate(0, 0)"),d=`
			<stop class="`+o+'" offset="'+c+`"></stop>
			<stop class="`+s+'" offset="'+(c+i)+`"></stop>
			<stop class="`+o+'" offset="'+(c+2*i)+`"></stop>
		`;p.html(d),g();function g(){p.attr("gradientTransform","translate("+(c-3*i*u)+", 0)").transition().duration(r).delay(a).ease(jg).attr("gradientTransform","translate("+(h+3*i*u)+", 0)").on("end",g)}},e.prototype.removeSkeleton=function(){var n=this.parent.select(".chart-skeleton");n.remove()},e}(ht),lD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uD=function(t){lD(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="skeleton-lines",n}return e.prototype.render=function(){var n=_.getProperty(this.getOptions(),"data","loading"),r=!_.getProperty(this.getOptions(),"grid","x","enabled")&&!_.getProperty(this.getOptions(),"grid","y","enabled")&&!_.getProperty(this.getOptions(),"axes","bottom","visible")&&!_.getProperty(this.getOptions(),"axes","left","visible");n&&!r?t.prototype.renderGridSkeleton.call(this,n):n&&r?this.renderSparklineSkeleton(n):this.removeSkeleton()},e.prototype.renderSparklineSkeleton=function(n){this.setScales(),this.drawBackdrop(n),this.drawSparkline(n),this.updateBackdropStyle(),n&&this.setShimmerEffect("shimmer-lines")},e.prototype.drawSparkline=function(n){var r=this.backdrop.attr("width"),a=[100],i=N.appendOrSelect(this.backdrop,"g.y.skeleton"),o=i.selectAll("line").data(a);o.enter().append("line").merge(o).attr("x1",0).attr("x2",r).attr("y1",function(s){return s}).attr("y2",function(s){return s}),i.selectAll("line").classed("shimmer-effect-lines",n).classed("empty-state-lines",!n).style("stroke",n?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.updateBackdropStyle=function(){var n=this.parent;this.backdrop=N.appendOrSelect(n,"svg.chart-skeleton.DAII");var r=N.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");r.classed("shimmer-effect-lines",!1).classed("shimmer-effect-sparkline",!0).style("stroke",null)},e}(te);function cD(t,e){return t.parent===e.parent?1:2}function fD(t){return t.reduce(hD,0)/t.length}function hD(t,e){return t+e.x}function pD(t){return 1+t.reduce(dD,0)}function dD(t,e){return Math.max(t,e.y)}function vD(t){for(var e;e=t.children;)t=e[0];return t}function gD(t){for(var e;e=t.children;)t=e[e.length-1];return t}function mD(){var t=cD,e=1,n=1,r=!1;function a(i){var o,s=0;i.eachAfter(function(f){var p=f.children;p?(f.x=fD(p),f.y=pD(p)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var l=vD(i),u=gD(i),c=l.x-t(l,u)/2,h=u.x+t(u,l)/2;return i.eachAfter(r?function(f){f.x=(f.x-i.x)*e,f.y=(i.y-f.y)*n}:function(f){f.x=(f.x-c)/(h-c)*e,f.y=(1-(i.y?f.y/i.y:1))*n})}return a.separation=function(i){return arguments.length?(t=i,a):t},a.size=function(i){return arguments.length?(r=!1,e=+i[0],n=+i[1],a):r?null:[e,n]},a.nodeSize=function(i){return arguments.length?(r=!0,e=+i[0],n=+i[1],a):r?[e,n]:null},a}function yD(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function _D(){return this.eachAfter(yD)}function xD(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function bD(t,e){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(t.call(e,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function OD(t,e){for(var n=this,r=[n],a=[],i,o,s,l=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,s=i.length;o<s;++o)r.push(i[o]);for(;n=a.pop();)t.call(e,n,++l,this);return this}function TD(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function wD(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,a=r&&r.length;--a>=0;)n+=r[a].value;e.value=n})}function ED(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function SD(t){for(var e=this,n=MD(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r}function MD(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;for(t=n.pop(),e=r.pop();t===e;)a=t,t=n.pop(),e=r.pop();return a}function AD(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function CD(){return Array.from(this)}function PD(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function DD(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*LD(){var t=this,e,n=[t],r,a,i;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);while(n.length)}function ga(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=ID)):e===void 0&&(e=kD);for(var n=new ma(t),r,a=[n],i,o,s,l;r=a.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)a.push(i=o[s]=new ma(o[s])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(BD)}function RD(){return ga(this).eachBefore(ND)}function kD(t){return t.children}function ID(t){return Array.isArray(t)?t[1]:null}function ND(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function BD(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ma(t){this.data=t,this.depth=this.height=0,this.parent=null}ma.prototype=ga.prototype={constructor:ma,count:_D,each:xD,eachAfter:OD,eachBefore:bD,find:TD,sum:wD,sort:ED,path:SD,ancestors:AD,descendants:CD,leaves:PD,links:DD,copy:RD,[Symbol.iterator]:LD};function UD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function VD(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}function GD(t){for(var e=0,n=(t=VD(Array.from(t))).length,r=[],a,i;e<n;)a=t[e],i&&Jd(i,a)?++e:(i=HD(r=FD(r,a)),e=0);return i}function FD(t,e){var n,r;if(wu(e,t))return[e];for(n=0;n<t.length;++n)if(to(e,t[n])&&wu(ya(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(to(ya(t[n],t[r]),e)&&to(ya(t[n],e),t[r])&&to(ya(t[r],e),t[n])&&wu(tv(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function to(t,e){var n=t.r-e.r,r=e.x-t.x,a=e.y-t.y;return n<0||n*n<r*r+a*a}function Jd(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,a=e.y-t.y;return n>0&&n*n>r*r+a*a}function wu(t,e){for(var n=0;n<e.length;++n)if(!Jd(t,e[n]))return!1;return!0}function HD(t){switch(t.length){case 1:return $D(t[0]);case 2:return ya(t[0],t[1]);case 3:return tv(t[0],t[1],t[2])}}function $D(t){return{x:t.x,y:t.y,r:t.r}}function ya(t,e){var n=t.x,r=t.y,a=t.r,i=e.x,o=e.y,s=e.r,l=i-n,u=o-r,c=s-a,h=Math.sqrt(l*l+u*u);return{x:(n+i+l/h*c)/2,y:(r+o+u/h*c)/2,r:(h+a+s)/2}}function tv(t,e,n){var r=t.x,a=t.y,i=t.r,o=e.x,s=e.y,l=e.r,u=n.x,c=n.y,h=n.r,f=r-o,p=r-u,d=a-s,g=a-c,m=l-i,x=h-i,y=r*r+a*a-i*i,v=y-o*o-s*s+l*l,b=y-u*u-c*c+h*h,O=p*d-f*g,T=(d*b-g*v)/(O*2)-r,A=(g*m-d*x)/O,w=(p*v-f*b)/(O*2)-a,S=(f*x-p*m)/O,P=A*A+S*S-1,M=2*(i+T*A+w*S),k=T*T+w*w-i*i,R=-(P?(M+Math.sqrt(M*M-4*P*k))/(2*P):k/M);return{x:r+T+A*R,y:a+w+S*R,r:R}}function ev(t,e,n){var r=t.x-e.x,a,i,o=t.y-e.y,s,l,u=r*r+o*o;u?(i=e.r+n.r,i*=i,l=t.r+n.r,l*=l,i>l?(a=(u+l-i)/(2*u),s=Math.sqrt(Math.max(0,l/u-a*a)),n.x=t.x-a*r-s*o,n.y=t.y-a*o+s*r):(a=(u+i-l)/(2*u),s=Math.sqrt(Math.max(0,i/u-a*a)),n.x=e.x+a*r-s*o,n.y=e.y+a*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function nv(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,a=e.y-t.y;return n>0&&n*n>r*r+a*a}function rv(t){var e=t._,n=t.next._,r=e.r+n.r,a=(e.x*n.r+n.x*e.r)/r,i=(e.y*n.r+n.y*e.r)/r;return a*a+i*i}function eo(t){this._=t,this.next=null,this.previous=null}function zD(t){if(!(a=(t=UD(t)).length))return 0;var e,n,r,a,i,o,s,l,u,c,h;if(e=t[0],e.x=0,e.y=0,!(a>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(a>2))return e.r+n.r;ev(n,e,r=t[2]),e=new eo(e),n=new eo(n),r=new eo(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<a;++s){ev(e._,n._,r=t[s]),r=new eo(r),l=n.next,u=e.previous,c=n._.r,h=e._.r;do if(c<=h){if(nv(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}c+=l._.r,l=l.next}else{if(nv(u._,r._)){e=u,e.next=n,n.previous=e,--s;continue t}h+=u._.r,u=u.previous}while(l!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,i=rv(e);(r=r.next)!==n;)(o=rv(r))<i&&(e=r,i=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=GD(e),s=0;s<a;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function WD(t){return t==null?null:av(t)}function av(t){if(typeof t!="function")throw new Error;return t}function Rn(){return 0}function pr(t){return function(){return t}}function jD(t){return Math.sqrt(t.value)}function qD(){var t=null,e=1,n=1,r=Rn;function a(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(iv(t)).eachAfter(Eu(r,.5)).eachBefore(ov(1)):i.eachBefore(iv(jD)).eachAfter(Eu(Rn,1)).eachAfter(Eu(r,i.r/Math.min(e,n))).eachBefore(ov(Math.min(e,n)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(t=WD(i),a):t},a.size=function(i){return arguments.length?(e=+i[0],n=+i[1],a):[e,n]},a.padding=function(i){return arguments.length?(r=typeof i=="function"?i:pr(+i),a):r},a}function iv(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Eu(t,e){return function(n){if(r=n.children){var r,a,i=r.length,o=t(n)*e||0,s;if(o)for(a=0;a<i;++a)r[a].r+=o;if(s=zD(r),o)for(a=0;a<i;++a)r[a].r-=o;n.r=s+o}}}function ov(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function YD(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function XD(t,e,n,r,a){for(var i=t.children,o,s=-1,l=i.length,u=t.value&&(r-e)/t.value;++s<l;)o=i[s],o.y0=n,o.y1=a,o.x0=e,o.x1=e+=o.value*u}function ZD(t,e){return t.parent===e.parent?1:2}function Su(t){var e=t.children;return e?e[0]:t.t}function Mu(t){var e=t.children;return e?e[e.length-1]:t.t}function KD(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function QD(t){for(var e=0,n=0,r=t.children,a=r.length,i;--a>=0;)i=r[a],i.z+=e,i.m+=e,e+=i.s+(n+=i.c)}function JD(t,e,n){return t.a.parent===e.parent?t.a:n}function no(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}no.prototype=Object.create(ma.prototype);function tL(t){for(var e=new no(t,0),n,r=[e],a,i,o,s;n=r.pop();)if(i=n._.children)for(n.children=new Array(s=i.length),o=s-1;o>=0;--o)r.push(a=n.children[o]=new no(i[o],o)),a.parent=n;return(e.parent=new no(null,0)).children=[e],e}function eL(){var t=ZD,e=1,n=1,r=null;function a(u){var c=tL(u);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var h=u,f=u,p=u;u.eachBefore(function(y){y.x<h.x&&(h=y),y.x>f.x&&(f=y),y.depth>p.depth&&(p=y)});var d=h===f?1:t(h,f)/2,g=d-h.x,m=e/(f.x+d+g),x=n/(p.depth||1);u.eachBefore(function(y){y.x=(y.x+g)*m,y.y=y.depth*x})}return u}function i(u){var c=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(c){QD(u);var p=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-p):u.z=p}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var f=u,p=u,d=c,g=f.parent.children[0],m=f.m,x=p.m,y=d.m,v=g.m,b;d=Mu(d),f=Su(f),d&&f;)g=Su(g),p=Mu(p),p.a=u,b=d.z+y-f.z-m+t(d._,f._),b>0&&(KD(JD(d,u,h),u,b),m+=b,x+=b),y+=d.m,m+=f.m,v+=g.m,x+=p.m;d&&!Mu(p)&&(p.t=d,p.m+=y-x),f&&!Su(g)&&(g.t=f,g.m+=m-v,h=u)}return h}function l(u){u.x*=e,u.y=u.depth*n}return a.separation=function(u){return arguments.length?(t=u,a):t},a.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],a):r?null:[e,n]},a.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],a):r?[e,n]:null},a}function nL(t,e,n,r,a){for(var i=t.children,o,s=-1,l=i.length,u=t.value&&(a-n)/t.value;++s<l;)o=i[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var rL=(1+Math.sqrt(5))/2;function aL(t,e,n,r,a,i){for(var o=[],s=e.children,l,u,c=0,h=0,f=s.length,p,d,g=e.value,m,x,y,v,b,O,T;c<f;){p=a-n,d=i-r;do m=s[h++].value;while(!m&&h<f);for(x=y=m,O=Math.max(d/p,p/d)/(g*t),T=m*m*O,b=Math.max(y/T,T/x);h<f;++h){if(m+=u=s[h].value,u<x&&(x=u),u>y&&(y=u),T=m*m*O,v=Math.max(y/T,T/x),v>b){m-=u;break}b=v}o.push(l={value:m,dice:p<d,children:s.slice(c,h)}),l.dice?XD(l,n,r,a,g?r+=d*m/g:i):nL(l,n,r,g?n+=p*m/g:a,i),g-=m,c=h}return o}var iL=function t(e){function n(r,a,i,o,s){aL(e,r,a,i,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(rL);function oL(){var t=iL,e=!1,n=1,r=1,a=[0],i=Rn,o=Rn,s=Rn,l=Rn,u=Rn;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),a=[0],e&&f.eachBefore(YD),f}function h(f){var p=a[f.depth],d=f.x0+p,g=f.y0+p,m=f.x1-p,x=f.y1-p;m<d&&(d=m=(d+m)/2),x<g&&(g=x=(g+x)/2),f.x0=d,f.y0=g,f.x1=m,f.y1=x,f.children&&(p=a[f.depth+1]=i(f)/2,d+=u(f)-p,g+=o(f)-p,m-=s(f)-p,x-=l(f)-p,m<d&&(d=m=(d+m)/2),x<g&&(g=x=(g+x)/2),t(f,d,g,m,x))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=av(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(i=typeof f=="function"?f:pr(+f),c):i},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:pr(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:pr(+f),c):s},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:pr(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:pr(+f),c):u},c}var sL=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dr=6,lL=function(t){sL(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="tree",n.renderType=tt.SVG,n}return e.prototype.getLongestLabel=function(n){var r=this,a="";return n.forEach(function(i){var o=i.children?r.getLongestLabel(i.children):"";(o.length>a.length||i.name.length>a.length)&&(a=o.length>i.name.length?o:i.name)}),a},e.prototype.getMockLabelWidth=function(n,r){var a=n.append("text").attr("dy","0.31em").attr("x",0).attr("text-anchor","end").text(r),i=N.getSVGElementSize(a.node(),{useBBox:!0}).width;return a.remove(),i},e.prototype.render=function(n){var r=this,a=this.getComponentContainer();a.html("");var i=N.getSVGElementSize(this.parent,{useAttrs:!0}),o=i.width,s=i.height;if(!(o<1||s<1)){var l=this.model.getOptions(),u=this.model.getDisplayData(),c=_.getProperty(l,"tree","rootTitle")||"Tree",h=this.getMockLabelWidth(a,c),f=this.getLongestLabel(u),p=this.getMockLabelWidth(a,f),d={top:0,right:0,bottom:0,left:h>0?h+dr:30-dr},g=ga({name:c,children:u}),m=10,x=o/6,y=function(S){var P=g.descendants().reverse(),M=g.links(),k=g,R=g;g.eachBefore(function(H){H.x<k.x&&(k=H),H.x>R.x&&(R=H)});var U=R.x-k.x,D=a.transition().call(function(H){return r.services.transitions.setupTransition({transition:H,name:"tree-update-viewbox",animate:!0})}).attr("viewBox",[-d.left,k.x,o,U]),L=w.selectAll("g").data(P,function(H){return H.id}),I=r,V=L.enter().append("g").attr("transform",function(){return"translate("+S.y0+","+S.x0+")"}).attr("class",function(H){return H.depth!==0&&H.children&&H.children.length>0?"clickable":null}).on("mouseover",function(H,X){I.services.events.dispatchEvent(E.Tree.NODE_MOUSEOVER,{event:H,element:B(this),datum:X})}).on("click",function(H,X){X.depth!==0&&(X.children=X.children?null:X._children,y(X)),I.services.events.dispatchEvent(E.Tree.NODE_CLICK,{event:H,element:B(this),datum:X})}).on("mouseout",function(H,X){I.services.events.dispatchEvent(E.Tree.NODE_MOUSEOUT,{event:H,element:B(this),datum:X})});V.append("circle").attr("r",2.5).attr("class",function(H){return H._children?"parent":"child"}).attr("stroke-width",10),V.append("text").attr("dy","0.31em").attr("x",function(H){return H._children?-dr:dr}).attr("text-anchor",function(H){return H._children?"end":"start"}).text(function(H){return H.data.name}).clone(!0).attr("class","text-stroke").lower(),L.merge(V).transition(D).attr("transform",function(H){return"translate("+H.y+","+H.x+")"}).attr("fill-opacity",1).attr("stroke-opacity",1),L.exit().transition(D).remove().attr("transform",function(){return"translate("+S.y+","+S.x+")"}).attr("fill-opacity",0).attr("stroke-opacity",0);var C=A.selectAll("path").data(M,function(H){return H.target.id}),G=C.enter().append("path").attr("d",function(H){var X={x:S.x0,y:S.y0};return T({source:X,target:X})});C.merge(G).transition(D).attr("d",T),C.exit().transition(D).remove().attr("d",function(){var H={x:S.x,y:S.y};return T({source:H,target:H})}),g.eachBefore(function(H){H.x0=H.x,H.y0=H.y})},v=g.descendants(),b=v[v.length-1].depth,O=_.getProperty(l,"tree","type")===Ba.DENDROGRAM?mD().size([s,o-p-b*dr-h]):eL().nodeSize([m,x]).size([s,o-p-b*dr-h]),T=Gp().x(function(S){return S.y}).y(function(S){return S.x});g.x0=x/2,g.y0=0,g.descendants().forEach(function(S,P){S.id=P,S._children=S.children}),O(g),a.attr("viewBox",[-d.left,-d.top,o,m]).style("user-select","none");var A=a.append("g").attr("class","links"),w=a.append("g").attr("class","nodes");y(g)}},e}(ht),uL="#000000",cL="#ffffff",fL="#fcf4d6",hL="#fddc69",pL="#f1c21b",dL="#d2a106",vL="#b28600",gL="#8e6a00",mL="#684e00",yL="#483700",_L="#302400",xL="#1c1500",bL={10:fL,20:hL,30:pL,40:dL,50:vL,60:gL,70:mL,80:yL,90:_L,100:xL},OL="#fff2e8",TL="#ffd9be",wL="#ffb784",EL="#ff832b",SL="#eb6200",ML="#ba4e00",AL="#8a3800",CL="#5e2900",PL="#3e1a00",DL="#231000",LL={10:OL,20:TL,30:wL,40:EL,50:SL,60:ML,70:AL,80:CL,90:PL,100:DL},RL="#fff1f1",kL="#ffd7d9",IL="#ffb3b8",NL="#ff8389",BL="#fa4d56",UL="#da1e28",VL="#a2191f",GL="#750e13",FL="#520408",HL="#2d0709",$L={10:RL,20:kL,30:IL,40:NL,50:BL,60:UL,70:VL,80:GL,90:FL,100:HL},zL="#fff0f7",WL="#ffd6e8",jL="#ffafd2",qL="#ff7eb6",YL="#ee5396",XL="#d02670",ZL="#9f1853",KL="#740937",QL="#510224",JL="#2a0a18",tR={10:zL,20:WL,30:jL,40:qL,50:YL,60:XL,70:ZL,80:KL,90:QL,100:JL},eR="#f6f2ff",nR="#e8daff",rR="#d4bbff",aR="#be95ff",iR="#a56eff",oR="#8a3ffc",sR="#6929c4",lR="#491d8b",uR="#31135e",cR="#1c0f30",fR={10:eR,20:nR,30:rR,40:aR,50:iR,60:oR,70:sR,80:lR,90:uR,100:cR},hR="#edf5ff",pR="#d0e2ff",dR="#a6c8ff",vR="#78a9ff",gR="#4589ff",mR="#0f62fe",yR="#0043ce",_R="#002d9c",xR="#001d6c",bR="#001141",OR={10:hR,20:pR,30:dR,40:vR,50:gR,60:mR,70:yR,80:_R,90:xR,100:bR},TR="#e5f6ff",wR="#bae6ff",ER="#82cfff",SR="#33b1ff",MR="#1192e8",AR="#0072c3",CR="#00539a",PR="#003a6d",DR="#012749",LR="#061727",RR={10:TR,20:wR,30:ER,40:SR,50:MR,60:AR,70:CR,80:PR,90:DR,100:LR},kR="#d9fbfb",IR="#9ef0f0",NR="#3ddbd9",BR="#08bdba",UR="#009d9a",VR="#007d79",GR="#005d5d",FR="#004144",HR="#022b30",$R="#081a1c",zR={10:kR,20:IR,30:NR,40:BR,50:UR,60:VR,70:GR,80:FR,90:HR,100:$R},WR="#defbe6",jR="#a7f0ba",qR="#6fdc8c",YR="#42be65",XR="#24a148",ZR="#198038",KR="#0e6027",QR="#044317",JR="#022d0d",tk="#071908",ek={10:WR,20:jR,30:qR,40:YR,50:XR,60:ZR,70:KR,80:QR,90:JR,100:tk},nk="#f2f4f8",rk="#dde1e6",ak="#c1c7cd",ik="#a2a9b0",ok="#878d96",sk="#697077",lk="#4d5358",uk="#343a3f",ck="#21272a",fk="#121619",hk={10:nk,20:rk,30:ak,40:ik,50:ok,60:sk,70:lk,80:uk,90:ck,100:fk},pk="#f4f4f4",dk="#e0e0e0",vk="#c6c6c6",gk="#a8a8a8",mk="#8d8d8d",yk="#6f6f6f",_k="#525252",xk="#393939",bk="#262626",Ok="#161616",Tk={10:pk,20:dk,30:vk,40:gk,50:mk,60:yk,70:_k,80:xk,90:bk,100:Ok},wk="#f7f3f2",Ek="#e5e0df",Sk="#cac5c4",Mk="#ada8a8",Ak="#8f8b8b",Ck="#726e6e",Pk="#565151",Dk="#3c3838",Lk="#272525",Rk="#171414",kk={10:wk,20:Ek,30:Sk,40:Mk,50:Ak,60:Ck,70:Pk,80:Dk,90:Lk,100:Rk},sv={black:{100:uL},blue:OR,coolGray:hk,cyan:RR,gray:Tk,green:ek,magenta:tR,orange:LL,purple:fR,red:$L,teal:zR,warmGray:kk,white:{0:cL},yellow:bL},Ik=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nk=function(t){if(!t)return null;for(var e=0,n=Object.keys(sv);e<n.length;e++)for(var r=n[e],a=sv[r],i=0,o=Object.keys(a);i<o.length;i++){var s=o[i],l=a[s];if(l===t)return s}return null},lv=function(){var t=B(this.parentNode).select("rect.leaf"),e=getComputedStyle(t.node(),null).getPropertyValue("fill"),n=qe(e),r;if(n&&(r=Nk(n?n.hex():null)),r==null){var a=vl(n).l;r=Math.abs(a*100-100)}return r>50?"white":"black"},Bk=0,Uk=function(t){Ik(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="treemap",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("g[data-name='leaf']").transition("legend-hover-treemap").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-treemap"})}).attr("opacity",function(i){return i.parent.data.name===a.datum().name?1:.3})},n.handleLegendMouseOut=function(r){n.parent.selectAll("g[data-name='leaf']").transition("legend-mouseout-treemap").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-treemap"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer(),i=this.model.getData(),o=this.model.getDisplayData(),s=this.model.getOptions(),l=_.getProperty(window,"location"),u=N.getSVGElementSize(a,{useAttrs:!0}),c=u.width,h=u.height,f=ga({name:s.title||"Treemap",children:o}).sum(function(v){return v.value}).sort(function(v,b){return b.value-v.value});Yr(i,function(v){return Yr(v.children,function(b){return b.value})});var p=oL().size([c,h]).paddingInner(1).paddingOuter(0).round(!0)(f);this.services.transitions;var d=a.selectAll("g[data-name='leaf']").data(p.leaves(),function(v){return v.data.name});d.exit().attr("opacity",0).remove();var g=d.enter().append("g").attr("data-name","leaf").attr("data-uid",function(){return Bk++}),m=g.merge(d);m.attr("data-name","leaf").transition().call(function(v){return r.services.transitions.setupTransition({transition:v,name:"treemap-group-update",animate:n})}).attr("transform",function(v){return"translate("+v.x0+","+v.y0+")"});var x=m.selectAll("rect.leaf").data(function(v){return[v]});x.exit().attr("width",0).attr("height",0).remove();var y=x.enter().append("rect").classed("leaf",!0);y.merge(x).attr("width",0).attr("height",0).attr("id",function(){var v=B(this.parentNode).attr("data-uid");return s.style.prefix+"-leaf-"+v}).attr("class",function(v){for(;v.depth>1;)v=v.parent;return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:v.data.name,originalClassName:"leaf"})}).transition().call(function(v){return r.services.transitions.setupTransition({transition:v,name:"treemap-leaf-update-enter",animate:n})}).attr("width",function(v){return v.x1-v.x0}).attr("height",function(v){return v.y1-v.y0}).style("fill",function(v){for(;v.depth>1;)v=v.parent;return r.model.getFillColor(v.data.name)}),m.selectAll("clipPath").data(function(v){return v.data.showLabel!==!0?[]:[1]},function(v){return v}).join(function(v){v.append("clipPath").attr("id",function(){var b=B(this.parentNode).attr("data-uid");return s.style.prefix+"-clip-"+b}).append("use").attr("xlink:href",function(){var b=B(this.parentNode.parentNode).attr("data-uid"),O=s.style.prefix+"-leaf-"+b;return new URL("#"+O,l)+""})},function(v){return null},function(v){return v.remove()}),m.selectAll("text").data(function(v){if(v.data.showLabel!==!0)return[];for(var b=v;b.depth>1;)b=b.parent;var O=vl(r.model.getFillColor(b.data.name));return[{text:v.data.name,color:O.l<.5?"white":"black"}]},function(v){return v}).join(function(v){var b=v.append("text").text(function(O){return O.text}).style("fill",lv).attr("x",7).attr("y",18);l&&b.attr("clip-path",function(){var O=B(this.parentNode).attr("data-uid"),T=s.style.prefix+"-clip-"+O;return"url("+(new URL("#"+T,l)+"")+")"})},function(v){return v.text(function(b){return b.text}).style("fill",lv)},function(v){return v.remove()}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("rect.leaf").on("mouseover",function(r,a){for(var i=B(this),o=getComputedStyle(this,null).getPropertyValue("fill"),s=a;s.depth>1;)s=s.parent;i.transition("graph_element_mouseover_fill_update").call(function(l){return n.services.transitions.setupTransition({transition:l,name:"graph_element_mouseover_fill_update"})}).style("fill",function(l){var u=n.model.getFillColor(l.parent.data.name);return u&&(o=u),qe(o).darker(.7).toString()}),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:r,hoveredElement:i,items:[{color:o,label:s.data.name,bold:!0},{label:a.data.name,value:a.data.value}]}),n.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEOVER,{event:r,element:i,datum:a})}).on("mousemove",function(r,a){var i=B(this);n.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEMOVE,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:r})}).on("click",function(r,a){n.services.events.dispatchEvent(E.Treemap.LEAF_CLICK,{event:r,element:B(this),datum:a})}).on("mouseout",function(r,a){var i=B(this);i.classed("hovered",!1);for(var o=a;o.depth>1;)o=o.parent;i.transition().call(function(s){return n.services.transitions.setupTransition({transition:s,name:"graph_element_mouseout_fill_update"})}).style("fill",function(s){return n.model.getFillColor(s.parent.data.name)}),n.services.events.dispatchEvent(E.Treemap.LEAF_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:i})})},e}(ht);function uv(t){var e=Vk(cv(t),360);return cn(e,[0,10])||cn(e,[350,0])?{textAnchor:Me.START,dominantBaseline:Ae.MIDDLE}:cn(e,[10,80])?{textAnchor:Me.START,dominantBaseline:Ae.HANGING}:cn(e,[80,100])?{textAnchor:Me.MIDDLE,dominantBaseline:Ae.HANGING}:cn(e,[100,170])?{textAnchor:Me.END,dominantBaseline:Ae.HANGING}:cn(e,[170,190])?{textAnchor:Me.END,dominantBaseline:Ae.MIDDLE}:cn(e,[190,260])?{textAnchor:Me.END,dominantBaseline:Ae.BASELINE}:cn(e,[260,280])?{textAnchor:Me.MIDDLE,dominantBaseline:Ae.BASELINE}:{textAnchor:Me.START,dominantBaseline:Ae.BASELINE}}function Vk(t,e){return(t%e+e)%e}function cn(t,e){var n=e[0],r=e[1];return t>=n&&t<=r}function cv(t){return t*(180/Math.PI)}function Ct(t,e,n){n===void 0&&(n={x:0,y:0});var r=e*Math.cos(t)+n.x,a=e*Math.sin(t)+n.y;return{x:isNaN(r)?0:r,y:isNaN(a)?0:a}}function Gk(t,e){return e*Math.sin(t-Math.PI/2)}var Fk=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hk=function(t){Fk(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="radar",n.renderType=tt.SVG,n.getLabelDimensions=function(r){var a=N.appendOrSelect(n.getComponentContainer(),"g.tmp-tick"),i=N.appendOrSelect(a,"text").text(r),o=N.getSVGElementSize(i.node(),{useBBox:!0}),s=o.width,l=o.height;return a.remove(),{width:s,height:l}},n.normalizeFlatData=function(r){var a=n.getOptions(),i=_.getProperty(a,"radar","axes"),o=i.angle,s=i.value,l=_.getProperty(a,"data","groupMapsTo"),u=_.flatMapDeep(n.uniqueKeys.map(function(c){return n.uniqueGroups.map(function(h){var f;return f={},f[o]=c,f[l]=h,f[s]=null,f})}));return _.merge(u,r)},n.normalizeGroupedData=function(r){var a=n.getOptions(),i=_.getProperty(a,"radar","axes"),o=i.angle,s=i.value,l=_.getProperty(a,"data","groupMapsTo");return r.map(function(u){var c=u.name,h=u.data,f=n.uniqueKeys.map(function(p){var d;return d={},d[l]=c,d[o]=p,d[s]=null,d});return{name:c,data:_.merge(f,h)}})},n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("g.blobs path").transition("legend-hover-blob").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-blob"})}).style("fill-opacity",function(i){return i.name!==a.datum().name?an.opacity.unselected:an.opacity.selected}).style("stroke-opacity",function(i){return i.name!==a.datum().name?an.opacity.unselected:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("g.blobs path").transition("legend-mouseout-blob").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-blob"})}).style("fill-opacity",an.opacity.selected).style("stroke-opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer(),i=N.getSVGElementSize(a,{useAttrs:!0}),o=i.width,s=i.height,l=this.model.getData(),u=this.model.getGroupedData(),c=this.getOptions(),h=_.getProperty(c,"data","groupMapsTo"),f=_.getProperty(c,"radar","axes","value"),p=_.getProperty(c,"radar","axes"),d=p.angle,g=p.value,m=an,x=m.xLabelPadding,y=m.yLabelPadding,v=m.yTicksNumber,b=m.minRange,O=m.xAxisRectHeight;this.uniqueKeys=Array.from(new Set(l.map(function(F){return F[d]}))),this.uniqueGroups=Array.from(new Set(l.map(function(F){return F[h]}))),this.fullDataNormalized=this.normalizeFlatData(l),this.groupedDataNormalized=this.normalizeGroupedData(u);var T=this.getLabelDimensions(this.uniqueKeys[0]).height,A=2*(T+y),w=Math.min(o,s),S=w-A,P=S/2;if(!(P<=0)){var M=Xr().domain(this.fullDataNormalized.map(function(F){return F[d]})).range([0,2*Math.PI].map(function(F){return F-Math.PI/2})),k=je(this.fullDataNormalized.map(function(F){return F[g]})),R=Ye().domain([k>=0?0:k,We(this.fullDataNormalized.map(function(F){return F[g]}))]).range([b,P]).nice(v),U=R.ticks(v),D=function(F){return r.model.getFillColor(F)},L=TM().angle(function(F){return M(F[d])+Math.PI/2}).radius(function(F){return R(F[g])}).curve(Yp),I=this.uniqueKeys.map(function(F){var W=r.getLabelDimensions(F).width,q=Gk(M(F),P);return W+q}),V=We(I),C={x:V+x,y:s/2},G=N.appendOrSelect(a,"g.y-axes").attr("role",ot.GROUP),H=G.selectAll("path").data(U,function(F){return F}),X=function(F){return r.uniqueKeys.map(function(W){var q;return q={},q[d]=W,q[g]=F,q})};H.join(function(F){return F.append("path").attr("opacity",0).attr("transform","translate("+C.x+", "+C.y+")").attr("fill","none").call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_axes_enter",animate:n})}).attr("opacity",1).attr("d",function(q){return L(X(q))})})},function(F){return F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_axes_update",animate:n})}).attr("opacity",1).attr("transform","translate("+C.x+", "+C.y+")").attr("d",function(q){return L(X(q))})})},function(F){return F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_axes_exit",animate:n})}).attr("d",function(q){return L(X(q))}).attr("opacity",0).remove()})});var lt=N.appendOrSelect(a,"g.x-axes").attr("role",ot.GROUP),nt=lt.selectAll("line").data(this.uniqueKeys,function(F){return F});nt.join(function(F){return F.append("line").attr("opacity",0).attr("class",function(W){return"x-axis-"+_.kebabCase(W)}).attr("stroke-dasharray","0").attr("x1",function(W){return Ct(M(W),0,C).x}).attr("y1",function(W){return Ct(M(W),0,C).y}).attr("x2",function(W){return Ct(M(W),0,C).x}).attr("y2",function(W){return Ct(M(W),0,C).y}).call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_axes_enter",animate:n})}).attr("opacity",1).attr("x1",function(q){return Ct(M(q),R.range()[0],C).x}).attr("y1",function(q){return Ct(M(q),R.range()[0],C).y}).attr("x2",function(q){return Ct(M(q),R.range()[1],C).x}).attr("y2",function(q){return Ct(M(q),R.range()[1],C).y})})},function(F){return F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_axes_update",animate:n})}).attr("opacity",1).attr("x1",function(q){return Ct(M(q),R.range()[0],C).x}).attr("y1",function(q){return Ct(M(q),R.range()[0],C).y}).attr("x2",function(q){return Ct(M(q),R.range()[1],C).x}).attr("y2",function(q){return Ct(M(q),R.range()[1],C).y})})},function(F){return F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_axes_exit",animate:n})}).attr("opacity",0).remove()})});var Y=N.appendOrSelect(a,"g.x-labels").attr("role",ot.GROUP),J=Y.selectAll("text").data(this.uniqueKeys);J.join(function(F){return F.append("text").text(function(W){return W}).attr("opacity",0).attr("x",function(W){return Ct(M(W),R.range()[1]+x,C).x}).attr("y",function(W){return Ct(M(W),R.range()[1]+x,C).y}).style("text-anchor",function(W){return uv(M(W)).textAnchor}).style("dominant-baseline",function(W){return uv(M(W)).dominantBaseline}).call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_labels_enter",animate:n})}).attr("opacity",1)})},function(F){return F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_labels_update",animate:n})}).attr("opacity",1).attr("x",function(q){return Ct(M(q),R.range()[1]+x,C).x}).attr("y",function(q){return Ct(M(q),R.range()[1]+x,C).y})})},function(F){return F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_labels_exit",animate:n})}).attr("opacity",0).remove()})});var Q=N.appendOrSelect(a,"g.blobs").attr("role",ot.GROUP),rt=Q.selectAll("path").data(this.groupedDataNormalized,function(F){return F.name});rt.join(function(F){return F.append("path").attr("class",function(W){return r.model.getColorClassName({classNameTypes:[et.FILL,et.STROKE],dataGroupName:W.name,originalClassName:"blob"})}).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-label",function(W){return W.name}).attr("opacity",0).attr("transform",n?function(){return"translate("+C.x+", "+C.y+") scale("+(1+Math.random()*.35)+")"}:"translate("+C.x+", "+C.y+")").style("fill",function(W){return D(W.name)}).style("fill-opacity",an.opacity.selected).style("stroke",function(W){return D(W.name)}).call(function(W){var q=W.transition().call(function(Ht){return r.services.transitions.setupTransition({transition:Ht,name:"radar_blobs_enter",animate:n})});n&&q.delay(function(){return Math.random()*30}).attr("transform","translate("+C.x+", "+C.y+")"),q.attr("opacity",1).attr("d",function(Ht){return L(Ht.data)})})},function(F){F.attr("class",function(W){return r.model.getColorClassName({classNameTypes:[et.FILL,et.STROKE],dataGroupName:W.name,originalClassName:"blob"})}).style("fill",function(W){return D(W.name)}).style("stroke",function(W){return D(W.name)}),F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_blobs_update",animate:n})}).attr("opacity",1).attr("transform","translate("+C.x+", "+C.y+")").attr("d",function(q){return L(q.data)})})},function(F){return F.call(function(W){var q=W.transition().call(function(Ht){return r.services.transitions.setupTransition({transition:Ht,name:"radar_blobs_exit",animate:n})});n&&q.delay(function(){return Math.random()*30}).attr("transform",function(){return"translate("+C.x+", "+C.y+") scale("+(1+Math.random()*.35)+")"}),q.attr("opacity",0).remove()})});var j=N.appendOrSelect(a,"g.dots").attr("role",ot.GROUP),Z=j.selectAll("circle").data(this.fullDataNormalized.filter(function(F){return _.getProperty(F,g)!==null}));Z.join(function(F){return F.append("circle").attr("role",ot.GRAPHICS_SYMBOL).attr("aria-label",function(W){return W[f]})},function(F){return F},function(F){return F.remove()}).attr("class",function(F){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:F[h],originalClassName:_.kebabCase(F[d])})}).attr("cx",function(F){return Ct(M(F[d]),R(F[g]),C).x}).attr("cy",function(F){return Ct(M(F[d]),R(F[g]),C).y}).attr("r",0).attr("opacity",0).style("fill",function(F){return D(F[h])});var at=N.appendOrSelect(a,"g.x-axes-rect").attr("role",ot.GROUP),z=at.selectAll("rect").data(this.uniqueKeys);z.join(function(F){return F.append("rect")},function(F){return F},function(F){return F.remove()}).attr("x",C.x).attr("y",C.y-O/2).attr("width",R.range()[1]).attr("height",O).style("fill","red").style("fill-opacity",0).attr("transform",function(F){return"rotate("+cv(M(F))+", "+C.x+", "+C.y+")"});var ft=N.appendOrSelect(a,"g.y-labels").attr("role",ot.GROUP),it=ft.selectAll("text").data(Le(U));it.join(function(F){return F.append("text").attr("opacity",0).text(function(W){return W}).attr("x",function(W){return Ct(-Math.PI/2,R(W),C).x+y}).attr("y",function(W){return Ct(-Math.PI/2,R(W),C).y}).style("text-anchor","start").style("dominant-baseline","middle").call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_labels_enter",animate:n})}).attr("opacity",1)})},function(F){return F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_labels_update",animate:n})}).text(function(q){return q}).attr("opacity",1).attr("x",function(q){return Ct(-Math.PI/2,R(q),C).x+y}).attr("y",function(q){return Ct(-Math.PI/2,R(q),C).y})})},function(F){return F.call(function(W){return W.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_labels_exit",animate:n})}).attr("opacity",0).remove()})});var vt=_.getProperty(c,"radar","alignment"),Pt=this.getAlignmentXOffset(vt,a,this.getParent());a.attr("x",Pt),this.addEventListeners()}},e.prototype.getAlignmentXOffset=function(n,r,a){var i=N.getSVGElementSize(r,{useBBox:!0}),o=N.getSVGElementSize(a,{useAttrs:!0}).width,s=0;return n===Ut.CENTER?s=Math.floor((o-i.width)/2):n===Ut.RIGHT&&(s=o-i.width),s},e.prototype.destroy=function(){this.parent.selectAll(".x-axes-rect > rect").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.addEventListeners=function(){var n=this,r=_.getProperty(this.getOptions(),"radar").axes.angle;this.parent.selectAll(".x-axes-rect > rect").on("mouseover",function(a,i){var o=B(this);n.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEOVER,{event:a,element:o,datum:i});var s=n.parent.select(".x-axes .x-axis-"+_.kebabCase(i)),l=n.parent.selectAll(".dots circle."+_.kebabCase(i));s.classed("hovered",!0).attr("stroke-dasharray","4 4"),l.classed("hovered",!0).attr("opacity",1).attr("r",an.dotsRadius);var u=n.fullDataNormalized.filter(function(p){return p[r]===i}),c=n.getOptions(),h=c.data.groupMapsTo,f=_.getProperty(c,"radar","axes","value");n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a,hoveredElement:o,items:u.filter(function(p){return typeof p[f]=="number"}).map(function(p){return{label:p[h],value:p[f],color:n.model.getFillColor(p[h]),class:n.model.getColorClassName({classNameTypes:[et.TOOLTIP],dataGroupName:p[h]})}})})}).on("mousemove",function(a,i){var o=B(this);n.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEMOVE,{event:a,element:o,datum:i}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:a})}).on("click",function(a,i){n.services.events.dispatchEvent(E.Radar.X_AXIS_CLICK,{event:a,element:B(this),datum:i})}).on("mouseout",function(a,i){var o=B(this),s=n.parent.select(".x-axes .x-axis-"+_.kebabCase(i)),l=n.parent.selectAll(".dots circle."+_.kebabCase(i));s.classed("hovered",!1).attr("stroke-dasharray","0"),l.classed("hovered",!1).attr("opacity",0).attr("r",0),n.services.events.dispatchEvent(E.Radar.X_AXIS_MOUSEOUT,{event:a,element:o,datum:i}),n.services.events.dispatchEvent(E.Tooltip.HIDE)})},e}(ht),$k=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zk=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},Wk=function(t){$k(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="circle-pack",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("circle.node").transition("legend-hover-circlepack").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-circlepack"})}).attr("opacity",function(i){return i.data.dataGroupName===a.datum().name?1:gn.circles.fillOpacity})},n.handleLegendMouseOut=function(r){n.parent.selectAll("circle.node").transition("legend-mouseout-circlepack").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-circlepack"})}).attr("opacity",1)},n}return e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0}),i=N.getSVGElementSize(this.parent,{useAttrs:!0}),o=i.width,s=i.height;if(!(o<1||s<1)){var l=this.model.getDisplayData(),u=this.model.hasParentNode(),c=this.model.getHierarchyLevel(),h=this.getOptions(),f=_.getProperty(h,"canvasZoom","enabled");u&&_.getProperty(l,0,"children")&&(l=_.getProperty(l,0,"children"));var p=ga({children:l}).sum(function(y){return y.value}).sort(function(y,v){return v.value-y.value}),d=qD().size([o,s]).padding(function(y){return y.depth>=1?gn.padding.children+3:gn.padding.mainGroup+3}),g=d(p).descendants().splice(1).filter(function(y){return y.depth<=c}),m=a.selectAll("circle.node").data(g);m.exit().attr("width",0).attr("height",0).remove();var x=m.enter().append("circle").classed("node",!0);x.merge(m).attr("class",function(y){var v=f&&c===3?r.getZoomClass(y):"";return r.model.getColorClassName({classNameTypes:[et.FILL,et.STROKE],dataGroupName:y.data.dataGroupName,originalClassName:y.children?"node "+v:"node node-leaf "+v})}).style("fill",function(y){return r.model.getFillColor(y.data.dataGroupName)}).style("stroke",function(y){return r.model.getFillColor(y.data.dataGroupName)}).attr("cx",function(y){return y.x}).attr("cy",function(y){return y.y}).transition("circlepack-leaf-update-enter").call(function(y){return r.services.transitions.setupTransition({transition:y,name:"circlepack-leaf-update-enter"})}).attr("r",function(y){return y.r}).attr("opacity",1).attr("fill-opacity",gn.circles.fillOpacity),f===!0&&this.focal&&(this.services.canvasZoom.zoomIn(this.focal,x,jn),this.setBackgroundListeners()),u||this.addLegendListeners(),this.addEventListeners()}},e.prototype.unhighlightChildren=function(n){var r=this,a=n.map(function(i){return i.data});this.parent.selectAll("circle.node").filter(function(i){return a.some(function(o){return o===i.data})&&i.depth>1}).style("stroke",function(i){return r.model.getFillColor(i.data.dataGroupName)})},e.prototype.highlightChildren=function(n){var r=n.map(function(a){return a.data});this.parent.selectAll("circle.node").filter(function(a){return r.some(function(i){return i===a.data})&&a.depth>1}).style("stroke",gn.circles.hover.stroke)},e.prototype.getZoomClass=function(n){return this.model.getHierarchyLevel()===3&&this.focal&&(n.data===this.focal.data||this.focal.children.some(function(r){return r.data===n.data}))?"focal":"non-focal"},e.prototype.addLegendListeners=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.removeBackgroundListeners=function(){var n=B(this.services.domUtils.getMainContainer());n.on("click",function(){return null})},e.prototype.setBackgroundListeners=function(){var n=B(this.services.domUtils.getMainContainer()),r=this,a=this.parent.selectAll("circle.node"),i=_.getProperty(Ah,"canvasZoomSettings");n.on("click",function(){r.focal=null,r.model.updateHierarchyLevel(2),n.classed("zoomed-in",!1),r.services.canvasZoom.zoomOut(a,i)})},e.prototype.getZoomIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
			<polygon points="5.93 3.71 4.45 3.71 4.45 2.23 3.71 2.23 3.71 3.71 2.23 3.71 2.23 4.45 3.71 4.45 3.71 5.93 4.45 5.93 4.45 4.45 5.93 4.45 5.93 3.71"/>
			<path d="M7.2,6.67a4,4,0,0,0,1-2.59A4.08,4.08,0,1,0,4.07,8.15h0a4,4,0,0,0,2.59-1L9.48,10,10,9.48Zm-3.12.77A3.34,3.34,0,1,1,7.41,4.08,3.34,3.34,0,0,1,4.08,7.44Z"/>
		</svg>`},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("circle.node").on("mouseover",function(r,a){var i=B(this);i.classed("hovered",!0);var o=n.model.getHierarchyLevel(),s=o>2&&!i.classed("focal"),l=_.getProperty(n.model.getOptions(),"canvasZoom","enabled"),u=!1;if(!s){var c=[],h=[],f=null;if(a.children){a.depth>1&&l&&(u=!0,i.classed("clickable",!0)),c=a.children.map(function(g){if(g!==null)return typeof g.data.value=="number"?{label:g.data.name,value:g.data.value}:{label:g.data.name,labelIcon:l&&o<=2?n.getZoomIcon():null,value:g.value}});var p=n.model.getOptions();h=[{label:xt(p,"tooltip.totalLabel")||"Total",value:a.value,bold:!0}],n.highlightChildren(a.children)}else f=a.value;var d=getComputedStyle(this,null).getPropertyValue("fill");n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:r,hoveredElement:i,items:zk([{color:d,label:a.data.name,labelIcon:u&&l&&o<=2?n.getZoomIcon():null,value:f}],c,h)})}n.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEOVER,{event:r,element:i,datum:a})}).on("mousemove",function(r,a){var i=B(this);n.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEMOVE,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:r})}).on("mouseout",function(r,a){var i=B(this);i.classed("hovered",!1),a.children&&n.unhighlightChildren(a.children),n.services.events.dispatchEvent(E.CirclePack.CIRCLE_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:i})}).on("click",function(r,a){var i=B(this),o=i.classed("non-focal"),s=_.getProperty(n.getOptions(),"canvasZoom","enabled")&&n.model.getHierarchyLevel()>2;if(s){var l=n.parent.selectAll("circle.node"),u=B(n.services.domUtils.getMainContainer());u.classed("zoomed-in",!1),n.focal=null,n.model.updateHierarchyLevel(2),n.services.canvasZoom.zoomOut(l,jn)}else if(a.depth===2&&a.children&&!o){var l=n.parent.selectAll("circle.node"),u=B(n.services.domUtils.getMainContainer());u.classed("zoomed-in",!0),n.focal=a,n.model.updateHierarchyLevel(3),n.services.canvasZoom.zoomIn(a,l,jn),r.stopPropagation()}n.services.events.dispatchEvent(E.CirclePack.CIRCLE_CLICK,{event:r,element:i,datum:a})})},e.prototype.destroy=function(){this.parent.selectAll("circle.node").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),this.removeBackgroundListeners()},e}(ht),jk={value:function(){}};function ro(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ao(n)}function ao(t){this._=t}function qk(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ao.prototype=ro.prototype={constructor:ao,on:function(t,e){var n=this._,r=qk(t+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(t=r[i]).type)&&(a=Yk(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<o;)if(a=(t=r[i]).type)n[a]=fv(n[a],t.name,e);else if(e==null)for(a in n)n[a]=fv(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ao(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};function Yk(t,e){for(var n=0,r=t.length,a;n<r;++n)if((a=t[n]).name===e)return a.value}function fv(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=jk,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Xk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dispatch:ro}),Zk=fw(Xk),Kk=Zk.dispatch,Au=Math.PI/180,_a=1<<11>>5,io=1<<11,Qk=function(){var t=[256,256],e=Jk,n=tI,r=eI,a=hv,i=hv,o=nI,s=rI,l=pv,u=[],c=1/0,h=Kk("word","end"),f=null,p=Math.random,d={},g=cI;d.canvas=function(y){return arguments.length?(g=fn(y),d):g},d.start=function(){var y=m(g()),v=uI((t[0]>>5)*t[1]),b=null,O=u.length,T=-1,A=[],w=u.map(function(P,M){return P.text=e.call(this,P,M),P.font=n.call(this,P,M),P.style=a.call(this,P,M),P.weight=i.call(this,P,M),P.rotate=o.call(this,P,M),P.size=~~r.call(this,P,M),P.padding=s.call(this,P,M),P}).sort(function(P,M){return M.size-P.size});return f&&clearInterval(f),f=setInterval(S,0),S(),d;function S(){for(var P=Date.now();Date.now()-P<c&&++T<O&&f;){var M=w[T];M.x=t[0]*(p()+.5)>>1,M.y=t[1]*(p()+.5)>>1,aI(y,M,w,T),M.hasText&&x(v,M,b)&&(A.push(M),h.call("word",d,M),b?oI(b,M):b=[{x:M.x+M.x0,y:M.y+M.y0},{x:M.x+M.x1,y:M.y+M.y1}],M.x-=t[0]>>1,M.y-=t[1]>>1)}T>=O&&(d.stop(),h.call("end",d,A,b))}},d.stop=function(){return f&&(clearInterval(f),f=null),d};function m(y){y.width=y.height=1;var v=Math.sqrt(y.getContext("2d").getImageData(0,0,1,1).data.length>>2);y.width=(_a<<5)/v,y.height=io/v;var b=y.getContext("2d");return b.fillStyle=b.strokeStyle="red",b.textAlign="center",{context:b,ratio:v}}function x(y,v,b){t[0],t[1];for(var O=v.x,T=v.y,A=Math.sqrt(t[0]*t[0]+t[1]*t[1]),w=l(t),S=p()<.5?1:-1,P=-S,M,k,R;(M=w(P+=S))&&(k=~~M[0],R=~~M[1],!(Math.min(Math.abs(k),Math.abs(R))>=A));)if(v.x=O+k,v.y=T+R,!(v.x+v.x0<0||v.y+v.y0<0||v.x+v.x1>t[0]||v.y+v.y1>t[1])&&(!b||!iI(v,y,t[0]))&&(!b||sI(v,b))){for(var U=v.sprite,D=v.width>>5,L=t[0]>>5,I=v.x-(D<<4),V=I&127,C=32-V,G=v.y1-v.y0,H=(v.y+v.y0)*L+(I>>5),X,lt=0;lt<G;lt++){X=0;for(var nt=0;nt<=D;nt++)y[H+nt]|=X<<C|(nt<D?(X=U[lt*D+nt])>>>V:0);H+=L}return delete v.sprite,!0}return!1}return d.timeInterval=function(y){return arguments.length?(c=y==null?1/0:y,d):c},d.words=function(y){return arguments.length?(u=y,d):u},d.size=function(y){return arguments.length?(t=[+y[0],+y[1]],d):t},d.font=function(y){return arguments.length?(n=fn(y),d):n},d.fontStyle=function(y){return arguments.length?(a=fn(y),d):a},d.fontWeight=function(y){return arguments.length?(i=fn(y),d):i},d.rotate=function(y){return arguments.length?(o=fn(y),d):o},d.text=function(y){return arguments.length?(e=fn(y),d):e},d.spiral=function(y){return arguments.length?(l=fI[y]||y,d):l},d.fontSize=function(y){return arguments.length?(r=fn(y),d):r},d.padding=function(y){return arguments.length?(s=fn(y),d):s},d.random=function(y){return arguments.length?(p=y,d):p},d.on=function(){var y=h.on.apply(h,arguments);return y===h?d:y},d};function Jk(t){return t.text}function tI(){return"serif"}function hv(){return"normal"}function eI(t){return Math.sqrt(t.value)}function nI(){return(~~(Math.random()*6)-3)*30}function rI(){return 1}function aI(t,e,n,r){if(!e.sprite){var a=t.context,i=t.ratio;a.clearRect(0,0,(_a<<5)/i,io/i);var o=0,s=0,l=0,u=n.length;for(--r;++r<u;){e=n[r],a.save(),a.font=e.style+" "+e.weight+" "+~~((e.size+1)/i)+"px "+e.font;var c=a.measureText(e.text+"m").width*i,h=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*Au),p=Math.cos(e.rotate*Au),d=c*p,g=c*f,m=h*p,x=h*f;c=Math.max(Math.abs(d+x),Math.abs(d-x))+31>>5<<5,h=~~Math.max(Math.abs(g+m),Math.abs(g-m))}else c=c+31>>5<<5;if(h>l&&(l=h),o+c>=_a<<5&&(o=0,s+=l,l=0),s+h>=io)break;a.translate((o+(c>>1))/i,(s+(h>>1))/i),e.rotate&&a.rotate(e.rotate*Au),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=c,e.height=h,e.xoff=o,e.yoff=s,e.x1=c>>1,e.y1=h>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=c}for(var y=a.getImageData(0,0,(_a<<5)/i,io/i).data,v=[];--r>=0;)if(e=n[r],!!e.hasText){for(var c=e.width,b=c>>5,h=e.y1-e.y0,O=0;O<h*b;O++)v[O]=0;if(o=e.xoff,o==null)return;s=e.yoff;for(var T=0,A=-1,w=0;w<h;w++){for(var O=0;O<c;O++){var S=b*w+(O>>5),P=y[(s+w)*(_a<<5)+(o+O)<<2]?1<<31-O%32:0;v[S]|=P,T|=P}T?A=w:(e.y0++,h--,w--,s++)}e.y1=e.y0+A,e.sprite=v.slice(0,(e.y1-e.y0)*b)}}}function iI(t,e,n){n>>=5;for(var r=t.sprite,a=t.width>>5,i=t.x-(a<<4),o=i&127,s=32-o,l=t.y1-t.y0,u=(t.y+t.y0)*n+(i>>5),c,h=0;h<l;h++){c=0;for(var f=0;f<=a;f++)if((c<<s|(f<a?(c=r[h*a+f])>>>o:0))&e[u+f])return!0;u+=n}return!1}function oI(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function sI(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function pv(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function lI(t){var e=4,n=e*t[0]/t[1],r=0,a=0;return function(i){var o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:r+=n;break;case 1:a+=e;break;case 2:r-=n;break;default:a-=e;break}return[r,a]}}function uI(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function cI(){return document.createElement("canvas")}function fn(t){return typeof t=="function"?t:function(){return t}}var fI={archimedean:pv,rectangular:lI},hI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pI=function(t){hI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="wordcloud",n.renderType=tt.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("text.word").transition("legend-hover-wordcloud").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-wordcloud"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("text.word").transition("legend-mouseout-wordcloud").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-wordcloud"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(E.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){n===void 0&&(n=!0);var r=this,a=this.getComponentContainer().attr("width","100%").attr("height","100%"),i=this.model.getDisplayData(),o=this.getFontSizeScale(i),s=this.getOptions(),l=s.wordCloud,u=l.fontSizeMapsTo,c=l.wordMapsTo,h=s.data.groupMapsTo,f=N.getSVGElementSize(a,{useAttrs:!0}),p=f.width,d=f.height;if(p===0||d===0)return;var g=Qk().size([p,d]).words(i.map(function(x){var y;return y={},y[h]=x[h],y.text=x[c],y.size=x[u],y.value=x[u],y})).padding(5).rotate(0).fontSize(function(x){return o(x.size)}).on("end",m);g.start();function m(x){var y=N.appendOrSelect(a,"g.words");y.attr("transform","translate("+g.size()[0]/2+", "+g.size()[1]/2+")");var v=y.selectAll("text").data(x,function(O){return O[h]+"-"+O.text});v.exit().attr("opacity",0).remove();var b=v.enter().append("text").attr("opacity",0);b.merge(v).style("font-size",function(O){return O.size+"px"}).text(function(O){return O.text}).attr("class",function(O){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:O[h],originalClassName:"word "+(O.size>32?"light":"")})}).style("fill",function(O){return r.model.getFillColor(O[h],O.text,O)}).attr("text-anchor","middle").transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"wordcloud-text-update-enter",animate:n})}).attr("transform",function(O){return"translate("+O.x+", "+O.y+")"}).attr("opacity",1)}this.addEventListeners()},e.prototype.getFontSizeScale=function(n){var r=this.getOptions(),a=r.wordCloud.fontSizeMapsTo,i=n.map(function(u){return u[a]}).filter(function(u){return u}),o=N.getHTMLElementSize(this.services.domUtils.getMainContainer()),s=i.length>0,l=s?Le(i):[1,1];return Ye().domain(l).range(s?r.wordCloud.fontSizeRange(o,n):[4,4])},e.prototype.addEventListeners=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this,i=_.debounce(function(o){var s=a.parent.selectAll("text.word").transition("wordcloud-word-mouse-highlight").call(function(l){return a.services.transitions.setupTransition({transition:l,name:"wordcloud-word-mouse-highlight"})});o===null?s.attr("opacity",1):s.attr("opacity",function(){return o===this?1:.3})},6);this.parent.selectAll("text.word").on("mouseover",function(o,s){var l=this;i(l),a.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEOVER,{event:o,element:B(this),datum:s}),a.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:n.tooltip.wordLabel,value:s.text},{label:n.tooltip.valueLabel,value:s.value},{label:n.tooltip.groupLabel,value:s[r],class:a.model.getColorClassName({classNameTypes:[et.TOOLTIP],dataGroupName:s[r]})}]})}).on("mousemove",function(o,s){var l=B(this);a.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEMOVE,{element:l,datum:s}),a.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("click",function(o,s){a.services.events.dispatchEvent(E.WordCloud.WORD_CLICK,{event:o,element:B(this),datum:s})}).on("mouseout",function(o,s){var l=B(this);i(null),a.services.events.dispatchEvent(E.WordCloud.WORD_MOUSEOUT,{event:o,element:l,datum:s}),a.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:l})})},e}(ht);function dI(t,e){return t.sourceLinks.length?t.depth:e-1}function oo(t){return function(){return t}}function dv(t,e){return so(t.source,e.source)||t.index-e.index}function vv(t,e){return so(t.target,e.target)||t.index-e.index}function so(t,e){return t.y0-e.y0}function Cu(t){return t.value}function vI(t){return t.index}function gI(t){return t.nodes}function mI(t){return t.links}function gv(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function mv({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const a of e.sourceLinks)a.y0=n+a.width/2,n+=a.width;for(const a of e.targetLinks)a.y1=r+a.width/2,r+=a.width}}function yI(){let t=0,e=0,n=1,r=1,a=24,i=8,o,s=vI,l=dI,u,c,h=gI,f=mI,p=6;function d(){const D={nodes:h.apply(null,arguments),links:f.apply(null,arguments)};return g(D),m(D),x(D),y(D),O(D),mv(D),D}d.update=function(D){return mv(D),D},d.nodeId=function(D){return arguments.length?(s=typeof D=="function"?D:oo(D),d):s},d.nodeAlign=function(D){return arguments.length?(l=typeof D=="function"?D:oo(D),d):l},d.nodeSort=function(D){return arguments.length?(u=D,d):u},d.nodeWidth=function(D){return arguments.length?(a=+D,d):a},d.nodePadding=function(D){return arguments.length?(i=o=+D,d):i},d.nodes=function(D){return arguments.length?(h=typeof D=="function"?D:oo(D),d):h},d.links=function(D){return arguments.length?(f=typeof D=="function"?D:oo(D),d):f},d.linkSort=function(D){return arguments.length?(c=D,d):c},d.size=function(D){return arguments.length?(t=e=0,n=+D[0],r=+D[1],d):[n-t,r-e]},d.extent=function(D){return arguments.length?(t=+D[0][0],n=+D[1][0],e=+D[0][1],r=+D[1][1],d):[[t,e],[n,r]]},d.iterations=function(D){return arguments.length?(p=+D,d):p};function g({nodes:D,links:L}){for(const[V,C]of D.entries())C.index=V,C.sourceLinks=[],C.targetLinks=[];const I=new Map(D.map((V,C)=>[s(V,C,D),V]));for(const[V,C]of L.entries()){C.index=V;let{source:G,target:H}=C;typeof G!="object"&&(G=C.source=gv(I,G)),typeof H!="object"&&(H=C.target=gv(I,H)),G.sourceLinks.push(C),H.targetLinks.push(C)}if(c!=null)for(const{sourceLinks:V,targetLinks:C}of D)V.sort(c),C.sort(c)}function m({nodes:D}){for(const L of D)L.value=L.fixedValue===void 0?Math.max(Yr(L.sourceLinks,Cu),Yr(L.targetLinks,Cu)):L.fixedValue}function x({nodes:D}){const L=D.length;let I=new Set(D),V=new Set,C=0;for(;I.size;){for(const G of I){G.depth=C;for(const{target:H}of G.sourceLinks)V.add(H)}if(++C>L)throw new Error("circular link");I=V,V=new Set}}function y({nodes:D}){const L=D.length;let I=new Set(D),V=new Set,C=0;for(;I.size;){for(const G of I){G.height=C;for(const{source:H}of G.targetLinks)V.add(H)}if(++C>L)throw new Error("circular link");I=V,V=new Set}}function v({nodes:D}){const L=We(D,C=>C.depth)+1,I=(n-t-a)/(L-1),V=new Array(L);for(const C of D){const G=Math.max(0,Math.min(L-1,Math.floor(l.call(null,C,L))));C.layer=G,C.x0=t+G*I,C.x1=C.x0+a,V[G]?V[G].push(C):V[G]=[C]}if(u)for(const C of V)C.sort(u);return V}function b(D){const L=je(D,I=>(r-e-(I.length-1)*o)/Yr(I,Cu));for(const I of D){let V=e;for(const C of I){C.y0=V,C.y1=V+C.value*L,V=C.y1+o;for(const G of C.sourceLinks)G.width=G.value*L}V=(r-V+o)/(I.length+1);for(let C=0;C<I.length;++C){const G=I[C];G.y0+=V*(C+1),G.y1+=V*(C+1)}k(I)}}function O(D){const L=v(D);o=Math.min(i,(r-e)/(We(L,I=>I.length)-1)),b(L);for(let I=0;I<p;++I){const V=Math.pow(.99,I),C=Math.max(1-V,(I+1)/p);A(L,V,C),T(L,V,C)}}function T(D,L,I){for(let V=1,C=D.length;V<C;++V){const G=D[V];for(const H of G){let X=0,lt=0;for(const{source:Y,value:J}of H.targetLinks){let Q=J*(H.layer-Y.layer);X+=R(Y,H)*Q,lt+=Q}if(!(lt>0))continue;let nt=(X/lt-H.y0)*L;H.y0+=nt,H.y1+=nt,M(H)}u===void 0&&G.sort(so),w(G,I)}}function A(D,L,I){for(let V=D.length,C=V-2;C>=0;--C){const G=D[C];for(const H of G){let X=0,lt=0;for(const{target:Y,value:J}of H.sourceLinks){let Q=J*(Y.layer-H.layer);X+=U(H,Y)*Q,lt+=Q}if(!(lt>0))continue;let nt=(X/lt-H.y0)*L;H.y0+=nt,H.y1+=nt,M(H)}u===void 0&&G.sort(so),w(G,I)}}function w(D,L){const I=D.length>>1,V=D[I];P(D,V.y0-o,I-1,L),S(D,V.y1+o,I+1,L),P(D,r,D.length-1,L),S(D,e,0,L)}function S(D,L,I,V){for(;I<D.length;++I){const C=D[I],G=(L-C.y0)*V;G>1e-6&&(C.y0+=G,C.y1+=G),L=C.y1+o}}function P(D,L,I,V){for(;I>=0;--I){const C=D[I],G=(C.y1-L)*V;G>1e-6&&(C.y0-=G,C.y1-=G),L=C.y0-o}}function M({sourceLinks:D,targetLinks:L}){if(c===void 0){for(const{source:{sourceLinks:I}}of L)I.sort(vv);for(const{target:{targetLinks:I}}of D)I.sort(dv)}}function k(D){if(c===void 0)for(const{sourceLinks:L,targetLinks:I}of D)L.sort(vv),I.sort(dv)}function R(D,L){let I=D.y0-(D.sourceLinks.length-1)*o/2;for(const{target:V,width:C}of D.sourceLinks){if(V===L)break;I+=C+o}for(const{source:V,width:C}of L.targetLinks){if(V===D)break;I-=C}return I}function U(D,L){let I=L.y0-(L.targetLinks.length-1)*o/2;for(const{source:V,width:C}of L.targetLinks){if(V===D)break;I+=C+o}for(const{target:V,width:C}of D.sourceLinks){if(V===L)break;I-=C}return I}return d}function _I(t){return[t.source.x1,t.y0]}function xI(t){return[t.target.x0,t.y1]}function bI(){return Gp().source(_I).target(xI)}var OI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TI=function(t){OI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="alluvial",n.renderType=tt.SVG,n.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),n}return e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0});a.html("");var i=N.getSVGElementSize(a,{useAttrs:!0}),o=i.width,s=i.height;if(!(o<1||s<1)){var l=this.model.getOptions(),u=this.model.getDisplayData(),c=_.getProperty(this.getOptions(),"color","gradient","enabled"),h=ge.minNodePadding;l.alluvial.nodePadding>ge.minNodePadding&&(h=l.alluvial.nodePadding);var f=yI().nodeId(function(v){return v.name}).nodeWidth(ge.nodeWidth).nodePadding(h).extent([[2,30],[o-2,s]]);this.graph=f({nodes:l.alluvial.nodes.map(function(v){return Object.assign({},v)}),links:u.map(function(v){return Object.assign({},v)})}),this.graph.nodes=this.graph.nodes.filter(function(v){return v.value!==0});var p={};this.graph.nodes.forEach(function(v){var b,O=v.x0;v.category&&(p[O]=(b=v)===null||b===void 0?void 0:b.category)});var d=a.append("g").classed("header-arrows",!0).selectAll("g").data(Object.keys(p)).join("g").attr("transform",function(v){return"translate("+v+", 0)"});d.append("text").attr("id",function(v,b){return r.services.domUtils.generateElementIDString("alluvial-category-"+b)}).style("font-size","14px").text(function(v){return p[v]?p[v]:""}).attr("y",20).attr("x",function(v,b){var O=r.services.domUtils.generateElementIDString("alluvial-category-"+b),T=N.getSVGElementSize(B("text#"+O),{useBBox:!0}).width,A=0;return v+A>=T&&(A=-T+4),A});var g=a.append("g").attr("fill","none").selectAll("g").data(this.graph.links);if(g.exit().remove(),c){var m=_.getProperty(this.getOptions(),"color","scale");m&&g.enter().append("linearGradient").attr("id",function(v){return r.gradient_id+"-link-"+v.index}).attr("gradientUnits","userSpaceOnUse").call(function(v){return v.append("stop").attr("offset","0%").attr("stop-color",function(b){return m[b.source.name]})}).call(function(v){return v.append("stop").attr("offset","100%").attr("stop-color",function(b){return m[b.target.name]})}),g.exit().remove()}g.enter().append("path").classed("link",!0).attr("d",bI()).attr("id",function(v){return r.services.domUtils.generateElementIDString("alluvial-line-"+v.index)}).attr("class",function(v){return l.alluvial.monochrome?r.model.getColorClassName({classNameTypes:[et.STROKE],dataGroupName:0,originalClassName:"link"}):r.model.getColorClassName({classNameTypes:[et.STROKE],dataGroupName:v.source.index,originalClassName:"link"})}).style("stroke",function(v){return c?"url(#"+r.gradient_id+"-link-"+v.index+")":r.model.getFillColor(v.source.name)}).attr("stroke-width",function(v){return Math.max(1,v.width)}).style("stroke-opacity",ge.opacity.default).attr("aria-label",function(v){return v.source.name+" \u2192 "+v.target.name+" ("+v.value+(l.alluvial.units?" "+l.alluvial.units:"")+")"});var x=a.append("g").selectAll("g").data(this.graph.nodes).enter().append("g").attr("id",function(v){return r.services.domUtils.generateElementIDString("alluvial-node-"+v.index)}).classed("node-group",!0).attr("transform",function(v){return"translate("+v.x0+", "+v.y0+")"});x.append("rect").classed("node",!0).attr("height",function(v){return v.y1-v.y0}).attr("width",function(v){return v.x1-v.x0}).attr("fill","black");var y=x.append("g").attr("id",function(v){return r.services.domUtils.generateElementIDString("alluvial-node-title-"+v.index)});y.append("text").attr("id",function(v){return r.services.domUtils.generateElementIDString("alluvial-node-text-"+v.index)}).attr("class","node-text").style("font-size","12px").attr("text-anchor","start").attr("fill","white").attr("x",4).attr("dy",13).text(function(v){return v.name+" ("+v.value+")"}).attr("aria-label",function(v){return v.name+" ("+v.value+")"}),y.append("rect").classed("node-text-bg",!0).attr("width",function(v,b){var O=r.services.domUtils.generateElementIDString("alluvial-node-text-"+b),T=N.getSVGElementSize(B("text#"+O),{useBBox:!0}).width;return T+8}).attr("height",18).attr("stroke-width",2).lower(),y.attr("transform",function(v,b){var O=r.services.domUtils.generateElementIDString("alluvial-node-text-"+b),T=N.getSVGElementSize(B("text#"+O),{useBBox:!0}).width,A=(v.y1-v.y0)/2-9,w=v.x1-v.x0;return v.x1>=T?w=w-(T+16):w+=4,"translate("+w+", "+A+")"}),this.addLineEventListener(),this.addNodeEventListener()}},e.prototype.addLineEventListener=function(){var n=this.getOptions(),r=this,a=_.debounce(function(i,o){o===void 0&&(o="mouseover");var s=r.parent.selectAll("path.link").transition().call(function(l){return r.services.transitions.setupTransition({transition:l,name:"alluvial-links-mouse-highlight"})});o==="mouseout"?(B(i).lower(),s.style("stroke-opacity",ge.opacity.default)):s.style("stroke-opacity",function(){return i===this?(B(this).raise(),ge.opacity.selected):ge.opacity.unfocus})},33);this.parent.selectAll("path.link").on("mouseover",function(i,o){var s=B(this);a(this,"mouseover"),s.classed("link-hovered",!0);var l=getComputedStyle(this).getPropertyValue("stroke");r.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEOVER,{event:i,element:s,datum:o}),r.services.events.dispatchEvent(E.Tooltip.SHOW,{event:i,hoveredElement:s,items:[{label:o.target.name,value:o.value+(n.alluvial.units?" "+n.alluvial.units:""),color:l,labelIcon:r.getRightArrowIcon()}]})}).on("mousemove",function(i,o){r.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEMOVE,{event:i,element:B(this),datum:o}),r.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,o){r.services.events.dispatchEvent(E.Alluvial.LINE_CLICK,{event:i,element:B(this),datum:o})}).on("mouseout",function(i,o){var s=B(this);a(this,"mouseout"),s.classed("link-hovered",!1),r.services.events.dispatchEvent(E.Alluvial.LINE_MOUSEOUT,{event:i,element:s,datum:o}),r.services.events.dispatchEvent(E.Tooltip.HIDE,{event:i,hoveredElement:s})})},e.prototype.addNodeEventListener=function(){var n=this,r=this,a=_.debounce(function(i,o){if(i===void 0&&(i=[]),o===void 0&&(o="mouseover"),o==="mouseout"||i.length===0){r.parent.selectAll("path.link").classed("link-hovered",!1).data(n.graph.links,function(l){return l.index}).order().style("stroke-opacity",ge.opacity.default);return}var s=r.parent.selectAll("path.link").transition().call(function(l){return n.services.transitions.setupTransition({transition:l,name:"alluvial-link-mouse-highlight"})});s.style("stroke-opacity",function(l){return i.some(function(u){return u===l.index})?(B(this).classed("link-hovered",!0).raise(),ge.opacity.selected):ge.opacity.unfocus})},66);r.parent.selectAll(".node-group").on("mouseover",function(i,o){var s=B(this),l=[];if(r.traverse({link:"sourceLinks",node:"target"},o,l),r.traverse({link:"targetLinks",node:"source"},o,l),l.length){var u=_.getTranformOffsets(s.attr("transform"));if(s.attr("transform","translate("+(u.x-2)+", "+u.y+")"),s.classed("node-hovered",!0).selectAll("rect.node").attr("width",8),o.x0-2==0){var c=r.services.domUtils.generateElementIDString("alluvial-node-title-"+o.index),h=r.parent.select("g#"+c),f=_.getTranformOffsets(h.attr("transform"));h.attr("transform","translate("+(f.x+4)+","+f.y+")")}var p=r.services.domUtils.generateElementIDString("alluvial-node-text-"+o.index);r.parent.select("text#"+p).style("font-weight","bold"),a(l,"mouseover"),r.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEOVER,{event:i,element:s,datum:o})}}).on("mousemove",function(i,o){r.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEMOVE,{event:i,element:B(this),datum:o}),r.services.events.dispatchEvent(E.Tooltip.MOVE,{event:i})}).on("click",function(i,o){r.services.events.dispatchEvent(E.Alluvial.NODE_CLICK,{event:i,element:B(this),datum:o})}).on("mouseout",function(i,o){var s=B(this),l=_.getTranformOffsets(s.attr("transform"));if(s.classed("node-hovered",!1).attr("transform","translate("+(l.x+2)+", "+l.y+")").select("rect.node").attr("width",ge.nodeWidth),o.x0-2==0){var u=r.services.domUtils.generateElementIDString("alluvial-node-title-"+o.index),c=r.parent.select("g#"+u),h=_.getTranformOffsets(c.attr("transform"));c.attr("transform","translate("+(h.x-4)+","+h.y+")")}var f=r.services.domUtils.generateElementIDString("alluvial-node-text-"+o.index);r.parent.select("text#"+f).style("font-weight","normal"),a([],"mouseout"),r.services.events.dispatchEvent(E.Alluvial.NODE_MOUSEOUT,{event:i,element:s,datum:o}),r.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:s})})},e.prototype.traverse=function(n,r,a){var i=this;a===void 0&&(a=[]);var o=r[n.link].map(function(s){return a.push(s.index),s[n.node]});o.forEach(function(s){return i.traverse(n,s,a)})},e.prototype.getRightArrowIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
			<polygon points="18 6 16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6"/>
			<rect  data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/>
		</svg>`},e.prototype.destroy=function(){this.parent.selectAll("path.line,.node-group").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null)},e}(ht),wI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),EI=function(t){wI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="heatmap",n.renderType=tt.SVG,n.matrix={},n.xBandwidth=0,n.yBandwidth=0,n.translationUnits={x:0,y:0},n.handleAxisOnHover=function(r){var a=r.detail,i=a.datum,o=n.model.getUniqueRanges(),s=n.model.getUniqueDomain(),l=n.services.cartesianScales.getDomainLabel(),u=n.services.cartesianScales.getRangeLabel(),c=n.services.cartesianScales.getMainXScale(),h=n.services.cartesianScales.getMainYScale(),f="",p=0,d=0,g=0;n.matrix[i]!==void 0?(f=l,o.forEach(function(m){var x=n.matrix[i][m].value||0;p+=x,d=x<d?x:d,g=x>g?x:g})):(f=u,s.forEach(function(m){var x=n.matrix[m][i].value||0;p+=x,d=x<d?x:d,g=x>g?x:g})),c(i)!==void 0?n.parent.select("g.multi-cell.column-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+c(i)+", "+je(h.range())+")"):h(i)!==void 0&&n.parent.select("g.multi-cell.row-highlight").classed("highlighter-hidden",!1).attr("transform","translate("+je(c.range())+","+h(i)+")"),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:a.event,hoveredElement:B(r.detail.element),items:[{label:f,value:i,bold:!0},{label:"Min",value:d},{label:"Max",value:g},{label:"Average",value:p/s.length}]})},n.handleAxisMouseOut=function(r){n.parent.selectAll("g.multi-cell").classed("highlighter-hidden",!0),n.services.events.dispatchEvent(E.Tooltip.HIDE,{event:r})},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(E.Axis.LABEL_MOUSEOVER,this.handleAxisOnHover),n.addEventListener(E.Axis.LABEL_MOUSEOUT,this.handleAxisMouseOut),n.addEventListener(E.Axis.LABEL_FOCUS,this.handleAxisOnHover),n.addEventListener(E.Axis.LABEL_BLUR,this.handleAxisMouseOut)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0});a.lower();var i=this.services.cartesianScales;if(this.matrix=this.model.getMatrix(),a.html(""),!_.getProperty(this.getOptions(),"data","loading")){var o=i.getMainXScale(),s=i.getMainYScale(),l=i.getDomainIdentifier(),u=i.getRangeIdentifier(),c=this.model.getUniqueDomain(),h=this.model.getUniqueRanges(),f=this.model.getMatrixAsArray(),p=o.range(),d=s.range();this.xBandwidth=Math.abs((p[1]-p[0])/c.length),this.yBandwidth=Math.abs((d[1]-d[0])/h.length);var g=this.services.domUtils.generateElementIDString("heatmap-pattern-stripes");a.append("defs").append("pattern").attr("id",g).attr("width",3).attr("height",3).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").append("rect").classed("pattern-fill",!0).attr("width",.5).attr("height",8);var m=a.selectAll().data(f).enter().append("g").attr("class",function(x){return"heat-"+x.index}).classed("cell",!0).attr("transform",function(x){return"translate("+o(x[l])+", "+s(x[u])+")"}).append("rect").attr("class",function(x){return r.model.getColorClassName({value:x.value,originalClassName:"heat-"+x.index})}).classed("heat",!0).classed("null-state",function(x){return x.index===-1||x.value===null}).attr("width",this.xBandwidth).attr("height",this.yBandwidth).style("fill",function(x){return x.index===-1||x.value===null?"url(#"+g+")":r.model.getFillColor(Number(x.value))}).attr("aria-label",function(x){return x.value});this.createOuterBox("g.cell-highlight",this.xBandwidth,this.yBandwidth),this.createOuterBox("g.multi-cell.column-highlight",this.xBandwidth,Math.abs(d[1]-d[0])),this.createOuterBox("g.multi-cell.row-highlight",Math.abs(p[1]-p[0]),this.yBandwidth),this.determineDividerStatus()&&(m.style("stroke-width","1px"),this.parent.select("g.cell-highlight").classed("cell-2",!0)),this.addEventListener()}},e.prototype.createOuterBox=function(n,r,a){var i=N.appendOrSelect(this.parent,n).classed("shadows",!0).classed("highlighter-hidden",!0);N.appendOrSelect(i,"line.top").attr("x1",-1).attr("x2",r+1),N.appendOrSelect(i,"line.left").attr("x1",0).attr("y1",-1).attr("x2",0).attr("y2",a+1),N.appendOrSelect(i,"line.down").attr("x1",-1).attr("x2",r+1).attr("y1",a).attr("y2",a),N.appendOrSelect(i,"line.right").attr("x1",r).attr("x2",r).attr("y1",-1).attr("y2",a+1)},e.prototype.determineDividerStatus=function(){var n=_.getProperty(this.getOptions(),"heatmap","divider","state");return n!==Wn.OFF&&(n===Wn.AUTO&&vs.minCellDividerDimension<=this.xBandwidth&&vs.minCellDividerDimension<=this.yBandwidth||n===Wn.ON)},e.prototype.addEventListener=function(){var n=this,r=this.services.cartesianScales,a=this.getOptions(),i=xt(a,"tooltip.totalLabel"),o=r.getDomainIdentifier(),s=r.getRangeIdentifier(),l=r.getDomainLabel(),u=r.getRangeLabel();this.parent.selectAll("g.cell").on("mouseover",function(c,h){var f=B(this),p=f.select("rect.heat"),d=p.classed("null-state");if(!d){var g=_.getTranformOffsets(f.attr("transform"));B("g.cell-highlight").attr("transform","translate("+(g.x+n.translationUnits.x)+", "+(g.y+n.translationUnits.y)+")").classed("highlighter-hidden",!1),n.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEOVER,{event:c,element:p,datum:h}),n.services.events.dispatchEvent(E.Tooltip.SHOW,{event:c,items:[{label:l,value:h[o]},{label:u,value:h[s]},{label:i||"Total",value:h.value,color:p.style("fill")}]})}}).on("mousemove",function(c,h){n.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEMOVE,{event:c,element:B(this),datum:h}),n.services.events.dispatchEvent(E.Tooltip.MOVE,{event:c})}).on("click",function(c,h){n.services.events.dispatchEvent(E.Heatmap.HEATMAP_CLICK,{event:c,element:B(this),datum:h})}).on("mouseout",function(c,h){var f=B(this),p=f.select("rect.heat"),d=p.classed("null-state");B("g.cell-highlight").classed("highlighter-hidden",!0),d||(n.services.events.dispatchEvent(E.Heatmap.HEATMAP_MOUSEOUT,{event:c,element:p,datum:h}),n.services.events.dispatchEvent(E.Tooltip.HIDE,{event:c,hoveredElement:p}))})},e.prototype.destroy=function(){this.parent.selectAll("rect.heat").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(E.Legend.ITEM_HOVER,this.handleAxisOnHover),n.removeEventListener(E.Legend.ITEM_MOUSEOUT,this.handleAxisMouseOut)},e}(ht),SI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kn=function(t){SI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="spacer",n}return e.prototype.render=function(){this.getComponentContainer().style("width",(this.configs.size||gs.default.size)+"px").style("height",(this.configs.size||gs.default.size)+"px").attr("opacity",0)},e}(ht),MI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Be=function(t){MI(e,t);function e(n,r,a,i){var o=t.call(this,n,r,i)||this;return o.type="layout",o.configs=i,o.children=a,o._instanceID=e.instanceID++,o.init(),o}return e.prototype.init=function(){this.children.forEach(function(n){n.components.forEach(function(r){r.init()})})},e.prototype.getPreferedAndFixedSizeSum=function(){var n=this.parent,r=0;return n.selectAll("div.layout-child-"+this._instanceID).filter(function(a){var i=_.getProperty(a,"growth");return i===ct.PREFERRED||i===ct.FIXED}).each(function(a){r+=a.size}),r},e.prototype.getNumOfStretchChildren=function(){var n=this.parent;return n.selectAll("div.layout-child-"+this._instanceID).filter(function(r){return _.getProperty(r,"growth")===ct.STRETCH}).size()},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.parent,i=N.getHTMLElementSize(a.node()),o=i.width,s=i.height,l=this.configs.direction===wt.ROW||this.configs.direction===wt.ROW_REVERSE,u=_.getProperty(this.model.getOptions(),"style","prefix"),c=a.classed(Gt.prefix+"--"+u+"--layout-row",this.configs.direction===wt.ROW).classed(Gt.prefix+"--"+u+"--layout-row-reverse",this.configs.direction===wt.ROW_REVERSE).classed(Gt.prefix+"--"+u+"--layout-column",this.configs.direction===wt.COLUMN).classed(Gt.prefix+"--"+u+"--layout-column-reverse",this.configs.direction===wt.COLUMN_REVERSE).classed(Gt.prefix+"--"+u+"--layout-alignitems-center",this.configs.alignItems===zn.CENTER).selectAll("div.layout-child-"+this._instanceID).data(this.children,function(p){return p.id}),h=c.enter().append("div");h.merge(a.selectAll("div.layout-child-"+this._instanceID)).attr("class",function(p){return"layout-child layout-child-"+r._instanceID+" "+p.id}).each(function(p){var d=this;p.components.forEach(function(g){var m=B(d),x=_.getProperty(p,"renderType"),y=x===tt.SVG;g.setParent(y?N.appendOrSelect(m,"svg.layout-svg-wrapper").attr("width","100%").attr("height","100%"):m);var v=_.getProperty(p,"growth");(v===ct.PREFERRED||v===ct.FIXED)&&g.render(n)})}),a.selectAll("div.layout-child-"+this._instanceID).style("height",null).style("width",null).each(function(p){var d=_.getProperty(p,"growth"),g=_.getProperty(p,"renderType"),m=g===tt.SVG?N.getSVGElementSize(B(this).select("svg.layout-svg-wrapper"),{useBBox:!0}):N.getHTMLElementSize(this);if(d===ct.PREFERRED){var x=l?m.width:m.height,y=l?o:s;p.size=x/y*100}}),c.exit().remove(),this.children.filter(function(p){var d=_.getProperty(p,"growth");return d===ct.STRETCH}).forEach(function(p,d){p.size=(100-+r.getPreferedAndFixedSizeSum())/+r.getNumOfStretchChildren()});var f=a.selectAll("div.layout-child-"+this._instanceID).data(this.children,function(p){return p.id});l?f.style("width",function(p){return p.size/100*o+"px"}).style("height","100%"):f.style("height",function(p){return p.size/100*s+"px"}).style("width","100%"),f.each(function(p,d){p.components.forEach(function(g){var m=_.getProperty(p,"growth");m===ct.STRETCH&&g.render(n)})})},e.prototype.setModel=function(n){t.prototype.setModel.call(this,n),this.children.forEach(function(r){r.components.forEach(function(a){return a.setModel(n)})})},e.prototype.setServices=function(n){t.prototype.setServices.call(this,n),this.children.forEach(function(r){r.components.forEach(function(a){return a.setServices(n)})})},e.prototype.destroy=function(){this.children.forEach(function(n){n.components.forEach(function(r){return r.destroy()})})},e.instanceID=Math.floor(Math.random()*99999999999),e}(ht),AI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yv=function(t){AI(e,t);function e(n,r,a){var i,o=t.call(this,n,r,a)||this;return o.type="axes",o.renderType=tt.SVG,o.truncation=(i={},i[$.LEFT]=!1,i[$.RIGHT]=!1,i[$.TOP]=!1,i[$.BOTTOM]=!1,i),a&&(o.configs=a),o.margins=o.configs.margins,o}return e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.configs.position,i=this.getOptions(),o=_.getProperty(i,"axes",a,"visible"),s=this.getComponentContainer(),l=N.getSVGElementSize(s,{useAttrs:!0}),u=l.width,c=l.height,h=N.appendOrSelect(s,"g.axis."+a),f,p;a===$.BOTTOM||a===$.TOP?(f=this.configs.axes[$.LEFT]?this.margins.left:0,p=this.configs.axes[$.RIGHT]?u-this.margins.right:u):(f=c-this.margins.bottom,p=this.margins.top);var d=this.services.cartesianScales.getScaleByPosition(a);this.scaleType===K.LABELS||this.scaleType===K.LABELS_RATIO?d.rangeRound([f,p]):d.range([f,p]);var g;switch(a){case $.LEFT:g=Cd;break;case $.BOTTOM:g=Ni;break;case $.RIGHT:g=l2;break;case $.TOP:g=s2;break}h.attr("aria-label",a+" axis");var m=!h.select("g.ticks").empty(),x=N.appendOrSelect(h,"g.ticks");m||(x.attr("role",ot.GRAPHICS_OBJECT+" "+ot.GROUP),x.attr("aria-label",a+" ticks"));var y=N.appendOrSelect(h,"g.ticks.invisible").style("opacity","0").style("pointer-events","none").attr("aria-hidden",!0).attr("aria-label","invisible "+a+" ticks"),v=_.getProperty(i,"axes",a),b=this.scaleType===K.TIME||v.scaleType===K.TIME,O=a===$.LEFT||a===$.RIGHT,T=this.model.get("zoomDomain");if(T&&b&&!O&&d.domain(T),!o){x.attr("aria-hidden",!0);return}var A=_.getProperty(v,"scaleType"),w=_.getProperty(i,"data","loading"),S=_.getProperty(v,"ticks","number"),P=_.getProperty(v,"ticks","values"),M=_.getProperty(v,"truncation","type"),k=_.getProperty(v,"truncation","threshold"),R=_.getProperty(v,"truncation","numCharacter"),U=S!==null,D=_.getProperty(i,"timeScale"),L=N.appendOrSelect(y,"g.tick"),I=N.appendOrSelect(L,"text").text("0"),V=N.getSVGElementSize(I.node(),{useBBox:!0}).height;L.remove();var C=this.scaleType||v.scaleType||K.LINEAR,G=g(d).tickSizeOuter(0);if(d.ticks){var H=void 0;if(U?H=S:(H=He.ticks.number,O&&(H=this.getNumberOfFittingTicks(c,V,He.ticks.verticalSpaceRatio))),d.ticks().length===1&&d.ticks()[0]===0&&(H=0),G.ticks(H),b)if(!d.ticks(H).length)G.tickValues([]);else{var X=_.getProperty(i,"timeScale","addSpaceOnEdges"),lt=_.getProperty(i,"axes",a,"domain"),nt=void 0,Y=d.copy();X&&!lt&&Y.nice(H),nt=Y.ticks(H),X&&nt.length>2&&!lt&&(nt.splice(nt.length-1,1),nt.splice(0,1)),G.tickValues(nt)}}var J,Q=_.getProperty(v,"ticks","formatter");if(b){var rt=Ou(G.tickValues());Q===null?J=function(ut,Xt){return bu(ut,Xt,G.tickValues(),rt,D)}:J=function(ut,Xt){var Qv=bu(ut,Xt,G.tickValues(),rt,D);return Q(ut,Xt,Qv)}}else Q===null?C===K.LINEAR&&(J=function(ut){return ut.toLocaleString()}):J=Q;G.tickFormat(J);var j=this.services.cartesianScales.getScaleByPosition(a).domain(),Z=j[0],at=j[1],z;if(P){if(b)P.forEach(function(ut,Xt){ut.getTime===void 0&&(P[Xt]=new Date(ut))}),z=P.filter(function(ut){var Xt=ut.getTime();return Xt>=new Date(Z).getTime()&&Xt<=new Date(at).getTime()});else if(A===K.LABELS){var ft=this.services.cartesianScales.getScaleByPosition(a).domain();z=P.filter(function(ut){return ft.includes(ut)})}else z=P.filter(function(ut){return ut>=Z&&ut<=at});G.tickValues(z)}switch(a){case $.LEFT:x.attr("transform","translate("+this.margins.left+", 0)");break;case $.BOTTOM:x.attr("transform","translate(0, "+(c-this.margins.bottom)+")");break;case $.RIGHT:x.attr("transform","translate("+(u-this.margins.right)+", 0)");break;case $.TOP:x.attr("transform","translate(0, "+this.margins.top+")");break}var it=this.model.isDataEmpty();if(v.title){var vt=N.appendOrSelect(h,"text.axis-title").html(it||w?"":v.title),Pt=_.getProperty(v,"titleOrientation");switch(a){case $.LEFT:Pt===Va.RIGHT?vt.attr("transform","rotate(90)").attr("y",0).attr("x",d.range()[0]/2).attr("dy","-0.5em").style("text-anchor","middle"):vt.attr("transform","rotate(-90)").attr("y",0).attr("x",-(d.range()[0]/2)).attr("dy","0.75em").style("text-anchor","middle");break;case $.BOTTOM:vt.attr("transform","translate("+(this.margins.left/2+d.range()[1]/2)+", "+(c+4)+")").style("text-anchor","middle");break;case $.RIGHT:Pt===Va.LEFT?vt.attr("transform","rotate(-90)").attr("y",u).attr("x",-(d.range()[0]/2)).style("text-anchor","middle"):vt.attr("transform","rotate(90)").attr("y",-u).attr("x",d.range()[0]/2).attr("dy","0.75em").style("text-anchor","middle");break;case $.TOP:var F=N.getSVGElementSize(vt,{useBBox:!0}).height;vt.attr("transform","translate("+(this.margins.left/2+d.range()[1]/2)+", "+F/2+")").style("text-anchor","middle");break}}if(b){var W=Ou(G.tickValues()),q=D.showDayName,Ht=x;n&&(x=x.transition().call(function(ut){return r.services.transitions.setupTransition({transition:ut,name:"axis-update",animate:n})})),x=x.call(G);var jv=Ht.selectAll(".tick").data(G.tickValues(),d).order().select("text");jv.style("font-weight",function(ut,Xt){return Gd(ut,Xt,G.tickValues(),W,q)?"bold":"normal"})}else!n||!m?x=x.call(G):x=x.transition().call(function(ut){return r.services.transitions.setupTransition({transition:ut,name:"axis-update",animate:n})}).call(G);if(y.call(G),a===$.BOTTOM||a===$.TOP){var Bn=!1,wa=_.getProperty(v,"ticks","rotation");if(wa===Pr.ALWAYS)Bn=!0;else if(wa===Pr.NEVER)Bn=!1;else if(!wa||wa===Pr.AUTO)if(d.step){var qv=y.selectAll("g.tick text").nodes();Bn=qv.some(function(ut){return N.getSVGElementSize(ut,{useBBox:!0}).width>=d.step()})}else{Bn=!1;var Yv=y.append("text").text("A"),Xv=N.getSVGElementSize(Yv.node(),{useBBox:!0}).width,Xu;y.selectAll("g.tick").each(function(){var ut=B(this),Xt=parseFloat(_.getProperty(_.getTranslationValues(this),"tx"));Xt!==null&&Xu+ut.text().length*Xv*.8>=Xt&&(Bn=!0),Xu=Xt})}Bn?(U||(G.ticks(this.getNumberOfFittingTicks(u,V,He.ticks.horizontalSpaceRatio)),y.call(G),x.call(G)),h.selectAll("g.ticks g.tick text").attr("transform","rotate(-45)").style("text-anchor",a===$.TOP?"start":"end")):h.selectAll("g.ticks g.tick text").attr("transform",null).style("text-anchor",null)}if(w?h.attr("opacity",0):h.attr("opacity",1),x.selectAll("g.tick").attr("aria-label",function(ut){return ut}),y.selectAll("g.tick").attr("aria-label",function(ut){return ut}),M!==Fe.NONE&&A===K.LABELS&&!P){var Ea=this.services.cartesianScales.getScaleDomain(a);if(Ea.length>0){var Zv=s.select("g.axis."+a+" g.ticks g.tick").html();h.selectAll("g.ticks g.tick").html(Zv);var Kv=this;h.selectAll("g.tick text").data(Ea).text(function(ut){return ut.length>k?(Kv.truncation[a]=!0,_.truncateLabel(ut,M,R)):ut}),this.getInvisibleAxisRef().selectAll("g.tick text").data(Ea).text(function(ut){return ut.length>k?_.truncateLabel(ut,M,R):ut}),h.selectAll("g.ticks").html(this.getInvisibleAxisRef().html()),h.selectAll("g.tick text").data(Ea)}}this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.getComponentContainer(),r=this.configs.position,a=N.appendOrSelect(n,"g.axis."+r),i=this.getOptions(),o=_.getProperty(i,"axes",r),s=_.getProperty(o,"scaleType"),l=_.getProperty(o,"truncation","threshold"),u=this;a.selectAll("g.tick text").on("mouseover",function(c,h){u.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOVER,{event:c,element:B(this),datum:h}),s===K.LABELS&&h.length>l&&u.services.events.dispatchEvent(E.Tooltip.SHOW,{event:c,hoveredElement:B(this),content:h})}).on("mousemove",function(c,h){u.services.events.dispatchEvent(E.Axis.LABEL_MOUSEMOVE,{event:c,element:B(this),datum:h}),s===K.LABELS&&h.length>l&&u.services.events.dispatchEvent(E.Tooltip.MOVE,{event:c})}).on("click",function(c,h){u.services.events.dispatchEvent(E.Axis.LABEL_CLICK,{event:c,element:B(this),datum:h})}).on("mouseout",function(c,h){u.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOUT,{event:c,element:B(this),datum:h}),s===K.LABELS&&u.services.events.dispatchEvent(E.Tooltip.HIDE)})},e.prototype.getInvisibleAxisRef=function(){var n=this.configs.position;return this.getComponentContainer().select("g.axis."+n+" g.ticks.invisible")},e.prototype.getTitleRef=function(){var n=this.configs.position;return this.getComponentContainer().select("g.axis."+n+" text.axis-title")},e.prototype.getNumberOfFittingTicks=function(n,r,a){var i=Math.floor(n/(r*a));return _.clamp(i,2,He.ticks.number)},e.prototype.destroy=function(){var n=this.getComponentContainer(),r=this.configs.position,a=N.appendOrSelect(n,"g.axis."+r);a.selectAll("g.tick text").on("mouseover",null).on("mousemove",null).on("mouseout",null)},e}(ht),CI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lo=globalThis&&globalThis.__assign||function(){return lo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},lo.apply(this,arguments)},PI=function(t){CI(e,t);function e(n,r,a){return t.call(this,n,r,a)||this}return e.prototype.render=function(n){n===void 0&&(n=!0),t.prototype.render.call(this,n),t.prototype.destroy.call(this);var r=this.configs.position,a=this.getComponentContainer(),i=N.appendOrSelect(a,"g.axis."+r),o=this;i.selectAll("g.tick").each(function(s,l){var u=B(this);u.classed("tick-hover",!0).attr("tabindex",l===0?0:-1);var c=u.select("text"),h=N.getSVGElementSize(c,{useBBox:!0}),f=h.width,p=h.height,d=N.appendOrSelect(u,"rect.axis-holder"),g=0,m=0;switch(r){case $.LEFT:g=-f+Number(c.attr("x")),m=-(p/2);break;case $.RIGHT:g=Math.abs(Number(c.attr("x"))),m=-(p/2);break;case $.TOP:g=-(f/2),m=-p+Number(c.attr("y"))/2,o.truncation[r]&&(g=0,d.attr("transform","rotate(-45)"));break;case $.BOTTOM:g=-(f/2),m=p/2-2,o.truncation[r]&&(g=-f,d.attr("transform","rotate(-45)"));break}d.attr("x",g-He.hover.rectanglePadding).attr("y",m).attr("width",f+He.hover.rectanglePadding*2).attr("height",p).lower(),u.on("keydown",function(x){r===$.LEFT||r===$.RIGHT?x.key&&x.key==="ArrowUp"?o.goNext(this,x):x.key&&x.key==="ArrowDown"&&o.goPrevious(this,x):x.key&&x.key==="ArrowLeft"?o.goPrevious(this,x):x.key&&x.key==="ArrowRight"&&o.goNext(this,x)})}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.getComponentContainer(),r=this.configs.position,a=N.appendOrSelect(n,"g.axis."+r),i=this.getOptions(),o=_.getProperty(i,"axes",r),s=_.getProperty(o,"scaleType"),l=_.getProperty(o,"truncation","threshold"),u=this;a.selectAll("g.tick.tick-hover").on("mouseover",function(c){var h=B(this).select("text"),f=h.datum();u.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOVER,{event:c,element:h,datum:f}),s===K.LABELS&&f.length>l&&u.services.events.dispatchEvent(E.Tooltip.SHOW,{event:c,element:h,datum:f})}).on("mousemove",function(c){var h=B(this).select("text"),f=h.datum();u.services.events.dispatchEvent(E.Axis.LABEL_MOUSEMOVE,{event:c,element:h,datum:f}),u.services.events.dispatchEvent(E.Tooltip.MOVE,{event:c})}).on("click",function(c){u.services.events.dispatchEvent(E.Axis.LABEL_CLICK,{event:c,element:B(this).select("text"),datum:B(this).select("text").datum()})}).on("mouseout",function(c){u.services.events.dispatchEvent(E.Axis.LABEL_MOUSEOUT,{event:c,element:B(this).select("text"),datum:B(this).select("text").datum()}),s===K.LABELS&&u.services.events.dispatchEvent(E.Tooltip.HIDE)}).on("focus",function(c){var h={clientX:0,clientY:0};if(c.target){c.target.focus();var f=c.target.getBoundingClientRect();h.clientX=f.x,h.clientY=f.y}u.services.events.dispatchEvent(E.Axis.LABEL_FOCUS,{event:lo(lo({},c),h),element:B(this),datum:B(this).select("text").datum()})}).on("blur",function(c){u.services.events.dispatchEvent(E.Axis.LABEL_BLUR,{event:c,element:B(this),datum:B(this).select("text").datum()})})},e.prototype.goNext=function(n,r){n.nextElementSibling&&n.nextElementSibling.tagName!=="path"&&n.nextElementSibling.dispatchEvent(new Event("focus")),r.preventDefault()},e.prototype.goPrevious=function(n,r){n.previousElementSibling&&n.previousElementSibling.tagName!=="path"&&n.previousElementSibling.dispatchEvent(new Event("focus")),r.preventDefault()},e.prototype.destroy=function(){var n=this.getComponentContainer(),r=this.configs.position,a=N.appendOrSelect(n,"g.axis."+r);a.selectAll("g.tick.tick-hover").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("focus",null).on("blur",null)},e}(yv),DI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ie=function(t){DI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="2D-axes",n.renderType=tt.SVG,n.children={},n.thresholds=[],n.margins={top:0,right:0,bottom:0,left:0},n}return e.prototype.render=function(n){var r=this;n===void 0&&(n=!1);var a={},i=Object.keys($),o=_.getProperty(this.getOptions(),"axes");i.forEach(function(u){var c=o[$[u]];c&&(a[$[u]]=!0)}),this.configs.axes=a,i.forEach(function(u){var c=$[u];if(r.configs.axes[c]&&!r.children[c]){var h={position:c,axes:r.configs.axes,margins:r.margins},f=r.model.axisFlavor===Lr.DEFAULT?new yv(r.model,r.services,h):new PI(r.model,r.services,h);f.setModel(r.model),f.setServices(r.services),f.setParent(r.parent),r.children[c]=f}}),Object.keys(this.children).forEach(function(u){var c=r.children[u];c.render(n)});var s={};Object.keys(this.children).forEach(function(u){var c=r.children[u],h=c.configs.position,f=c.getInvisibleAxisRef(),p=N.getSVGElementSize(f,{useBBox:!0}),d=p.width,g=p.height,m;switch(c.getTitleRef().empty()?m=0:(m=N.getSVGElementSize(c.getTitleRef(),{useBBox:!0}).height,(h===$.LEFT||h===$.RIGHT)&&(m+=5)),h){case $.TOP:s.top=g+m;break;case $.BOTTOM:s.bottom=g+m;break;case $.LEFT:s.left=d+m;break;case $.RIGHT:s.right=d+m;break}}),this.services.events.dispatchEvent(E.Axis.RENDER_COMPLETE);var l=Object.keys(s).some(function(u){return r.margins[u]!==s[u]});l&&(this.margins=Object.assign(this.margins,s),this.model.set({axesMargins:this.margins},{skipUpdate:!0}),this.services.events.dispatchEvent(E.ZoomBar.UPDATE),Object.keys(this.children).forEach(function(u){var c=r.children[u];c.margins=r.margins}),this.render(!0))},e}(ht);const Pu={capture:!0,passive:!1};function Du(t){t.preventDefault(),t.stopImmediatePropagation()}function LI(t){var e=t.document.documentElement,n=B(t).on("dragstart.drag",Du,Pu);"onselectstart"in e?n.on("selectstart.drag",Du,Pu):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function RI(t,e){var n=t.document.documentElement,r=B(t).on("dragstart.drag",null);e&&(r.on("click.drag",Du,Pu),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var vr=0,xa=0,ba=0,_v=1e3,uo,Oa,co=0,In=0,fo=0,Ta=typeof performance=="object"&&performance.now?performance:Date,xv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lu(){return In||(xv(kI),In=Ta.now()+fo)}function kI(){In=0}function ho(){this._call=this._time=this._next=null}ho.prototype=bv.prototype={constructor:ho,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Lu():+n)+(e==null?0:+e),!this._next&&Oa!==this&&(Oa?Oa._next=this:uo=this,Oa=this),this._call=t,this._time=n,Ru()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ru())}};function bv(t,e,n){var r=new ho;return r.restart(t,e,n),r}function II(){Lu(),++vr;for(var t=uo,e;t;)(e=In-t._time)>=0&&t._call.call(void 0,e),t=t._next;--vr}function Ov(){In=(co=Ta.now())+fo,vr=xa=0;try{II()}finally{vr=0,BI(),In=0}}function NI(){var t=Ta.now(),e=t-co;e>_v&&(fo-=e,co=t)}function BI(){for(var t,e=uo,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:uo=n);Oa=t,Ru(r)}function Ru(t){if(!vr){xa&&(xa=clearTimeout(xa));var e=t-In;e>24?(t<1/0&&(xa=setTimeout(Ov,t-Ta.now()-fo)),ba&&(ba=clearInterval(ba))):(ba||(co=Ta.now(),ba=setInterval(NI,_v)),vr=1,xv(Ov))}}function Tv(t,e,n){var r=new ho;return e=e==null?0:+e,r.restart(a=>{r.stop(),t(a+e)},e,n),r}var UI=ro("start","end","cancel","interrupt"),VI=[],wv=0,Ev=1,ku=2,po=3,Sv=4,Iu=5,vo=6;function go(t,e,n,r,a,i){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;GI(t,n,{name:e,index:r,group:a,on:UI,tween:VI,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:wv})}function Nu(t,e){var n=Se(t,e);if(n.state>wv)throw new Error("too late; already scheduled");return n}function Ue(t,e){var n=Se(t,e);if(n.state>po)throw new Error("too late; already running");return n}function Se(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function GI(t,e,n){var r=t.__transition,a;r[e]=n,n.timer=bv(i,0,n.time);function i(u){n.state=Ev,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,h,f,p;if(n.state!==Ev)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===po)return Tv(o);p.state===Sv?(p.state=vo,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=vo,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(Tv(function(){n.state===po&&(n.state=Sv,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=ku,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ku){for(n.state=po,a=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(a[++h]=p);a.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Iu,1),h=-1,f=a.length;++h<f;)a[h].call(t,c);n.state===Iu&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=vo,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Bu(t,e){var n=t.__transition,r,a,i=!0,o;if(!!n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){i=!1;continue}a=r.state>ku&&r.state<Iu,r.state=vo,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}i&&delete t.__transition}}function FI(t){return this.each(function(){Bu(this,t)})}function HI(t,e){var n,r;return function(){var a=Ue(this,t),i=a.tween;if(i!==n){r=n=i;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function $I(t,e,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=Ue(this,t),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:e,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===e){a[l]=s;break}l===u&&a.push(s)}i.tween=a}}function zI(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Se(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===t)return o.value;return null}return this.each((e==null?HI:$I)(n,t,e))}function Uu(t,e,n){var r=t._id;return t.each(function(){var a=Ue(this,r);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return Se(a,r).value[e]}}function Mv(t,e){var n;return(typeof e=="number"?_e:e instanceof qe?ci:(n=qe(e))?(e=n,ci):$h)(t,e)}function WI(t){return function(){this.removeAttribute(t)}}function jI(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qI(t,e,n){var r,a=n+"",i;return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function YI(t,e,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function XI(t,e,n){var r,a,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===a?i:(a=l,i=e(r=o,s)))}}function ZI(t,e,n){var r,a,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===a?i:(a=l,i=e(r=o,s)))}}function KI(t,e){var n=ei(t),r=n==="transform"?xE:Mv;return this.attrTween(t,typeof e=="function"?(n.local?ZI:XI)(n,r,Uu(this,"attr."+t,e)):e==null?(n.local?jI:WI)(n):(n.local?YI:qI)(n,r,e))}function QI(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function JI(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function tN(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&JI(t,i)),n}return a._value=e,a}function eN(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&QI(t,i)),n}return a._value=e,a}function nN(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ei(t);return this.tween(n,(r.local?tN:eN)(r,e))}function rN(t,e){return function(){Nu(this,t).delay=+e.apply(this,arguments)}}function aN(t,e){return e=+e,function(){Nu(this,t).delay=e}}function iN(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rN:aN)(e,t)):Se(this.node(),e).delay}function oN(t,e){return function(){Ue(this,t).duration=+e.apply(this,arguments)}}function sN(t,e){return e=+e,function(){Ue(this,t).duration=e}}function lN(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?oN:sN)(e,t)):Se(this.node(),e).duration}function uN(t,e){if(typeof e!="function")throw new Error;return function(){Ue(this,t).ease=e}}function cN(t){var e=this._id;return arguments.length?this.each(uN(e,t)):Se(this.node(),e).ease}function fN(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ue(this,t).ease=n}}function hN(t){if(typeof t!="function")throw new Error;return this.each(fN(this._id,t))}function pN(t){typeof t!="function"&&(t=fh(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,s=r[a]=[],l,u=0;u<o;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new Je(r,this._parents,this._name,this._id)}function dN(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l=e[s],u=n[s],c=l.length,h=o[s]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(h[p]=f);for(;s<r;++s)o[s]=e[s];return new Je(o,this._parents,this._name,this._id)}function vN(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function gN(t,e,n){var r,a,i=vN(e)?Nu:Ue;return function(){var o=i(this,t),s=o.on;s!==r&&(a=(r=s).copy()).on(e,n),o.on=a}}function mN(t,e){var n=this._id;return arguments.length<2?Se(this.node(),n).on.on(t):this.each(gN(n,t,e))}function yN(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function _N(){return this.on("end.remove",yN(this._id))}function xN(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ws(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s=r[o],l=s.length,u=i[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,go(u[f],e,n,f,u,Se(c,n)));return new Je(i,this._parents,e,n)}function bN(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ch(t));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),p,d=Se(c,n),g=0,m=f.length;g<m;++g)(p=f[g])&&go(p,e,n,g,f,d);i.push(f),o.push(c)}return new Je(i,o,e,n)}var ON=zr.prototype.constructor;function TN(){return new ON(this._groups,this._parents)}function wN(t,e){var n,r,a;return function(){var i=Jn(this,t),o=(this.style.removeProperty(t),Jn(this,t));return i===o?null:i===n&&o===r?a:a=e(n=i,r=o)}}function Av(t){return function(){this.style.removeProperty(t)}}function EN(t,e,n){var r,a=n+"",i;return function(){var o=Jn(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}function SN(t,e,n){var r,a,i;return function(){var o=Jn(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Jn(this,t))),o===l?null:o===r&&l===a?i:(a=l,i=e(r=o,s))}}function MN(t,e){var n,r,a,i="style."+e,o="end."+i,s;return function(){var l=Ue(this,t),u=l.on,c=l.value[i]==null?s||(s=Av(e)):void 0;(u!==n||a!==c)&&(r=(n=u).copy()).on(o,a=c),l.on=r}}function AN(t,e,n){var r=(t+="")==="transform"?_E:Mv;return e==null?this.styleTween(t,wN(t,r)).on("end.style."+t,Av(t)):typeof e=="function"?this.styleTween(t,SN(t,r,Uu(this,"style."+t,e))).each(MN(this._id,t)):this.styleTween(t,EN(t,r,e),n).on("end.style."+t,null)}function CN(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function PN(t,e,n){var r,a;function i(){var o=e.apply(this,arguments);return o!==a&&(r=(a=o)&&CN(t,o,n)),r}return i._value=e,i}function DN(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,PN(t,e,n==null?"":n))}function LN(t){return function(){this.textContent=t}}function RN(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function kN(t){return this.tween("text",typeof t=="function"?RN(Uu(this,"text",t)):LN(t==null?"":t+""))}function IN(t){return function(e){this.textContent=t.call(this,e)}}function NN(t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&IN(a)),e}return r._value=t,r}function BN(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,NN(t))}function UN(){for(var t=this._name,e=this._id,n=Cv(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=Se(l,e);go(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Je(r,this._parents,t,n)}function VN(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--a==0&&i()}};n.each(function(){var u=Ue(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),a===0&&i()})}var GN=0;function Je(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Cv(){return++GN}var tn=zr.prototype;Je.prototype={constructor:Je,select:xN,selectAll:bN,selectChild:tn.selectChild,selectChildren:tn.selectChildren,filter:pN,merge:dN,selection:TN,transition:UN,call:tn.call,nodes:tn.nodes,node:tn.node,size:tn.size,empty:tn.empty,each:tn.each,on:mN,attr:KI,attrTween:nN,style:AN,styleTween:DN,text:kN,textTween:BN,remove:_N,tween:zI,delay:iN,duration:lN,ease:cN,easeVarying:hN,end:VN,[Symbol.iterator]:tn[Symbol.iterator]};var FN={time:null,delay:0,duration:250,ease:Oc};function HN(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function $N(t){var e,n;t instanceof Je?(e=t._id,t=t._name):(e=Cv(),(n=FN).time=Lu(),t=t==null?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,l,u=0;u<s;++u)(l=o[u])&&go(l,t,e,u,o,n||HN(l,e));return new Je(r,this._parents,t,e)}zr.prototype.interrupt=FI;zr.prototype.transition=$N;var Vu=t=>()=>t;function zN(t,{sourceEvent:e,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function WN(t){t.stopImmediatePropagation()}function Gu(t){t.preventDefault(),t.stopImmediatePropagation()}var Pv={name:"drag"},Fu={name:"space"},gr={name:"handle"},mr={name:"center"};const{abs:Dv,max:qt,min:Yt}=Math;function Lv(t){return[+t[0],+t[1]]}function Rv(t){return[Lv(t[0]),Lv(t[1])]}var mo={name:"x",handles:["w","e"].map(yo),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Hu={name:"y",handles:["n","s"].map(yo),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},en={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},kv={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Iv={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},jN={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},qN={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function yo(t){return{type:t}}function YN(t){return!t.ctrlKey&&!t.button}function XN(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ZN(){return navigator.maxTouchPoints||"ontouchstart"in this}function $u(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function KN(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Nv(){return QN(mo)}function QN(t){var e=XN,n=YN,r=ZN,a=!0,i=ro("start","brush","end"),o=6,s;function l(m){var x=m.property("__brush",g).selectAll(".overlay").data([yo("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",en.overlay).merge(x).each(function(){var v=$u(this).extent;B(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),m.selectAll(".selection").data([yo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",en.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var y=m.selectAll(".handle").data(t.handles,function(v){return v.type});y.exit().remove(),y.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return en[v.type]}),m.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(m,x,y){m.tween?m.on("start.brush",function(v){c(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){c(this,arguments).end(v)}).tween("brush",function(){var v=this,b=v.__brush,O=c(v,arguments),T=b.selection,A=t.input(typeof x=="function"?x.apply(this,arguments):x,b.extent),w=Jr(T,A);function S(P){b.selection=P===1&&A===null?null:w(P),u.call(v),O.brush()}return T!==null&&A!==null?S:S(1)}):m.each(function(){var v=this,b=arguments,O=v.__brush,T=t.input(typeof x=="function"?x.apply(v,b):x,O.extent),A=c(v,b).beforestart();Bu(v),O.selection=T===null?null:T,u.call(v),A.start(y).brush(y).end(y)})},l.clear=function(m,x){l.move(m,null,x)};function u(){var m=B(this),x=$u(this).selection;x?(m.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(y){return y.type[y.type.length-1]==="e"?x[1][0]-o/2:x[0][0]-o/2}).attr("y",function(y){return y.type[0]==="s"?x[1][1]-o/2:x[0][1]-o/2}).attr("width",function(y){return y.type==="n"||y.type==="s"?x[1][0]-x[0][0]+o:o}).attr("height",function(y){return y.type==="e"||y.type==="w"?x[1][1]-x[0][1]+o:o})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(m,x,y){var v=m.__brush.emitter;return v&&(!y||!v.clean)?v:new h(m,x,y)}function h(m,x,y){this.that=m,this.args=x,this.state=m.__brush,this.active=0,this.clean=y}h.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,x){return this.starting?(this.starting=!1,this.emit("start",m,x)):this.emit("brush",m),this},brush:function(m,x){return this.emit("brush",m,x),this},end:function(m,x){return--this.active==0&&(delete this.state.emitter,this.emit("end",m,x)),this},emit:function(m,x,y){var v=B(this.that).datum();i.call(m,this.that,new zN(m,{sourceEvent:x,target:l,selection:t.output(this.state.selection),mode:y,dispatch:i}),v)}};function f(m){if(s&&!m.touches||!n.apply(this,arguments))return;var x=this,y=m.target.__data__.type,v=(a&&m.metaKey?y="overlay":y)==="selection"?Pv:a&&m.altKey?mr:gr,b=t===Hu?null:jN[y],O=t===mo?null:qN[y],T=$u(x),A=T.extent,w=T.selection,S=A[0][0],P,M,k=A[0][1],R,U,D=A[1][0],L,I,V=A[1][1],C,G,H=0,X=0,lt,nt=b&&O&&a&&m.shiftKey,Y,J,Q=Array.from(m.touches||[m],F=>{const W=F.identifier;return F=Tn(F,x),F.point0=F.slice(),F.identifier=W,F});Bu(x);var rt=c(x,arguments,!0).beforestart();if(y==="overlay"){w&&(lt=!0);const F=[Q[0],Q[1]||Q[0]];T.selection=w=[[P=t===Hu?S:Yt(F[0][0],F[1][0]),R=t===mo?k:Yt(F[0][1],F[1][1])],[L=t===Hu?D:qt(F[0][0],F[1][0]),C=t===mo?V:qt(F[0][1],F[1][1])]],Q.length>1&&ft(m)}else P=w[0][0],R=w[0][1],L=w[1][0],C=w[1][1];M=P,U=R,I=L,G=C;var j=B(x).attr("pointer-events","none"),Z=j.selectAll(".overlay").attr("cursor",en[y]);if(m.touches)rt.moved=z,rt.ended=it;else{var at=B(m.view).on("mousemove.brush",z,!0).on("mouseup.brush",it,!0);a&&at.on("keydown.brush",vt,!0).on("keyup.brush",Pt,!0),LI(m.view)}u.call(x),rt.start(m,v.name);function z(F){for(const W of F.changedTouches||[F])for(const q of Q)q.identifier===W.identifier&&(q.cur=Tn(W,x));if(nt&&!Y&&!J&&Q.length===1){const W=Q[0];Dv(W.cur[0]-W[0])>Dv(W.cur[1]-W[1])?J=!0:Y=!0}for(const W of Q)W.cur&&(W[0]=W.cur[0],W[1]=W.cur[1]);lt=!0,Gu(F),ft(F)}function ft(F){const W=Q[0],q=W.point0;var Ht;switch(H=W[0]-q[0],X=W[1]-q[1],v){case Fu:case Pv:{b&&(H=qt(S-P,Yt(D-L,H)),M=P+H,I=L+H),O&&(X=qt(k-R,Yt(V-C,X)),U=R+X,G=C+X);break}case gr:{Q[1]?(b&&(M=qt(S,Yt(D,Q[0][0])),I=qt(S,Yt(D,Q[1][0])),b=1),O&&(U=qt(k,Yt(V,Q[0][1])),G=qt(k,Yt(V,Q[1][1])),O=1)):(b<0?(H=qt(S-P,Yt(D-P,H)),M=P+H,I=L):b>0&&(H=qt(S-L,Yt(D-L,H)),M=P,I=L+H),O<0?(X=qt(k-R,Yt(V-R,X)),U=R+X,G=C):O>0&&(X=qt(k-C,Yt(V-C,X)),U=R,G=C+X));break}case mr:{b&&(M=qt(S,Yt(D,P-H*b)),I=qt(S,Yt(D,L+H*b))),O&&(U=qt(k,Yt(V,R-X*O)),G=qt(k,Yt(V,C+X*O)));break}}I<M&&(b*=-1,Ht=P,P=L,L=Ht,Ht=M,M=I,I=Ht,y in kv&&Z.attr("cursor",en[y=kv[y]])),G<U&&(O*=-1,Ht=R,R=C,C=Ht,Ht=U,U=G,G=Ht,y in Iv&&Z.attr("cursor",en[y=Iv[y]])),T.selection&&(w=T.selection),Y&&(M=w[0][0],I=w[1][0]),J&&(U=w[0][1],G=w[1][1]),(w[0][0]!==M||w[0][1]!==U||w[1][0]!==I||w[1][1]!==G)&&(T.selection=[[M,U],[I,G]],u.call(x),rt.brush(F,v.name))}function it(F){if(WN(F),F.touches){if(F.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else RI(F.view,lt),at.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),Z.attr("cursor",en.overlay),T.selection&&(w=T.selection),KN(w)&&(T.selection=null,u.call(x)),rt.end(F,v.name)}function vt(F){switch(F.keyCode){case 16:{nt=b&&O;break}case 18:{v===gr&&(b&&(L=I-H*b,P=M+H*b),O&&(C=G-X*O,R=U+X*O),v=mr,ft(F));break}case 32:{(v===gr||v===mr)&&(b<0?L=I-H:b>0&&(P=M-H),O<0?C=G-X:O>0&&(R=U-X),v=Fu,Z.attr("cursor",en.selection),ft(F));break}default:return}Gu(F)}function Pt(F){switch(F.keyCode){case 16:{nt&&(Y=J=nt=!1,ft(F));break}case 18:{v===mr&&(b<0?L=I:b>0&&(P=M),O<0?C=G:O>0&&(R=U),v=gr,ft(F));break}case 32:{v===Fu&&(F.altKey?(b&&(L=I-H*b,P=M+H*b),O&&(C=G-X*O,R=U+X*O),v=mr):(b<0?L=I:b>0&&(P=M),O<0?C=G:O>0&&(R=U),v=gr),Z.attr("cursor",en[y]),ft(F));break}default:return}Gu(F)}}function p(m){c(this,arguments).moved(m)}function d(m){c(this,arguments).ended(m)}function g(){var m=this.__brush||{selection:null};return m.extent=Rv(e.apply(this,arguments)),m.dim=t,m}return l.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Vu(Rv(m)),l):e},l.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Vu(!!m),l):n},l.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Vu(!!m),l):r},l.handleSize=function(m){return arguments.length?(o=+m,l):o},l.keyModifiers=function(m){return arguments.length?(a=!!m,l):a},l.on=function(){var m=i.on.apply(i,arguments);return m===i?l:m},l}var JN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),t3=function(t){JN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid-brush",n.renderType=tt.SVG,n.selectionSelector="rect.selection",n.frontSelectionSelector="rect.frontSelection",n}return e.prototype.render=function(n){var r=this,a=this.parent,i=this.getComponentContainer(),o=N.appendOrSelect(a,"svg.chart-grid-backdrop"),s=N.appendOrSelect(o,"g."+this.type),l=N.appendOrSelect(s,this.selectionSelector),u=N.getSVGElementSize(o,{useAttrs:!0}),c=u.width,h=u.height,f=this.services.cartesianScales,p=f.getMainXScaleType(),d=f.getMainXScale(),g=d.range(),m=g[0];g[1],i.attr("transform","translate("+m+",0)");var x=N.appendOrSelect(i,this.frontSelectionSelector);if(d&&p===K.TIME){var y=this.model.get("zoomDomain");y===void 0&&(y=this.services.zoom.getDefaultZoomBarDomain(),y&&this.model.set({zoomDomain:y},{animate:!1}));var v=function(S){for(var P=S[1]-S[0],M="0,"+P.toString(),k=Math.floor(h/e.DASH_LENGTH),R=k*e.DASH_LENGTH,U=0;U<k;U++)M+=","+e.DASH_LENGTH;M+=","+(h-R),k%2==1&&(M+=",0"),M+=","+P.toString(),M+=","+h.toString(),x.attr("stroke-dasharray",M)},b=function(S){var P=S.selection;P===null||P[0]===P[1]||(x.attr("x",parseFloat(l.attr("x"))+parseFloat(o.attr("x"))).attr("y",l.attr("y")).attr("width",l.attr("width")).attr("height",l.attr("height")).style("cursor","pointer").style("display",null),v(P))},O=function(S,P){var M=kp().range([0,c]).domain(y),k=[M.invert(S),M.invert(P)];k[0].valueOf()===k[1].valueOf()&&(k=r.services.zoom.getDefaultZoomBarDomain()),(y[0].valueOf()!==k[0].valueOf()||y[1].valueOf()!==k[1].valueOf())&&r.services.zoom.handleDomainChange(k)},T=function(S){var P=S.selection;P!==null&&(O(P[0],P[1]),s.call(A.move,null),x.style("display","none"))},A=Nv().extent([[0,0],[c-1,h]]).on("start brush end",b).on("end.brushed",T);s.call(A);var w=this.services.zoom.getZoomRatio();o.on("click",function(S){if(S.shiftKey){var P=this.services.domUtils.getHolder(),M=Tn(s.node(),P)[0],k=M-c*w/2;k<0&&(k=0);var R=M+c*w/2;R>c&&(R=c),O(k,R)}})}},e.DASH_LENGTH=4,e}(ht),e3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=function(t){e3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid",n.renderType=tt.SVG,n}return e.prototype.render=function(n){n===void 0&&(n=!0);var r=_.getProperty(this.getOptions(),"grid","x","enabled"),a=_.getProperty(this.getOptions(),"grid","y","enabled");this.drawBackdrop(r,a),!(!r&&!a)&&(r&&(N.appendOrSelect(this.backdrop,"g.x.grid"),this.drawXGrid(n)),a&&(N.appendOrSelect(this.backdrop,"g.y.grid"),this.drawYGrid(n)))},e.prototype.drawXGrid=function(n){var r=this,a=this.parent,i=this.backdrop.attr("height"),o=this.services.cartesianScales.getMainXScale(),s=Ni(o).tickSizeInner(-i).tickSizeOuter(0),l=_.getProperty(this.getOptions(),"grid","x","alignWithAxisTicks");if(l){var u=this.services.cartesianScales.getDomainAxisPosition(),c=_.getProperty(this.getOptions(),"axes",u,"ticks","values");c&&s.tickValues(c)}else{var h=_.getProperty(this.getOptions(),"grid","x","numberOfTicks");s.ticks(h)}var f=a.select(".x.grid").attr("transform","translate("+-this.backdrop.attr("x")+", "+i+")");n?f.transition().call(function(p){return r.services.transitions.setupTransition({transition:p,name:"grid-update",animate:n})}).call(s):f.call(s),this.cleanGrid(f)},e.prototype.drawYGrid=function(n){var r=this,a=this.parent,i=this.backdrop.attr("width"),o=this.services.cartesianScales.getMainYScale(),s=Cd(o).tickSizeInner(-i).tickSizeOuter(0),l=_.getProperty(this.getOptions(),"grid","y","alignWithAxisTicks");if(l){var u=this.services.cartesianScales.getRangeAxisPosition(),c=_.getProperty(this.getOptions(),"axes",u,"ticks","values");c&&s.tickValues(c)}else{var h=_.getProperty(this.getOptions(),"grid","y","numberOfTicks");s.ticks(h)}var f=a.select(".y.grid").attr("transform","translate(0, "+-this.backdrop.attr("y")+")");n?f.transition().call(function(p){return r.services.transitions.setupTransition({transition:p,name:"grid-update",animate:n})}).call(s):f.call(s),this.cleanGrid(f)},e.prototype.getGridlineThreshold=function(n){var r=this.parent,a=r.selectAll(".x.grid .tick").nodes().sort(function(p,d){return Number(_.getTranslationValues(p).tx)-Number(_.getTranslationValues(d).tx)}),i=-1,o;if(!!a.length){a.forEach(function(p,d){n[0]>=+_.getTranslationValues(p).tx&&i++}),o=i+1<a.length?i+1:a.length;var s=a[i],l=a[o],u;if(!s)u=+_.getTranslationValues(l).tx;else if(l)u=+_.getTranslationValues(l).tx-+_.getTranslationValues(s).tx;else{var c=r.select("rect.chart-grid-backdrop").node(),h=N.getSVGElementSize(c).width;u=h-+_.getTranslationValues(s).tx}var f=this.getOptions().tooltip.gridline.threshold;return u*f}},e.prototype.getActiveGridline=function(n){var r=_.getProperty(this.getOptions,"tooltip","gridline","threshold"),a=r||this.getGridlineThreshold(n),i=this.parent,o=i.selectAll(".x.grid .tick").filter(function(){var s=_.getTranslationValues(this),l={min:Number(s.tx)-a,max:Number(s.tx)+a};return l.min<=n[0]&&n[0]<=l.max});return o},e.prototype.drawBackdrop=function(n,r){var a=this.parent,i=this.services.cartesianScales.getMainXScale(),o=this.services.cartesianScales.getMainYScale(),s=i.range(),l=s[0],u=s[1],c=o.range(),h=c[0],f=c[1];this.backdrop=N.appendOrSelect(a,"svg.chart-grid-backdrop");var p=N.appendOrSelect(this.backdrop,n||r?"rect.chart-grid-backdrop.stroked":"rect.chart-grid-backdrop");this.backdrop.merge(p).attr("x",l).attr("y",f).attr("width",Math.abs(u-l)).attr("height",Math.abs(h-f)).lower(),p.attr("width","100%").attr("height","100%")},e.prototype.cleanGrid=function(n){n.selectAll("text").remove(),n.select(".domain").remove()},e}(ht),n3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bv=5;function r3(t,e){return t>e-Bv&&t<e+Bv}var hn=function(t){n3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="ruler",n.renderType=tt.SVG,n.isXGridEnabled=_.getProperty(n.getOptions(),"grid","x","enabled"),n.isYGridEnabled=_.getProperty(n.getOptions(),"grid","y","enabled"),n.isEventListenerAdded=!1,n}return e.prototype.render=function(){var n=_.getProperty(this.getOptions(),"ruler","enabled");this.drawBackdrop(),n&&!this.isEventListenerAdded?this.addBackdropEventListeners():!n&&this.isEventListenerAdded&&this.removeBackdropEventListeners()},e.prototype.removeBackdropEventListeners=function(){this.isEventListenerAdded=!1,this.backdrop.on("mousemove mouseover mouseout",null)},e.prototype.formatTooltipData=function(n){return n},e.prototype.showRuler=function(n,r){var a=this,i=r[0],o=r[1],s=this.parent,l=this.services.cartesianScales.getOrientation(),u=this.model.getDisplayData(),c=this.services.cartesianScales.getRangeScale(),h=c.range(),f=h[0],p=h[1],d=l===kt.HORIZONTAL?o:i,g=N.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),m=N.appendOrSelect(g,"line.ruler-line"),x=s.selectAll("[role=graphics-symbol]"),y=u.map(function(w){return{domainValue:a.services.cartesianScales.getDomainValue(w),originalData:w}}).filter(function(w){return r3(w.domainValue,d)});if(this.pointsWithinLine&&y.length===this.pointsWithinLine.length&&y.map(function(w){return w.domainValue}).join()===this.pointsWithinLine.map(function(w){return w.domainValue}).join())return this.pointsWithinLine=y,this.services.events.dispatchEvent(E.Tooltip.MOVE,{mousePosition:[i,o]});this.pointsWithinLine=y;var v=this.pointsWithinLine.reduce(function(w,S){if(w.length===0)return w.push(S),w;var P=w[0].domainValue,M=Math.abs(d-S.domainValue),k=Math.abs(d-P);return M>k||(M<k?w=[S]:w.push(S)),w},[]);if(v.length>0){var b=v.map(function(w){return w.originalData}).filter(function(w){var S=a.services.cartesianScales.getRangeIdentifier(w),P=w[S];return P!=null}),O=v.map(function(w){return w.domainValue}),T=x.filter(function(w){var S=a.services.cartesianScales.getDomainValue(w);return O.includes(S)});this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!_.isEqual(this.elementsToHighlight,T)&&this.hideRuler(),T.dispatch("mouseover"),this.elementsToHighlight=T,this.services.events.dispatchEvent(E.Tooltip.SHOW,{mousePosition:[i,o],hoveredElement:m,data:this.formatTooltipData(b)}),g.attr("opacity",1);var A=v[0];l==="horizontal"?m.attr("x1",p).attr("x2",f).attr("y1",A.domainValue).attr("y2",A.domainValue):m.attr("y1",p).attr("y2",f).attr("x1",A.domainValue).attr("x2",A.domainValue)}else this.hideRuler()},e.prototype.hideRuler=function(){var n=this.parent,r=N.appendOrSelect(n,"g.ruler"),a=n.selectAll("[role=graphics-symbol]");a.dispatch("mouseout"),this.services.events.dispatchEvent(E.Tooltip.HIDE),r.attr("opacity",0)},e.prototype.addBackdropEventListeners=function(){this.isEventListenerAdded=!0;var n=this,r=this.services.domUtils.getHolder(),a=this.model.getDisplayData(),i=function(s){var l=Tn(s,n.parent.node());n.showRuler(s,l)};if(a.length>100){var o=a.length%50*12.5;i=_.debounceWithD3MousePosition(function(s){var l=this.mousePosition;n.showRuler(s,l)},o,r)}this.backdrop.on("mousemove mouseover",i).on("mouseout",this.hideRuler.bind(this))},e.prototype.drawBackdrop=function(){var n=this.parent;this.backdrop=N.appendOrSelect(n,"svg.chart-grid-backdrop")},e}(ht),a3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},o3=function(t){a3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="ruler-binned",n.renderType=tt.SVG,n}return e.prototype.showRuler=function(n,r){var a=this,i=r[0],o=r[1],s=this.parent,l=this.model.getOptions(),u=this.services.cartesianScales.getOrientation(),c=this.services.cartesianScales.getRangeScale(),h=c.range(),f=h[0],p=h[1],d=this.services.cartesianScales.getDomainScale(),g=d.invert(u===kt.VERTICAL?i:o),m=N.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),x=N.appendOrSelect(m,"line.ruler-line"),y=s.selectAll("[role=graphics-symbol]"),v=y.filter(function(M){if(parseFloat(xt(M,"data.x0"))<=g&&parseFloat(xt(M,"data.x1"))>=g)return!0});if(v.size()>0){this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!_.isEqual(this.elementsToHighlight,v)&&this.hideRuler(),v.dispatch("mouseover"),this.elementsToHighlight=v;var b=B(v.nodes()[0]).datum(),O=parseFloat(xt(b,"data.x0")),T=parseFloat(xt(b,"data.x1")),A=this.model.getActiveDataGroupNames(),w=A.reverse().map(function(M){return{label:M,value:xt(b,"data."+M),class:a.model.getColorClassName({classNameTypes:[et.TOOLTIP],dataGroupName:M})}}).filter(function(M){return M.value!==0}),S=w.length>0;if(S){this.services.events.dispatchEvent(E.Tooltip.SHOW,{mousePosition:[i,o],hoveredElement:x,items:i3([{label:xt(l,"bins.rangeLabel")||"Range",value:O+" \u2013 "+T}],w,_.getProperty(l,"tooltip","showTotal")===!0?[{label:xt(l,"tooltip.totalLabel")||"Total",value:A.reduce(function(M,k){return M+parseFloat(xt(b,"data."+k))},0)}]:[])}),m.attr("opacity",1);var P=d((O+T)/2);u==="horizontal"?x.attr("x1",p).attr("x2",f).attr("y1",P).attr("y2",P):x.attr("y1",p).attr("y2",f).attr("x1",P).attr("x2",P)}else this.hideRuler()}else this.hideRuler()},e}(hn),s3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_o=function(t){s3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.formatTooltipData=function(n){return n.reverse()},e}(hn),l3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zu=function(t){l3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="toolbar",n.renderType=tt.HTML,n}return e.prototype.init=function(){var n=this,r=function(){return n.updateOverflowMenu(!1)};this.services.events.addEventListener(E.Toolbar.SHOW_OVERFLOW_MENU,function(){n.renderOverflowMenu(),document.body.addEventListener("click",r)}),this.services.events.addEventListener(E.Toolbar.HIDE_OVERFLOW_MENU,function(){document.body.removeEventListener("click",r)})},e.prototype.render=function(n){var r=this,a=this.getComponentContainer().attr("role","toolbar"),i=_.getProperty(this.getOptions(),"data","loading");if(i)a.html(""),this.overflowMenu=null;else{this.overflowMenu||(this.overflowMenu=a.append("div").attr("class","bx--overflow-menu-options bx--overflow-menu--flip").attr("tabindex",-1).attr("role","menu").html("<ul></ul>"));var o=this.getControlConfigs(),s=o.buttonList,l=o.overflowMenuItemList;l&&s.push(this.getOverflowButtonConfig());var u=a.selectAll("div.toolbar-control").data(s,function(f){return f.id});u.exit().remove();var c=u.enter().append("div").attr("class","toolbar-control bx--overflow-menu").attr("role","button"),h=this;c.merge(u).classed("disabled",function(f){return f.shouldBeDisabled()}).attr("aria-disabled",function(f){return f.shouldBeDisabled()}).attr("aria-label",function(f){return f.title}).html(function(f){return`
			<button
				class="bx--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="`+r.services.domUtils.generateElementIDString("control-"+f.id)+'" aria-label="'+f.title+`">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform; width: `+(f.iconSVG.width!==void 0?f.iconSVG.width:"20px")+"; height: "+(f.iconSVG.height!==void 0?f.iconSVG.height:"20px")+`" xmlns="http://www.w3.org/2000/svg" class="bx--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					`+f.iconSVG.content+`
				</svg>
			</button>`}).each(function(f,p){var d=this;B(this).select("button").on("click",function(g){f.shouldBeDisabled()||h.triggerFunctionAndEvent(f,g,d)}).on("keydown",function(g){g.key&&g.key==="Enter"||g.key===" "?(g.preventDefault(),h.triggerFunctionAndEvent(f,g,d)):g.key&&g.key==="ArrowLeft"?h.focusOnPreviousEnabledToolbarItem(p):g.key&&g.key==="ArrowRight"&&h.focusOnNextEnabledToolbarItem(p)})}),this.overflowButton=this.getComponentContainer().select("button.bx--overflow-menu__trigger#"+this.services.domUtils.generateElementIDString("control-toolbar-overflow-menu"))}},e.prototype.renderOverflowMenu=function(){var n=this,r=this.getControlConfigs().overflowMenuItemList,a=this.overflowMenu.select("ul").selectAll("li.bx--overflow-menu-options__option").data(r,function(o){return _.getProperty(o,"id")});a.exit().remove();var i=a.enter().append("li").attr("id",function(o){return n.services.domUtils.generateElementIDString("control-"+o.id)}).attr("class","bx--overflow-menu-options__option").attr("role","menuitem");i.append("button").attr("class","bx--overflow-menu-options__btn"),i.merge(a).classed("bx--overflow-menu-options__option--disabled",function(o){return o.shouldBeDisabled()}).attr("aria-disabled",function(o){return o.shouldBeDisabled()}).selectAll("button").text(function(o){return o.text})},e.prototype.isOverflowMenuOpen=function(){return this.overflowMenu.classed("is-open")},e.prototype.updateOverflowMenu=function(n){!this.overflowMenu||(this.overflowMenu.classed("is-open",n),this.overflowButton&&(this.overflowButton.attr("aria-expanded",n),B(this.overflowButton.node().parentNode).classed("bx--overflow-menu--open",n)),n?this.services.events.dispatchEvent(E.Toolbar.SHOW_OVERFLOW_MENU):this.services.events.dispatchEvent(E.Toolbar.HIDE_OVERFLOW_MENU))},e.prototype.focusOnPreviousEnabledToolbarItem=function(n){for(var r=this.getToolbarButtonItems(),a=r.length,i=n-1;i>=0;i--){var o=r[i];if(!o.shouldBeDisabled()){a=i;break}}if(a<r.length){var s=B("button#"+this.services.domUtils.generateElementIDString("control-"+r[a].id)).node();"focus"in s&&s.focus()}},e.prototype.focusOnNextEnabledToolbarItem=function(n){for(var r=this.getToolbarButtonItems(),a=-1,i=n+1;i<r.length;i++){var o=r[i];if(!o.shouldBeDisabled()){a=i;break}}if(a>-1){var s=B("button#"+this.services.domUtils.generateElementIDString("control-"+r[a].id)).node();"focus"in s&&s.focus()}},e.prototype.focusOnPreviousEnabledMenuItem=function(n){for(var r=this.getOverflowMenuItems(),a=r.length,i=n-1;i>=0;i--){var o=r[i];if(!o.shouldBeDisabled()){a=i;break}}if(a<r.length){var s=B("#"+this.services.domUtils.generateElementIDString("control-"+r[a].id)+" button").node();"focus"in s&&s.focus()}},e.prototype.focusOnNextEnabledMenuItem=function(n){for(var r=this.getOverflowMenuItems(),a=-1,i=n+1;i<r.length;i++){var o=r[i];if(!o.shouldBeDisabled()){a=i;break}}if(a>-1){var s=B("#"+this.services.domUtils.generateElementIDString("control-"+r[a].id)+" button").node();"focus"in s&&s.focus()}},e.prototype.toggleOverflowMenu=function(n){var r=this;if(this.isOverflowMenuOpen())this.updateOverflowMenu(!1);else{this.updateOverflowMenu(!0);var a=this,i=this.getOverflowMenuItems();i.forEach(function(o,s){var l=B("#"+r.services.domUtils.generateElementIDString("control-"+o.id));l!==null&&(l.on("click",function(){a.triggerFunctionAndEvent(o,n,l.node()),a.updateOverflowMenu(!1)}),l.on("keydown",function(u){u&&u.key==="Enter"?a.triggerFunctionAndEvent(o,n,l.node()):u&&u.key==="ArrowUp"?a.focusOnPreviousEnabledMenuItem(s):u&&u.key==="ArrowDown"?a.focusOnNextEnabledMenuItem(s):u&&u.key==="Escape"&&a.updateOverflowMenu(!1),u.preventDefault()}))}),a.focusOnNextEnabledMenuItem(-1)}n&&n.stopImmediatePropagation()},e.prototype.triggerFunctionAndEvent=function(n,r,a){typeof n.clickFunction=="function"&&n.clickFunction(r),this.services.events.dispatchEvent(E.Toolbar.BUTTON_CLICK,{control:n,event:r,element:a})},e.prototype.getControlConfigs=function(){var n=this,r=_.getProperty(this.getOptions(),"toolbar","numberOfIcons")-1,a=_.getProperty(this.getOptions(),"toolbar","controls"),i=[],o=[],s=[];return a.forEach(function(l){var u=null;l.type===Et.CUSTOM?(_.getProperty(l,"id")===null&&(l.id="toolbar-button-"+e.buttonID++),_.getProperty(l,"shouldBeDisabled")===null&&(l.shouldBeDisabled=function(){return!1}),u=l):u=n.getControlConfigByType(l.type),u&&(u.text=l.text?l.text:l.type,u.id.indexOf("toolbar-export")!==-1?i.push(u):o.length<r?_.getProperty(u,"iconSVG","content")===null?s.push(u):o.push(u):s.push(u))}),s.push.apply(s,i),s.length?{buttonList:o,overflowMenuItemList:s}:{buttonList:o}},e.prototype.getToolbarButtonItems=function(){var n=this.getControlConfigs(),r=n.buttonList,a=n.overflowMenuItemList;return a&&r.push(this.getOverflowButtonConfig()),r||[]},e.prototype.getOverflowMenuItems=function(){var n=this.getControlConfigs().overflowMenuItemList;return n||[]},e.prototype.getOverflowButtonConfig=function(){var n=this;return{id:"toolbar-overflow-menu",title:"More options",shouldBeDisabled:function(){return!1},iconSVG:{content:`<circle cx="16" cy="8" r="2"></circle>
				<circle cx="16" cy="16" r="2"></circle>
				<circle cx="16" cy="24" r="2"></circle>`},clickFunction:function(r){return n.toggleOverflowMenu(r)}}},e.prototype.getControlConfigByType=function(n){var r=this,a=this.services.zoom&&this.services.zoom.isZoomBarEnabled()&&!this.services.zoom.isEmptyState(),i=this.model.getDisplayData(),o;switch(n){case Et.ZOOM_IN:a&&(o={id:"toolbar-zoomIn",title:"Zoom in",shouldBeDisabled:function(){return r.services.zoom.isMinZoomDomain()},iconSVG:{content:this.getControlIconByType(n)},clickFunction:function(){return r.services.zoom.zoomIn()}});break;case Et.ZOOM_OUT:a&&(o={id:"toolbar-zoomOut",title:"Zoom out",shouldBeDisabled:function(){return r.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(n)},clickFunction:function(){return r.services.zoom.zoomOut()}});break;case Et.RESET_ZOOM:a&&(o={id:"toolbar-resetZoom",title:"Reset zoom",shouldBeDisabled:function(){return r.services.zoom.isMaxZoomDomain()},iconSVG:{content:this.getControlIconByType(n)},clickFunction:function(){return r.services.zoom.resetZoomDomain()}});break;case Et.MAKE_FULLSCREEN:o={id:"toolbar-makefullscreen",iconSVG:{content:this.getControlIconByType(n),width:"15px",height:"15px"},title:"Make fullscreen",shouldBeDisabled:function(){return!1},clickFunction:function(){r.services.domUtils.toggleFullscreen()}};break;case Et.SHOW_AS_DATATABLE:o={id:"toolbar-showasdatatable",iconSVG:{content:this.getControlIconByType(n)},title:"Show as table",shouldBeDisabled:function(){return i.length===0},clickFunction:function(){return r.services.events.dispatchEvent(E.Modal.SHOW)}};break;case Et.EXPORT_CSV:o={id:"toolbar-export-CSV",title:"Export as CSV",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(n)},clickFunction:function(){return r.model.exportToCSV()}};break;case Et.EXPORT_PNG:o={id:"toolbar-export-PNG",title:"Export as PNG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(n)},clickFunction:function(){return r.services.domUtils.exportToPNG()}};break;case Et.EXPORT_JPG:o={id:"toolbar-export-JPG",title:"Export as JPG",shouldBeDisabled:function(){return!1},iconSVG:{content:this.getControlIconByType(n)},clickFunction:function(){return r.services.domUtils.exportToJPG()}};break;default:throw Error("Not supported toolbar control type: "+n)}return o},e.prototype.getControlIconByType=function(n){switch(n){case Et.ZOOM_IN:return`<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Et.ZOOM_OUT:return`<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Et.RESET_ZOOM:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Et.MAKE_FULLSCREEN:return'<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';case Et.SHOW_AS_DATATABLE:return'<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';case Et.EXPORT_CSV:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Et.EXPORT_JPG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Et.EXPORT_PNG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';default:throw Error("Not supported toolbar control type: "+n)}},e.buttonID=0,e}(ht),u3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yr=function(t){u3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="zero-line",n.renderType=tt.SVG,n}return e.prototype.render=function(n){var r=this,a=this.services.cartesianScales.getRangeAxisPosition({groups:this.configs.groups}),i=this.services.cartesianScales.getScaleByPosition(a),o=i.domain(),s=o[0],l=o[1],u=s>0&&l<0||s<0&&l>0,c=this.getComponentContainer();if(!u){c.selectAll("line.domain").remove();return}var h=this.services.cartesianScales.getDomainScale().range(),f=h[0],p=h[1],d=+i(0)+.5;d||(d=i.range()[0]);var g=_.flipSVGCoordinatesBasedOnOrientation({x0:f,x1:p,y0:d,y1:d},this.services.cartesianScales.getOrientation()),m=N.appendOrSelect(c,"line.domain");m.transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"zero-line-update",animate:n})}).attr("y1",g.y0).attr("y2",g.y1).attr("x1",g.x0).attr("x2",g.x1)},e}(ht),c3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),f3=function(t){c3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="zoom-bar",n.renderType=tt.SVG,n.MIN_SELECTION_DIFF=9e-10,n.brushSelector="g.zoom-bar-brush",n.clipId="zoomBarClip-"+Math.floor(Math.random()*99999999999),n.brush=Nv(),n.highlightStrokeWidth=1,n}return e.prototype.init=function(){this.services.events.addEventListener(E.ZoomBar.UPDATE,this.render.bind(this));var n=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"data");this.model.setZoomBarData(n)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer(),i=this.services.zoom.isZoomBarLoading($.TOP),o=this.services.zoom.isZoomBarLocked($.TOP),s=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"type"),l=_.getProperty(this.getOptions(),"axes",$.BOTTOM,"highlights"),u=ae.height[s],c=N.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(c!==0){var h=0,f=this.model.get("axesMargins");f&&f.left&&(h=f.left);var p=N.appendOrSelect(a,"svg.zoom-container").attr("width","100%").attr("height",u).attr("opacity",1);if(N.appendOrSelect(a,"rect.zoom-spacer").attr("x",0).attr("y",u).attr("width","100%").attr("height",ae.spacerHeight).attr("opacity",1).attr("fill","none"),s===Oe.GRAPH_VIEW?N.appendOrSelect(p,"rect.zoom-bg").attr("x",h).attr("y",0).attr("width",c-h).attr("height","100%").classed("zoom-bg-skeleton",i).style("stroke",i?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null):s===Oe.SLIDER_VIEW&&N.appendOrSelect(p,"rect.zoom-slider-bg").attr("x",h).attr("y",u/2-1).attr("width",c-h).attr("height",2).classed("zoom-slider-bg-skeleton",i).style("stroke",i?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null),i){this.renderSkeleton(p,h,c);return}var d=this.services.cartesianScales,g=d.getMainXScale(),m=d.getMainYScale(),x=d.getMainXScaleType();if(g&&x===K.TIME){var y=this.services.zoom.getZoomBarData();if(_.isEmpty(y)||y.length===1)return;this.xScale=g.copy(),this.yScale=m.copy();var v=this.services.zoom.getDefaultZoomBarDomain(y);y=this.compensateDataForDefaultDomain(y,v);var b=this.model.get("initialZoomDomain"),O=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"initialZoomDomain");O&&O[0]&&O[1]&&(O[0]=new Date(O[0]),O[1]=new Date(O[1])),O&&!(b&&b[0].valueOf()===O[0].valueOf()&&b[1].valueOf()===O[1].valueOf())?this.model.set({initialZoomDomain:_.merge([],O),zoomDomain:O?_.merge([],O):v},{skipUpdate:!0}):O===null&&b!==null&&this.model.set({initialZoomDomain:null,zoomDomain:_.merge([],v)},{skipUpdate:!0}),this.xScale.range([h,c]).domain(v),this.maxSelectionRange=this.xScale.range(),this.yScale.range([0,u-6]).domain(Le(y,function(R){return R.value}));var T=this.model.get("zoomDomain");if(s===Oe.GRAPH_VIEW&&(this.renderZoomBarArea(p,"path.zoom-graph-area-unselected",y,null),this.updateClipPath(a,this.clipId,0,0,0,0),this.renderZoomBarArea(p,"path.zoom-graph-area",y,this.clipId),this.renderZoomBarBaseline(p,h,c),l)){var A=l.highlightStartMapsTo,w=l.highlightEndMapsTo,S=l.color,P=l.labelMapsTo;l.data.forEach(function(R,U){N.appendOrSelect(p,"rect.highlight-"+U).attr("height",u-2*r.highlightStrokeWidth).attr("y",r.highlightStrokeWidth).attr("x",r.xScale(R[A])).attr("width",r.xScale(R[w])-r.xScale(R[A])).style("fill",S&&S.scale[R[P]]?S.scale[R[P]]:null).style("fill-opacity",.1).style("stroke",S&&S.scale[R[P]]?S.scale[R[P]]:null).style("stroke-dasharray","2, 2").attr("stroke-width",1+"px")})}this.addBrushEventListener(T,h,c);var M=N.appendOrSelect(a,this.brushSelector).call(this.brush);if(T!==void 0)if(T[0].valueOf()===T[1].valueOf())M.call(this.brush.move,this.xScale.range()),this.updateBrushHandle(this.getComponentContainer(),this.xScale.range(),this.xScale.domain());else{var k=T.map(function(R){return r.xScale(R)});k[1]-k[0]<this.MIN_SELECTION_DIFF||(M.call(this.brush.move,k),this.updateBrushHandle(this.getComponentContainer(),k,T))}o&&(this.brush.filter(function(){return!1}),M.selectAll("rect").attr("cursor","auto"))}}},e.prototype.addBrushEventListener=function(n,r,a){var i=this,o=function(u){var c=u.selection;c===null?i.handleBrushedEvent(u,n,i.xScale,i.xScale.range()):c[0]===c[1]||i.handleBrushedEvent(u,n,i.xScale,c)},s=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"type"),l=ae.height[s];this.brush.extent([[r,0],[a,l]]).on("start brush end",null).on("start brush end",o)},e.prototype.handleBrushedEvent=function(n,r,a,i){var o=[a.invert(i[0]),a.invert(i[1])];if(this.updateBrushHandle(this.getComponentContainer(),i,o),n.sourceEvent!=null&&(n.sourceEvent.type==="mousemove"||n.sourceEvent.type==="mouseup"||n.sourceEvent.type==="mousedown"||n.sourceEvent.type==="touchstart"||n.sourceEvent.type==="touchmove"||n.sourceEvent.type==="touchend")){(r===void 0||r[0]!==o[0]||r[1]!==o[1])&&this.services.zoom.handleDomainChange(o,{dispatchEvent:!1});var s=void 0;n.type==="start"?s=E.ZoomBar.SELECTION_START:n.type==="brush"?s=E.ZoomBar.SELECTION_IN_PROGRESS:n.type==="end"&&(s=E.ZoomBar.SELECTION_END,this.services.events.dispatchEvent(E.ZoomDomain.CHANGE,{newDomain:o})),this.services.events.dispatchEvent(s,{selection:i,newDomain:o})}},e.prototype.updateBrushHandle=function(n,r,a){var i=this,o=ae.handleWidth,s=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"type"),l=ae.height[s],u=-o/2,c=ae.handleBarWidth,h=s===Oe.GRAPH_VIEW?ae.handleBarHeight:6,f=-c/2,p=(l-h)/2;n.select(this.brushSelector).selectAll("rect.handle").data([{type:"w"},{type:"e"}]).attr("x",function(g){if(g.type==="w")return Math.max(r[0]+u,i.maxSelectionRange[0]);if(g.type==="e")return Math.min(r[1]+u,i.maxSelectionRange[1]-o)}).attr("y",0).attr("width",o).attr("height",l).attr("cursor","ew-resize").style("display",null);var d=n.select(this.brushSelector).selectAll("rect.handle-bar").data([{type:"w"},{type:"e"}]);d.enter().append("rect").attr("class",function(g){return"handle-bar handle-bar--"+g.type}),d.attr("x",function(g){if(g.type==="w")return Math.max(r[0]+f,i.maxSelectionRange[0]-u+f);if(g.type==="e")return Math.min(r[1]+f,i.maxSelectionRange[1]+u+f)}).attr("y",p).attr("width",c).attr("height",h).attr("cursor","ew-resize"),s===Oe.SLIDER_VIEW&&this.updateSliderSelectedArea(r),this.updateClipPath(n,this.clipId,r[0],0,r[1]-r[0],l)},e.prototype.updateSliderSelectedArea=function(n){var r=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"type"),a=ae.height[r];N.getSVGElementSize(this.parent,{useAttrs:!0}).width;var i=this.model.get("axesMargins");i&&i.left;var o=this.getComponentContainer(),s=o.select("svg.zoom-container");N.appendOrSelect(s,"rect.zoom-slider-selected-area").attr("x",n[0]).attr("y",a/2-1).attr("width",n[1]-n[0]).attr("height",2)},e.prototype.renderZoomBarArea=function(n,r,a,i){var o=this.services.cartesianScales,s=o.getMainXAxisPosition(),l=o.getMainYAxisPosition(),u=o.getMainXScaleType(),c=o.getMainYScaleType(),h=function(y,v,b){return function(O,T){return o.getValueFromScale(y,v,b,O,T)}},f=h(this.xScale,u,s),p=h(this.yScale,c,l),d=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"type"),g=ae.height[d],m=zl().x(function(y,v){return f(y,v)}).y0(g).y1(function(y,v){return g-p(y,v)}),x=N.appendOrSelect(n,r).datum(a).attr("d",m);i&&x.attr("clip-path","url(#"+i+")")},e.prototype.updateClipPath=function(n,r,a,i,o,s){var l=N.appendOrSelect(n,"clipPath").attr("id",r);N.appendOrSelect(l,"rect").attr("x",a).attr("y",i).attr("width",o).attr("height",s)},e.prototype.compensateDataForDefaultDomain=function(n,r){if(!(!n||n.length<2)){var a=_.clone(n),i=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier();if(Number(r[0])<Number(a[0][i])){var s={};s[i]=r[0],s[o]=0,a.unshift(s)}if(Number(r[1])>Number(a[a.length-1][i])){var s={};s[i]=r[1],s[o]=0,a.push(s)}return a}},e.prototype.renderZoomBarBaseline=function(n,r,a,i){i===void 0&&(i=!1);var o=_.getProperty(this.model.getOptions(),"zoomBar",$.TOP,"type"),s=ae.height[o],l=_i()([[r,s],[a,s]]);N.appendOrSelect(n,"path.zoom-bg-baseline").attr("d",l).classed("zoom-bg-baseline-skeleton",i).style("stroke",i?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.renderSkeleton=function(n,r,a){this.renderZoomBarArea(n,"path.zoom-graph-area-unselected",[],null),this.renderZoomBarArea(n,"path.zoom-graph-area",[],this.clipId),this.brush.on("start brush end",null),N.appendOrSelect(this.getComponentContainer(),this.brushSelector).html(null);var i=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"type");i===Oe.GRAPH_VIEW&&this.renderZoomBarBaseline(n,r,a,!0)},e.prototype.destroy=function(){this.brush.on("start brush end",null),this.services.events.removeEventListener(E.ZoomBar.UPDATE,this.render.bind(this))},e}(ht),Uv=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},Ve=function(){function t(e,n){this.services={domUtils:N,files:pA,events:fA,gradientUtils:eu,transitions:vA,canvasZoom:JC},this.model=new Ke(this.services)}return t.prototype.init=function(e,n){var r=this;this.model.set({holder:e},{skipUpdate:!0}),Object.keys(this.services).forEach(function(a){var i=r.services[a];r.services[a]=new i(r.model,r.services)}),this.services.events.addEventListener(E.Model.UPDATE,function(a){var i=!!_.getProperty(a,"detail","animate");r.update(i)}),this.model.setData(n.data),this.services.events.addEventListener(E.Chart.RESIZE,function(){r.update(!1)}),this.components=this.getComponents(),this.update()},t.prototype.getComponents=function(){return console.error("getComponents() method is not implemented"),null},t.prototype.update=function(e){var n=this;if(e===void 0&&(e=!0),!!this.components){Object.keys(this.services).forEach(function(i){var o=n.services[i];o.update()}),this.components.forEach(function(i){return i.render(e)});var r=this.services.transitions.getPendingTransitions(),a=Object.keys(r).map(function(i){var o=r[i];return o.end().catch(function(s){return s})});Promise.all(a).then(function(){return n.services.events.dispatchEvent(E.Chart.RENDER_FINISHED)})}},t.prototype.destroy=function(){this.components.forEach(function(e){return e.destroy()}),this.services.domUtils.getHolder().remove(),this.model.set({destroyed:!0},{skipUpdate:!0})},t.prototype.getChartComponents=function(e,n){var r=this.model.getOptions(),a=_.getProperty(r,"toolbar","enabled"),i={id:"legend",components:[new lu(this.model,this.services)],growth:ct.PREFERRED},o=_.getProperty(r,"canvasZoom","enabled");o&&o===!0&&e.push(new RP(this.model,this.services));var s=!!this.model.getOptions().title,l={id:"title",components:[new Ji(this.model,this.services)],growth:ct.STRETCH},u={id:"toolbar",components:[new zu(this.model,this.services)],growth:ct.PREFERRED},c={id:"header",components:[new Be(this.model,this.services,Uv([l],a?[u]:[]),{direction:wt.ROW,alignItems:zn.CENTER})],growth:ct.PREFERRED},h={id:"graph-frame",components:e,growth:ct.STRETCH,renderType:_.getProperty(n,"graphFrameRenderType")||tt.SVG},f=_.getProperty(n,"excludeLegend")!==!0&&r.legend.enabled!==!1,p=wt.COLUMN;if(f){var d=_.getProperty(r,"legend","position");d==="left"?(p=wt.ROW,r.legend.orientation||(r.legend.orientation=$n.VERTICAL)):d==="right"?(p=wt.ROW_REVERSE,r.legend.orientation||(r.legend.orientation=$n.VERTICAL)):d==="bottom"&&(p=wt.COLUMN_REVERSE)}var g={id:"spacer",components:[new kn(this.model,this.services)],growth:ct.PREFERRED},m={id:"full-frame",components:[new Be(this.model,this.services,Uv(f?[i]:[],f?[g]:[],[h]),{direction:p})],growth:ct.STRETCH},x=[];if(s||a){x.push(c);var y={id:"spacer",components:[new kn(this.model,this.services,a?{size:15}:void 0)],growth:ct.PREFERRED};x.push(y)}return x.push(m),[new Fd(this.model,this.services),new _u(this.model,this.services),new Be(this.model,this.services,x,{direction:wt.COLUMN})]},t}(),h3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wu=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},Nn=function(t){h3(e,t);function e(n){var r=t.call(this,n)||this;return r.axisFlavor=Lr.DEFAULT,r}return e.prototype.assignRangeAndDomains=function(){var n=this.services.cartesianScales,r=this.getOptions(),a=n.isDualAxes(),i={primaryDomain:n.domainAxisPosition,primaryRange:n.rangeAxisPosition,secondaryDomain:null,secondaryRange:null};return a&&(i.secondaryDomain=n.secondaryDomainAxisPosition,i.secondaryRange=n.secondaryRangeAxisPosition),Object.keys(i).forEach(function(o){var s=i[o];n.scales[s]?i[o]={position:s,label:n.getScaleLabel(s),identifier:_.getProperty(r,"axes",s,"mapsTo")}:i[o]=null}),i},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.data.groupMapsTo,i=this.services.cartesianScales,o=this.assignRangeAndDomains(),s=o.primaryDomain,l=o.primaryRange,u=o.secondaryDomain,c=o.secondaryRange,h=i.getDomainAxisScaleType(),f;h===K.TIME&&(f=function(d){return ha(d,"MMM d, yyyy")});var p=Wu([Wu(["Group",s.label,l.label],u?[u.label]:[],c?[c.label]:[])],n.map(function(d){return Wu([d[a],d[s.identifier]===null?"&ndash;":f?f(d[s.identifier]):d[s.identifier],d[l.identifier]===null||isNaN(d[l.identifier])?"&ndash;":d[l.identifier].toLocaleString()],u?[d[u.identifier]===null?"&ndash;":d[u.identifier]]:[],c?[d[c.identifier]===null||isNaN(d[c.identifier])?"&ndash;":d[c.identifier]]:[])}));return p},e.prototype.setData=function(n){var r;if(n&&(r=t.prototype.setData.call(this,n),_.getProperty(this.getOptions(),"zoomBar",$.TOP,"enabled"))){var a=_.getProperty(this.getOptions(),"zoomBar",$.TOP,"data");this.setZoomBarData(a)}return r},e.prototype.setZoomBarData=function(n){var r=n?this.sanitize(_.clone(n)):this.getDisplayData(),a=r,i=this.services.cartesianScales;if(r&&i.domainAxisPosition&&i.rangeAxisPosition){var o=i.getDomainIdentifier(),s=i.getRangeIdentifier(),l=r.map(function(u){return u[o].getTime()});l=_.removeArrayDuplicates(l).sort(),a=l.map(function(u){var c=0,h={};return r.forEach(function(f){f[o].getTime()===u&&(c+=f[s])}),h[o]=new Date(u),h[s]=c,h})}this.set({zoomBarData:a})},e.prototype.getZoomBarData=function(){return this.get("zoomBarData")},e.prototype.sanitizeDateValues=function(n){var r=this.getOptions();if(!r.axes)return n;var a=[];return Object.keys($).forEach(function(i){var o=$[i],s=r.axes[o];if(s&&s.scaleType===K.TIME){var l=s.mapsTo;(l!==null||l!==void 0)&&a.push(l)}}),a.length>0&&n.forEach(function(i){a.forEach(function(o){_.getProperty(i,o,"getTime")===null&&(i[o]=new Date(i[o]))})}),n},e.prototype.sanitize=function(n){return n=t.prototype.sanitize.call(this,n),n=this.sanitizeDateValues(n),n},e}(Ke),p3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vv=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},oe=function(t){p3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.services=Object.assign(a.services,{cartesianScales:WC,curves:XC,zoom:KC}),a.model=new Nn(a.services),a}return e.prototype.getAxisChartComponents=function(n,r){var a=this.model.getOptions(),i=_.getProperty(a,"zoomBar",$.TOP,"enabled"),o=_.getProperty(a,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var s=this.services.cartesianScales.getMainXAxisPosition(),l=_.getProperty(a,"axes",s,"scaleType"),u=i&&s===$.BOTTOM&&l===K.TIME,c=this.services.zoom.isZoomBarLocked($.TOP),h=!!this.model.getOptions().title,f={id:"title",components:[new Ji(this.model,this.services)],growth:ct.STRETCH},p={id:"toolbar",components:[new zu(this.model,this.services)],growth:ct.PREFERRED},d={id:"header",components:[new Be(this.model,this.services,Vv([f],o?[p]:[]),{direction:wt.ROW,alignItems:zn.CENTER})],growth:ct.PREFERRED},g={id:"legend",components:[new lu(this.model,this.services)],growth:ct.PREFERRED};u&&!c&&n.push(new $d(this.model,this.services),new t3(this.model,this.services)),n.push(new wP(this.model,this.services)),n.push(new IP(this.model,this.services));var m={id:"graph-frame",components:n,growth:ct.STRETCH,renderType:tt.SVG},x=_.getProperty(r,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,y=wt.COLUMN;if(x){var v=_.getProperty(this.model.getOptions(),"legend","position");v===Hn.LEFT?(y=wt.ROW,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=$n.VERTICAL)):v===Hn.RIGHT?(y=wt.ROW_REVERSE,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=$n.VERTICAL)):v===Hn.BOTTOM&&(y=wt.COLUMN_REVERSE)}var b={id:"spacer",components:[new kn(this.model,this.services)],growth:ct.PREFERRED},O={id:"full-frame",components:[new Be(this.model,this.services,Vv(x?[g]:[],x?[b]:[],[m]),{direction:y})],growth:ct.STRETCH},T={id:"zoom-bar",components:[new f3(this.model,this.services)],growth:ct.PREFERRED,renderType:tt.SVG},A=[];if(h||o){A.push(d);var w={id:"spacer",components:[new kn(this.model,this.services,o?{size:15}:void 0)],growth:ct.PREFERRED};A.push(w)}return u&&A.push(T),A.push(O),[new Hd(this.model,this.services),new _u(this.model,this.services),new Be(this.model,this.services,A,{direction:wt.COLUMN})]},e}(Ve),d3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){d3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_.clone(_t.areaChart),r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new hn(this.model,this.services),new hr(this.model,this.services),new zd(this.model,this.services),new Ne(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0}),new te(this.model,this.services,{skeleton:Lt.GRID})],r=this.getAxisChartComponents(n);return r},e})(oe);var v3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){v3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.stackedAreaChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new _o(this.model,this.services),new Wd(this.model,this.services),new hr(this.model,this.services,{stacked:!0}),new Xd(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0,stacked:!0}),new te(this.model,this.services,{skeleton:Lt.GRID})],r=this.getAxisChartComponents(n);return r},e})(oe);var g3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){g3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.simpleBarChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new jd(this.model,this.services),new yr(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(n);return r},e})(oe);var m3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){m3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.groupedBarChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new qd(this.model,this.services),new yr(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(n);return r},e})(oe);var y3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){y3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.stackedBarChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new _o(this.model,this.services),new Yd(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.VERT_OR_HORIZ}),new yr(this.model,this.services)],r=this.getAxisChartComponents(n);return r},e})(oe);var _3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),x3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},b3=function(t){_3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getBoxQuartiles=function(n){return{q_25:fl(n,.25),q_50:fl(n,.5),q_75:fl(n,.75)}},e.prototype.getBoxplotData=function(){for(var n=this.getOptions(),r=n.data.groupMapsTo,a=this.getGroupedData(),i=[],o=function(p,d){for(var g,m=s.services.cartesianScales.getRangeIdentifier(),x=d.map(function(D){return D[m]}).sort(ri),y=(g={},g[r]=p,g.counts=x,g.quartiles=s.getBoxQuartiles(x),g.outliers=null,g.whiskers=null,g),v=y.quartiles.q_25,b=y.quartiles.q_75,O=(b-v)*1.5,T=v-O,A=b+O,w=[],S=[],P=0,M=x;P<M.length;P++){var k=M[P];k<T||k>A?w.push(k):S.push(k)}y.outliers=w;var R=je(S),U=We(S);y.whiskers={min:R||je([y.quartiles.q_25,y.quartiles.q_50,y.quartiles.q_75]),max:U||We([y.quartiles.q_25,y.quartiles.q_50,y.quartiles.q_75])},i.push(y)},s=this,l=0,u=a;l<u.length;l++){var c=u[l],h=c.name,f=c.data;o(h,f)}return i},e.prototype.getTabularDataArray=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this.getBoxplotData(),i=x3([["Group","Minimum","Q1","Median","Q3","Maximum","IQR","Outlier(s)"]],a.map(function(o){var s=_.getProperty(o,"outliers");return(s===null||s.length===0)&&(s=["&ndash;"]),[o[r],_.getProperty(o,"whiskers","min")!==null?_.getProperty(o,"whiskers","min").toLocaleString():"&ndash;",_.getProperty(o,"quartiles","q_25")!==null?_.getProperty(o,"quartiles","q_25").toLocaleString():"&ndash;",_.getProperty(o,"quartiles","q_50")!==null?_.getProperty(o,"quartiles","q_50").toLocaleString():"&ndash;",_.getProperty(o,"quartiles","q_75")!==null?_.getProperty(o,"quartiles","q_75").toLocaleString():"&ndash;",_.getProperty(o,"whiskers","max")!==null?_.getProperty(o,"whiskers","max").toLocaleString():"&ndash;",_.getProperty(o,"quartiles","q_75")!==null&&_.getProperty(o,"quartiles","q_25")!==null?(_.getProperty(o,"quartiles","q_75")-_.getProperty(o,"quartiles","q_25")).toLocaleString():"&ndash;",s.map(function(l){return l.toLocaleString()}).join(",")]}));return i},e.prototype.setColorClassNames=function(){var n=1,r=_.getProperty(this.getOptions(),"color","pairing"),a=_.getProperty(r,"option"),i=ds.pairingOptions;a=a<=i[n+"-color"]?a:1;var o=this.allDataGroups.map(function(s,l){return n+"-"+a+"-1"});this.colorClassNames=si().range(o).domain(this.allDataGroups)},e}(Nn),O3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){O3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new b3(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.boxplotChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new $P(this.model,this.services),new yr(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(n,{legend:{enabled:!1}});return r},e})(oe);var T3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){T3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.bubbleChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new hn(this.model,this.services),new jP(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.GRID})],r=this.getAxisChartComponents(n);return r},e})(oe);var w3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),E3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},S3=function(t){w3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getMatchingRangeIndexForDatapoint=function(n){for(var r,a=n.ranges.length-1;a>0;a--){var i=n.ranges[a];if(n.value>=i)return r=a,r}return 0},e.prototype.getTabularDataArray=function(){var n=this,r=this.getDisplayData(),a=this.getOptions(),i=a.data.groupMapsTo,o=this.services.cartesianScales.getRangeIdentifier(),s=_.getProperty(a,"bullet","performanceAreaTitles"),l=E3([["Title","Group","Value","Target","Percentage","Performance"]],r.map(function(u){return[u.title,u[i],u.value===null?"&ndash;":u.value,_.getProperty(u,"marker")===null?"&ndash;":u.marker,_.getProperty(u,"marker")===null?"&ndash;":Math.floor(u[o]/u.marker*100)+"%",s[n.getMatchingRangeIndexForDatapoint(u)]]}));return l},e}(Nn),M3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){M3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new S3(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.bulletChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new YP(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.GRID})],r=this.getAxisChartComponents(n);return r},e})(oe);var A3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ju=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},C3=function(t){A3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getTabularDataArray=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this.getBinnedStackedData(),i=ju([ju([xt(n,"bins.rangeLabel")||"Range"],a.map(function(o){return xt(o,"0."+r)}))],xt(a,0).map(function(o,s){return ju([xt(o,"data.x0")+" \u2013 "+xt(o,"data.x1")],a.map(function(l){return xt(l[s],"data."+xt(l[s],r))}))}));return i},e}(Nn),P3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){P3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new C3(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.histogramChart,r.options)),a.init(n,r),a.update(),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new o3(this.model,this.services),new ZP(this.model,this.services)],r=this.getAxisChartComponents(n);return r},e})(oe);var D3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){D3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.lineChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new hn(this.model,this.services),new hr(this.model,this.services),new Ne(this.model,this.services,{handleThresholds:!0}),new uD(this.model,this.services),new yr(this.model,this.services)],r=this.getAxisChartComponents(n);return r},e})(oe);var L3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){L3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.lollipopChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new hn(this.model,this.services),new JP(this.model,this.services),new Ne(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.GRID})],r=this.getAxisChartComponents(n);return r},e})(oe);var R3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){R3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.scatterChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new ve(this.model,this.services),new hn(this.model,this.services),new Ne(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.GRID})],r=this.getAxisChartComponents(n);return r},e})(oe);var k3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),I3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},N3=function(t){k3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularData=function(n){var r=t.prototype.getTabularData.call(this,n);return n!==r&&r.forEach(function(a){a.key&&a.key!==a.group&&(a.group=a.key)}),r},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.data.groupMapsTo,i=I3([["Group","Value"]],n.map(function(o){return[o[a],o.value===null?"&ndash;":o.value.toLocaleString()]}));return i},e.prototype.sanitize=function(n){var r=this.getTabularData(n);return r.sort(function(a,i){return i.value-a.value})},e}(Ke),B3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),U3=function(t){B3(e,t);function e(n,r,a){a===void 0&&(a=!1);var i=t.call(this,n,r)||this;return i.model=new N3(i.services),a||(i.model.setOptions(_.mergeDefaultChartOptions(_t.pieChart,r.options)),i.init(n,r)),i}return e.prototype.getComponents=function(){var n=[new Zd(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.PIE})],r=this.getChartComponents(n);return r},e}(Ve),V3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gv=function(t){V3(e,t);function e(n,r){var a=t.call(this,n,r,!0)||this;return a.model.setOptions(_.mergeDefaultChartOptions(_t.donutChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new oD(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.DONUT})],r=this.getChartComponents(n);return r},e}(U3),G3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qu=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},F3=function(t){G3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getMaximumDomain=function(n){var r=n.reduce(function(a,i){return a+i.value},0);return r},e.prototype.getFillColor=function(n){var r=this.getOptions(),a=_.getProperty(r,"color","scale"),i=this.getStatus();return a||!i?t.prototype.getFillColor.call(this,n):null},e.prototype.getStatus=function(){var n=this.getOptions(),r=_.getProperty(this.getDisplayData()),a=(r?r.reduce(function(l,u){return{value:l.value+u.value}}):0).value,i=_.getProperty(n,"meter","proportional")?a:a>100?100:a,o=_.getProperty(n,"meter","status","ranges");if(o){var s=o.filter(function(l){return l.range[0]<=i&&i<=l.range[1]});if(s.length>0)return s[0].status}return null},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.data.groupMapsTo,i=this.getStatus(),o=_.getProperty(r,"meter","proportional"),s=[],l;if(o===null){l=100;var u=n[0];s=[qu(["Group","Value"],i?["Status"]:[]),qu([u[a],u.value],i?[i]:[])]}else{var c=_.getProperty(o,"total");l=c||this.getMaximumDomain(n),s=qu([["Group","Value","Percentage of total"]],n.map(function(h){return[h[a],h.value,(h.value/l*100).toFixed(2)+" %"]}))}return s},e}(Ke),H3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_r=globalThis&&globalThis.__assign||function(){return _r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},_r.apply(this,arguments)},$3=function(t){H3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="meter",n.renderType=tt.SVG,n}return e.prototype.getStackedBounds=function(n,r){var a=0,i=n.map(function(o,s){return s!==0?(a+=r(o.value),_r(_r({},o),{width:Math.abs(r(o.value)-It.dividerWidth),x:a-r(o.value)})):(a=r(o.value),_r(_r({},o),{width:Math.abs(r(o.value)-It.dividerWidth),x:0}))});return i},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this,i=this.getComponentContainer(),o=this.getOptions(),s=_.getProperty(o,"meter","proportional"),l=this.model.getDisplayData(),u=this.model.getStatus(),c=N.getSVGElementSize(i,{useAttrs:!0}).width,h=o.data.groupMapsTo,f;if(_.getProperty(o,"meter","proportional")===null)f=100;else{var p=_.getProperty(o,"meter","proportional","total");f=p||this.model.getMaximumDomain(this.model.getDisplayData())}var d=Ye().domain([0,f]).range([0,c]),g=this.getStackedBounds(l,d),m=_.getProperty(o,"meter","height");N.appendOrSelect(i,"rect.container").attr("x",0).attr("y",0).attr("width",c).attr("height",m||(s?It.height.proportional:It.height.default)),N.appendOrSelect(i,"line.rangeIndicator").attr("x1",c).attr("x2",c).attr("y1",0).attr("y2",m||(s?It.height.proportional:It.height.default));var x=i.selectAll("rect.value").data(g),y=u!=null&&!a.model.isUserProvidedColorScaleValid()&&!s?"value status--"+u:"value";x.enter().append("rect").classed("value",!0).merge(x).attr("x",function(T){return T.x}).attr("y",0).attr("height",function(){var T=_.getProperty(o,"meter","height");return T||(s?It.height.proportional:It.height.default)}).attr("class",function(T){return r.model.getColorClassName({classNameTypes:[et.FILL],dataGroupName:T[h],originalClassName:y})}).transition().call(function(T){return r.services.transitions.setupTransition({transition:T,name:"meter-bar-update",animate:n})}).attr("width",function(T,A){return T.value>f?d(f):T.width}).style("fill",function(T){return a.model.getFillColor(T[h])}).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(T){return T.value}),x.exit().remove();var v=_.getProperty(o,"meter","peak"),b=v;v!==null&&(v>f?b=f:v<l[0].value&&(b=l[0].value>f?f:l[0].value));var O=i.selectAll("line.peak").data(b==null?[]:[b]);O.enter().append("line").classed("peak",!0).merge(O).attr("y1",0).attr("y2",function(){var T=_.getProperty(o,"meter","height");return T||(s?It.height.proportional:It.height.default)}).transition().call(function(T){return r.services.transitions.setupTransition({transition:T,name:"peak-line-update",animate:n})}).attr("x1",function(T){return d(T)}).attr("x2",function(T){return d(T)}).attr("role",ot.GRAPHICS_SYMBOL).attr("aria-roledescription","peak").attr("aria-label",function(T){return T}),O.exit().remove(),this.services.domUtils.setSVGMaxHeight(),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this,i=_.getProperty(n,"meter","proportional");this.parent.selectAll("rect.value").on("mouseover",function(o,s){var l=B(this);a.services.events.dispatchEvent(E.Meter.METER_MOUSEOVER,{event:o,element:l,datum:s}),i&&(l.classed("hovered",!0),a.services.events.dispatchEvent(E.Tooltip.SHOW,{event:o,hoveredElement:l,items:[{label:s[r],value:s.value}]}))}).on("mousemove",function(o,s){var l=B(this);a.services.events.dispatchEvent(E.Meter.METER_MOUSEMOVE,{event:o,element:l,datum:s}),i&&a.services.events.dispatchEvent(E.Tooltip.MOVE,{event:o})}).on("click",function(o,s){a.services.events.dispatchEvent(E.Meter.METER_CLICK,{event:o,element:B(this),datum:s})}).on("mouseout",function(o,s){var l=B(this);a.services.events.dispatchEvent(E.Meter.METER_MOUSEOUT,{event:o,element:l,datum:s}),i&&(l.classed("hovered",!1),a.services.events.dispatchEvent(E.Tooltip.HIDE,{hoveredElement:l}))})},e.prototype.destroy=function(){this.parent.selectAll("rect.value").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null)},e}(ht),z3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){z3(e,t);function e(n,r){var a=t.call(this,n,r)||this;a.model=new F3(a.services);var i=r.options.meter.proportional?_.merge(_.clone(_t.proportionalMeterChart),r.options):_.merge(_.clone(_t.meterChart),r.options);return a.model.setOptions(i),a.init(n,r),a}return e.prototype.getComponents=function(){var n={id:"meter-graph",components:[new $3(this.model,this.services)],growth:ct.STRETCH,renderType:tt.SVG},r={id:"meter-title",components:[new MP(this.model,this.services)],growth:ct.STRETCH,renderType:tt.SVG},a={id:"spacer",components:[new kn(this.model,this.services,{size:8})],growth:ct.STRETCH},i=[new Be(this.model,this.services,[r,a,n],{direction:wt.COLUMN})],o=this.getChartComponents(i,{graphFrameRenderType:tt.HTML});return o},e})(Ve);var W3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yu=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},j3=function(t){W3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this.getOptions(),r=this.getGroupedData(),a=_.getProperty(n,"radar","axes"),i=a.angle,o=a.value,s=_.getProperty(r,"0","data").map(function(u){return u[i]}),l=Yu([Yu(["Group"],s)],r.map(function(u){return Yu([u.name],s.map(function(c,h){return _.getProperty(u,"data",h,o)!==null?_.getProperty(u,"data",h,o).toLocaleString():"&ndash;"}))}));return l},e}(Nn),q3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){q3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new j3(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.radarChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new Hk(this.model,this.services)],r=this.getChartComponents(n);return r},e})(Ve);var Y3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),X3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},Z3=function(t){Y3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDataGroups=function(){return t.prototype.getDataGroups.call(this).filter(function(n){return n.name!=="delta"})},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.data.groupMapsTo,i=X3([["Group","Value"]],n.map(function(o){return[o[a],o.value===null?"&ndash;":o.value.toLocaleString()]}));return i},e}(Ke),K3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fv=function(t){K3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new Z3(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.gaugeChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new aD(this.model,this.services)],r=this.getChartComponents(n);return r},e}(Ve),Q3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),J3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},nn,Hv=(nn={},nn[fe.LINE]=[hr,Ne],nn[fe.SCATTER]=[Ne],nn[fe.AREA]=[zd,hr,Ne],nn[fe.STACKED_AREA]=[Wd,hr,Xd,_o],nn[fe.SIMPLE_BAR]=[jd],nn[fe.GROUPED_BAR]=[qd,yr],nn[fe.STACKED_BAR]=[Yd,_o],nn);(function(t){Q3(e,t);function e(n,r){var a=t.call(this,n,r)||this,i=_.mergeDefaultChartOptions(_t.comboChart,r.options);return r.options.comboChartTypes||(console.error("No comboChartTypes defined for the Combo Chart!"),i.comboChartTypes=[{type:fe.LINE,correspondingDatasets:[]}]),a.model.setOptions(i),a.init(n,r),a}return e.prototype.getGraphComponents=function(){var n=this,r=this.model.getOptions().comboChartTypes,a=0,i=r.map(function(o){var s=o.type,l;if(typeof o.type=="string"){if(!Object.keys(Hv).includes(o.type))return console.error('Invalid chart type "'+o.type+'" specified for combo chart. Please refer to the ComboChart tutorial for more guidance.'),null;var u;return l=_.merge({},_t[_.camelCase(o.type)+"Chart"],n.model.getOptions(),o.options),o.type===fe.STACKED_AREA&&(u=!0),Hv[o.type].map(function(c,h){return new c(n.model,n.services,{groups:o.correspondingDatasets,id:a++,options:l,stacked:u})})}else return l=_.merge({},n.model.getOptions(),o.options),new s(n.model,n.services,{groups:o.correspondingDatasets,id:a++,options:l})}).filter(function(o){return o!==null});return _.flatten(i)},e.prototype.getComponents=function(){var n=this.model.getOptions().comboChartTypes,r=n.some(function(o){return o.type===fe.STACKED_BAR||o.type===fe.STACKED_AREA}),a=J3([new ie(this.model,this.services),new ve(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.GRID})],r?[]:[new hn(this.model,this.services)],this.getGraphComponents()),i=this.getAxisChartComponents(a);return i},e})(oe);var tB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eB=function(t){tB(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this,r=this.getDisplayData(),a=[["Child","Parent"]];return r.forEach(function(i){n.getChildrenDatums(i,a),a.push([i.name,"&ndash;"])}),a},e.prototype.getChildrenDatums=function(n,r){var a=this;r===void 0&&(r=[]),n.children&&n.children.length>0&&n.children.forEach(function(i){a.getChildrenDatums(i,r),r.push([i.name,n.name])})},e}(Ke),nB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){nB(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new eB(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.treeChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new lL(this.model,this.services)],r=this.getChartComponents(n,{excludeLegend:!0});return r},e})(Ve);var rB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aB=function(t){rB(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=[["Child","Group","Value"]];return n.forEach(function(a){a.children.forEach(function(i){r.push([i.name,a.name,i.value])})}),r},e}(Ke),iB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){iB(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new aB(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.treemapChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new Uk(this.model,this.services)],r=this.getChartComponents(n);return r},e})(Ve);var oB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xr=globalThis&&globalThis.__assign||function(){return xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},xr.apply(this,arguments)},sB=function(t){oB(e,t);function e(n){var r=t.call(this,n)||this;return r.parentNode=!1,r.set({depth:2},{skipUpdate:!0}),r}return e.prototype.setData=function(n){t.prototype.setData.call(this,n),this.setDataGroups(),n.length===1&&(this.parentNode=!0),this.setZoom()},e.prototype.setOptions=function(n){var r=this.getOptions(),a=_.merge({},n,this.getZoomOptions(n));_.updateLegendAdditionalItems(r,a);var i=this.getHierarchyLevel(),o=_.getProperty(r,"circlePack","hierarchyLevel");this.set({options:_.merge(r,a),depth:o&&o<4?o:i})},e.prototype.getZoomOptions=function(n){if(!this.getDisplayData())return{};var r=this.getDisplayData(),a=n||this.getOptions(),i=r.length===1&&_.getProperty(r,0,"children")?_.getProperty(r,0,"children"):r,o=this.getHierarchyLevel();return i.some(function(s){if(s.children&&s.children.some(function(l){return l.children}))return o=3,!1}),_.getProperty(a,"canvasZoom","enabled")===!0&&o>2?{legend:{additionalItems:[{type:Rt.ZOOM,name:"Click to zoom"}]}}:null},e.prototype.setZoom=function(n){this.setOptions(this.getZoomOptions(n))},e.prototype.updateHierarchyLevel=function(n){this.set({depth:n})},e.prototype.getHierarchyLevel=function(){return this.get("depth")},e.prototype.hasParentNode=function(){return this.parentNode},e.prototype.setDataGroups=function(){var n=this,r=this.getData(),a=this.getOptions(),i=a.data.groupMapsTo,o=r.map(function(s){var l=s[i];return n.setChildrenDataGroup(s,l)});this.set({data:o},{skipUpdate:!0})},e.prototype.setChildrenDataGroup=function(n,r){var a=this;return n.children?xr(xr({},n),{dataGroupName:r,children:n.children.map(function(i,o){return a.setChildrenDataGroup(i,r)})}):xr(xr({},n),{dataGroupName:r})},e.prototype.getTabularDataArray=function(){var n=this,r=this.getDisplayData(),a=[["Child","Parent","Value"]];return r.forEach(function(i){var o=i.value?i.value:0;i.children&&(o+=n.getChildrenDatums(i.children,i.name,a,0)),a.push(["&ndash;",i.name,o])}),a},e.prototype.getChildrenDatums=function(n,r,a,i){var o=this;a===void 0&&(a=[]),i===void 0&&(i=0);var s=r;return n.forEach(function(l){var u=l.name,c=0;if(l.children)l.children.length>0&&(typeof l.value=="number"&&(i+=l.value),c+=o.getChildrenDatums(l.children,u,a,c),a.push([u,s,c]),i+=c);else{var h=0;typeof l.value=="number"&&(h=l.value,i+=l.value),a.push([l.name,s,h])}}),i},e}(Ke),lB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){lB(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new sB(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.circlePackChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new Wk(this.model,this.services)],r=this.getChartComponents(n);return r},e})(Ve);var uB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cB=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},fB=function(t){uB(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.wordCloud,i=a.fontSizeMapsTo,o=a.wordMapsTo,s=r.data.groupMapsTo,l=cB([[r.tooltip.wordLabel,"Group",r.tooltip.valueLabel]],n.map(function(u){return[u[o],u[s],u[i]]}));return l},e}(Ke),hB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){hB(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new fB(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.wordCloudChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new pI(this.model,this.services),new te(this.model,this.services,{skeleton:Lt.PIE})],r=this.getChartComponents(n);return r},e})(Ve);var pB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dB=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},vB=function(t){pB(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this.getDisplayData();n.sort(function(a,i){return a.source.localeCompare(i.source)});var r=dB([["Source","Target","Value"]],n.map(function(a){return[a.source,a.target,a.value]}));return r},e}(Nn),gB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){gB(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new vB(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.alluvialChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new TI(this.model,this.services)],r=this.getChartComponents(n,{excludeLegend:!0});return r},e})(Ve);var mB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yB=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},_B=function(t){mB(e,t);function e(n){var r=t.call(this,n)||this;r.axisFlavor=Lr.HOVERABLE,r._colorScale=void 0,r._domains=[],r._ranges=[],r._matrix={};var a=_.getProperty(r.getOptions(),"axes");if(!!_.getProperty(a,"left","scaleType")&&_.getProperty(a,"left","scaleType")!==K.LABELS||!!_.getProperty(a,"right","scaleType")&&_.getProperty(a,"right","scaleType")!==K.LABELS||!!_.getProperty(a,"top","scaleType")&&_.getProperty(a,"top","scaleType")!==K.LABELS||!!_.getProperty(a,"bottom","scaleType")&&_.getProperty(a,"bottom","scaleType")!==K.LABELS)throw Error("Heatmap only supports label scaletypes.");return r}return e.prototype.getValueDomain=function(){var n=this.getDisplayData().map(function(i){return i.value}),r=Le(n),a=[];return r.forEach(function(i,o){var s=Number(i);o===0&&s>=0?s=0:s%10==0||s===0||(s<0?s=Math.floor(s/10)*10:s=Math.ceil(s/10)*10),a.push(s)}),a[0]<0&&a[1]>0&&(Math.abs(a[0])>a[1]?a[1]=Math.abs(a[0]):a[0]=-a[1]),a},e.prototype.getFillColor=function(n){return this._colorScale(n)},e.prototype.getUniqueDomain=function(){if(_.isEmpty(this._domains)){var n=this.getDisplayData(),r=this.services.cartesianScales,a=r.getDomainIdentifier(),i=r.getMainXAxisPosition(),o=r.getCustomDomainValuesByposition(i);if(o)return o;this._domains=Array.from(new Set(n.map(function(s){return s[a]})))}return this._domains},e.prototype.getUniqueRanges=function(){if(_.isEmpty(this._ranges)){var n=this.getDisplayData(),r=this.services.cartesianScales,a=r.getRangeIdentifier(),i=r.getMainYAxisPosition(),o=r.getCustomDomainValuesByposition(i);if(o)return o;this._ranges=Array.from(new Set(n.map(function(s){return s[a]})))}return this._ranges},e.prototype.getMatrix=function(){var n=this;if(_.isEmpty(this._matrix)){var r=this.getUniqueDomain(),a=this.getUniqueRanges(),i=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier(),s={};a.forEach(function(l){s[l]={value:null,index:-1}}),r.forEach(function(l){n._matrix[l]=_.clone(s)}),this.getDisplayData().forEach(function(l,u){n._matrix[l[i]][l[o]]={value:l.value,index:u}})}return this._matrix},e.prototype.setData=function(n){var r=this.sanitize(_.clone(n)),a=this.generateDataGroups(r);return this.set({data:r,dataGroups:a}),this._domains=[],this._ranges=[],this._matrix={},r},e.prototype.getMatrixAsArray=function(){var n=this;_.isEmpty(this._matrix)&&this.getMatrix();var r=this.getUniqueDomain(),a=this.getUniqueRanges(),i=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier(),s=[];return r.forEach(function(l){a.forEach(function(u){var c={value:n._matrix[l][u].value,index:n._matrix[l][u].index};c[i]=l,c[o]=u,s.push(c)})}),s},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.assignRangeAndDomains(),a=r.primaryDomain,i=r.primaryRange;r.secondaryDomain,r.secondaryRange;var o=yB([[a.label,i.label,"Value"]],n.map(function(s){return[s[a.identifier]===null?"&ndash;":s[a.identifier],s[i.identifier]===null?"&ndash;":s[i.identifier].toLocaleString(),s.value]}));return o},e.prototype.getColorClassName=function(n){return n.originalClassName+" "+this._colorScale(n.value)},e.prototype.setColorClassNames=function(){var n=this.getOptions(),r=_.getProperty(n,"color","gradient","colors"),a=!_.isEmpty(r),i=_.getProperty(n,"color","pairing","option"),o=this.getValueDomain(),s=o[0]<0&&o[1]>0?"diverge":"mono";(i<1&&i>4&&s==="mono"||i<1&&i>2&&s==="diverge")&&(i=1);var l=a?r:[];if(!a)for(var u=s==="diverge"?17:11,c=1;c<u+1;c++)l.push("fill-"+s+"-"+i+"-"+c);this._colorScale=up().domain(this.getValueDomain()).range(l)},e}(Nn),xB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$v=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r};(function(t){xB(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new _B(a.services),a.model.setOptions(_.mergeDefaultChartOptions(_t.heatmapChart,r.options)),a.init(n,r),a}return e.prototype.getAxisChartComponents=function(n,r){var a=this.model.getOptions(),i=_.getProperty(a,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var o=!!this.model.getOptions().title,s={id:"title",components:[new Ji(this.model,this.services)],growth:ct.STRETCH},l={id:"toolbar",components:[new zu(this.model,this.services)],growth:ct.PREFERRED},u={id:"header",components:[new Be(this.model,this.services,$v([s],i?[l]:[]),{direction:wt.ROW,alignItems:zn.CENTER})],growth:ct.PREFERRED},c={id:"legend",components:[new c2(this.model,this.services)],growth:ct.PREFERRED,renderType:tt.SVG},h={id:"graph-frame",components:n,growth:ct.STRETCH,renderType:tt.SVG},f=_.getProperty(r,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,p=wt.COLUMN_REVERSE,d={id:"spacer",components:[new kn(this.model,this.services,{size:15})],growth:ct.PREFERRED},g={id:"full-frame",components:[new Be(this.model,this.services,$v(f?[c]:[],f?[d]:[],[h]),{direction:p})],growth:ct.STRETCH},m=[];if(o||i){m.push(u);var x={id:"spacer",components:[new kn(this.model,this.services,i?{size:15}:void 0)],growth:ct.PREFERRED};m.push(x)}return m.push(g),[new Hd(this.model,this.services),new _u(this.model,this.services),new Be(this.model,this.services,m,{direction:wt.COLUMN})]},e.prototype.getComponents=function(){var n=[new ie(this.model,this.services),new EI(this.model,this.services)],r=this.getAxisChartComponents(n);return r},e})(oe);function bB(t){let e,n=[t[2],{id:t[1]}],r={};for(let a=0;a<n.length;a+=1)r=st(r,n[a]);return{c(){e=sc("div"),lc(e,r)},m(a,i){Zt(a,e,i),t[7](e)},p(a,[i]){lc(e,r=le(n,[i&4&&a[2],i&2&&{id:a[1]}]))},i:se,o:se,d(a){a&&zt(e),t[7](null)}}}function OB(t,e,n){const r=["Chart","chart","data","options","id","ref"];let a=Un(e,r),{Chart:i=void 0}=e,{chart:o=null}=e,{data:s=[]}=e,{options:l={}}=e,{id:u="chart-"+Math.random().toString(36)}=e,{ref:c=null}=e;const h=dg();fc(()=>{const p=c||document.getElementById(u);return p&&(n(3,o=new i(p,{data:s,options:l})),h("load",o)),()=>{o&&(o.components.forEach(d=>d.destroy()),n(3,o=null),h("destroy"))}});function f(p){dn[p?"unshift":"push"](()=>{c=p,n(0,c)})}return t.$$set=p=>{e=st(st({},e),Mt(p)),n(2,a=Un(e,r)),"Chart"in p&&n(4,i=p.Chart),"chart"in p&&n(3,o=p.chart),"data"in p&&n(5,s=p.data),"options"in p&&n(6,l=p.options),"id"in p&&n(1,u=p.id),"ref"in p&&n(0,c=p.ref)},t.$$.update=()=>{t.$$.dirty&104&&o&&(o.model.setData(s),o.model.setOptions(l),h("update",{data:s,options:l}))},[c,u,a,o,i,s,l,f]}class zv extends Qt{constructor(e){super();Kt(this,e,OB,bB,$t,{Chart:4,chart:3,data:5,options:6,id:1,ref:0})}}function TB(t){let e,n,r,a;const i=[t[2],{Chart:Gv}];function o(u){t[3](u)}function s(u){t[4](u)}let l={};for(let u=0;u<i.length;u+=1)l=st(l,i[u]);return t[1]!==void 0&&(l.ref=t[1]),t[0]!==void 0&&(l.chart=t[0]),e=new zv({props:l}),dn.push(()=>Na(e,"ref",o)),dn.push(()=>Na(e,"chart",s)),e.$on("load",t[5]),e.$on("update",t[6]),e.$on("destroy",t[7]),{c(){ce(e.$$.fragment)},m(u,c){ne(e,u,c),a=!0},p(u,[c]){const h=c&4?le(i,[c&4&&ue(u[2]),c&0&&{Chart:Gv}]):{};!n&&c&2&&(n=!0,h.ref=u[1],Ra(()=>n=!1)),!r&&c&1&&(r=!0,h.chart=u[0],Ra(()=>r=!1)),e.$set(h)},i(u){a||(At(e.$$.fragment,u),a=!0)},o(u){Dt(e.$$.fragment,u),a=!1},d(u){re(e,u)}}}function wB(t,e,n){const r=["chart","ref"];let a=Un(e,r),{chart:i=null}=e,{ref:o=null}=e;function s(f){o=f,n(1,o)}function l(f){i=f,n(0,i)}function u(f){Gn.call(this,t,f)}function c(f){Gn.call(this,t,f)}function h(f){Gn.call(this,t,f)}return t.$$set=f=>{e=st(st({},e),Mt(f)),n(2,a=Un(e,r)),"chart"in f&&n(0,i=f.chart),"ref"in f&&n(1,o=f.ref)},[i,o,a,s,l,u,c,h]}class hU extends Qt{constructor(e){super();Kt(this,e,wB,TB,$t,{chart:0,ref:1})}}function EB(t){let e,n,r,a;const i=[t[2],{Chart:Fv}];function o(u){t[3](u)}function s(u){t[4](u)}let l={};for(let u=0;u<i.length;u+=1)l=st(l,i[u]);return t[1]!==void 0&&(l.ref=t[1]),t[0]!==void 0&&(l.chart=t[0]),e=new zv({props:l}),dn.push(()=>Na(e,"ref",o)),dn.push(()=>Na(e,"chart",s)),e.$on("load",t[5]),e.$on("update",t[6]),e.$on("destroy",t[7]),{c(){ce(e.$$.fragment)},m(u,c){ne(e,u,c),a=!0},p(u,[c]){const h=c&4?le(i,[c&4&&ue(u[2]),c&0&&{Chart:Fv}]):{};!n&&c&2&&(n=!0,h.ref=u[1],Ra(()=>n=!1)),!r&&c&1&&(r=!0,h.chart=u[0],Ra(()=>r=!1)),e.$set(h)},i(u){a||(At(e.$$.fragment,u),a=!0)},o(u){Dt(e.$$.fragment,u),a=!1},d(u){re(e,u)}}}function SB(t,e,n){const r=["chart","ref"];let a=Un(e,r),{chart:i=null}=e,{ref:o=null}=e;function s(f){o=f,n(1,o)}function l(f){i=f,n(0,i)}function u(f){Gn.call(this,t,f)}function c(f){Gn.call(this,t,f)}function h(f){Gn.call(this,t,f)}return t.$$set=f=>{e=st(st({},e),Mt(f)),n(2,a=Un(e,r)),"chart"in f&&n(0,i=f.chart),"ref"in f&&n(1,o=f.ref)},[i,o,a,s,l,u,c,h]}class pU extends Qt{constructor(e){super();Kt(this,e,SB,EB,$t,{chart:0,ref:1})}}function Wv(t){let e,n;return{c(){e=be("title"),n=Ao(t[0])},m(r,a){Zt(r,e,a),Mo(e,n)},p(r,a){a&1&&ug(n,r[0])},d(r){r&&zt(e)}}}function MB(t){let e,n,r,a=t[0]&&Wv(t);const i=t[3].default,o=Oo(i,t,t[2],null);return{c(){e=be("svg"),a&&a.c(),n=Aa(),o&&o.c(),ee(e,"xmlns","http://www.w3.org/2000/svg"),ee(e,"viewBox",t[1]),ee(e,"class","svelte-c8tyih")},m(s,l){Zt(s,e,l),a&&a.m(e,null),Mo(e,n),o&&o.m(e,null),r=!0},p(s,[l]){s[0]?a?a.p(s,l):(a=Wv(s),a.c(),a.m(e,n)):a&&(a.d(1),a=null),o&&o.p&&(!r||l&4)&&wo(o,i,s,s[2],r?To(i,s[2],l,null):Eo(s[2]),null),(!r||l&2)&&ee(e,"viewBox",s[1])},i(s){r||(At(o,s),r=!0)},o(s){Dt(o,s),r=!1},d(s){s&&zt(e),a&&a.d(),o&&o.d(s)}}}function AB(t,e,n){let{$$slots:r={},$$scope:a}=e,{title:i=null}=e,{viewBox:o}=e;return t.$$set=s=>{"title"in s&&n(0,i=s.title),"viewBox"in s&&n(1,o=s.viewBox),"$$scope"in s&&n(2,a=s.$$scope)},[i,o,a,r]}class rn extends Qt{constructor(e){super();Kt(this,e,AB,MB,$t,{title:0,viewBox:1})}}function CB(t){let e;return{c(){e=be("path"),ee(e,"d","M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function PB(t){let e,n;const r=[{viewBox:"0 0 24 24"},t[0]];let a={$$slots:{default:[CB]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function DB(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class dU extends Qt{constructor(e){super();Kt(this,e,DB,PB,$t,{})}}function LB(t){let e;return{c(){e=be("path"),ee(e,"d","M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function RB(t){let e,n;const r=[{viewBox:"0 0 24 24"},t[0]];let a={$$slots:{default:[LB]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function kB(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class vU extends Qt{constructor(e){super();Kt(this,e,kB,RB,$t,{})}}function IB(t){let e;return{c(){e=be("path"),ee(e,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function NB(t){let e,n;const r=[{viewBox:"0 0 24 24"},t[0]];let a={$$slots:{default:[IB]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function BB(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class gU extends Qt{constructor(e){super();Kt(this,e,BB,NB,$t,{})}}function UB(t){let e;return{c(){e=be("path"),ee(e,"d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function VB(t){let e,n;const r=[{viewBox:"0 0 24 24"},t[0]];let a={$$slots:{default:[UB]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function GB(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class mU extends Qt{constructor(e){super();Kt(this,e,GB,VB,$t,{})}}function FB(t){let e;return{c(){e=be("path"),ee(e,"d","M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function HB(t){let e,n;const r=[{viewBox:"0 0 24 24"},t[0]];let a={$$slots:{default:[FB]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function $B(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class yU extends Qt{constructor(e){super();Kt(this,e,$B,HB,$t,{})}}function zB(t){const e=t-1;return e*e*e+1}function _U(t,{delay:e=0,duration:n=400,easing:r=zB}={}){const a=getComputedStyle(t),i=+a.opacity,o=parseFloat(a.height),s=parseFloat(a.paddingTop),l=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),h=parseFloat(a.borderTopWidth),f=parseFloat(a.borderBottomWidth);return{delay:e,duration:n,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*i};height: ${p*o}px;padding-top: ${p*s}px;padding-bottom: ${p*l}px;margin-top: ${p*u}px;margin-bottom: ${p*c}px;border-top-width: ${p*h}px;border-bottom-width: ${p*f}px;`}}function WB(t){let e;return{c(){e=be("path"),ee(e,"d","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function jB(t){let e,n;const r=[{viewBox:"0 0 320 512"},t[0]];let a={$$slots:{default:[WB]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function qB(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class xU extends Qt{constructor(e){super();Kt(this,e,qB,jB,$t,{})}}function YB(t){let e;return{c(){e=be("path"),ee(e,"d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function XB(t){let e,n;const r=[{viewBox:"0 0 448 512"},t[0]];let a={$$slots:{default:[YB]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function ZB(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class bU extends Qt{constructor(e){super();Kt(this,e,ZB,XB,$t,{})}}function KB(t){let e;return{c(){e=be("path"),ee(e,"d","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function QB(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let a={$$slots:{default:[KB]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function JB(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class OU extends Qt{constructor(e){super();Kt(this,e,JB,QB,$t,{})}}function tU(t){let e;return{c(){e=be("path"),ee(e,"d","M256 64v225.1c-12.6-7.3-27.1-11.7-42.7-11.7-47.1 0-85.3 38.2-85.3 85.3s38.2 85.3 85.3 85.3 85.3-38.2 85.3-85.3V149.3H384V64H256z")},m(n,r){Zt(n,e,r)},d(n){n&&zt(e)}}}function eU(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let a={$$slots:{default:[tU]},$$scope:{ctx:t}};for(let i=0;i<r.length;i+=1)a=st(a,r[i]);return e=new rn({props:a}),{c(){ce(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,[o]){const s=o&1?le(r,[r[0],ue(i[0])]):{};o&2&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(At(e.$$.fragment,i),n=!0)},o(i){Dt(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function nU(t,e,n){return t.$$set=r=>{n(0,e=st(st({},e),Mt(r)))},e=Mt(e),[e]}class TU extends Qt{constructor(e){super();Kt(this,e,nU,eU,$t,{})}}export{Eo as A,To as B,aU as C,hU as D,fU as E,pn as F,pU as G,La as H,lU as I,iU as J,fc as K,_U as L,gU as M,Ao as N,mU as O,dn as P,Na as Q,Ra as R,Qt as S,bU as T,xU as U,TU as V,OU as W,uU as X,cU as Y,ee as a,Zt as b,ce as c,Dt as d,sc as e,zt as f,re as g,dU as h,Kt as i,yU as j,vU as k,oU as l,ne as m,se as n,Mo as o,br as p,Aa as q,ko as r,$t as s,At as t,Io as u,Gn as v,Mr as w,Oo as x,sU as y,wo as z};
